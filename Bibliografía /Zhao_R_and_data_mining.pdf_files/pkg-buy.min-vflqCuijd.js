define("modules/clean/react/payments/buy/components/buy_component",["require","exports","tslib","classnames","modules/core/notify","react","classnames","modules/core/browser","modules/core/i18n","modules/clean/react/payments/buy/components/plan/buy_plan","modules/clean/react/async/loadable","modules/clean/web_timing_logger","modules/clean/stormcrow/stormcrow_exposure_logger","modules/clean/payments/skus/constants","modules/clean/react/payments/buy/types/types","modules/clean/viewer","modules/clean/react/payments/buy/components/headline","modules/clean/react/payments/buy/components/navigation","modules/clean/react/payments/buy/components/footer"],(function(e,t,a,r,n,o,s,i,u,c,l,p,d,m,y,f,g,_,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=a.__importDefault(r),o=a.__importDefault(o),s=a.__importDefault(s),i=a.__importStar(i);var S=l.Loadable({loader:function(){return p.waitForTTI().then((function(){return new Promise((function(t,a){e(["modules/clean/react/payments/buy/components/payments/sox_compliance_warning"],t,a)})).then(a.__importStar).then((function(e){return e.SOXComplianceBanner}))}))}}),P=(function(t){function l(r){var s=t.call(this,r)||this;return s.renderCustomizedMsg=!1,s.logExperiments=function(){var e=s.props,t=e.experiments,a=e.currentStep,r=e.suggestedUser;2===a&&r&&d.logVariantExposure("subgrowth_buy_universal_preauth",t.subgrowthBuyUniversalPreauth)},s.redirectToPromo=function(){i.redirect(s.props.promoRedirect),n.Notify.success(u.intl.formatMessage({defaultMessage:"Great news! You’re eligible for a discount"}))},s.headline=o.default.createRef(),s.checkIsSmartSyncUpsell(["V1","V2","V3"])?(s.renderCustomizedMsg=!0,p.waitForTTI().then((function(){new Promise((function(t,a){e(["modules/clean/growth/smartsync_upsell/smartsync_upsell_tracker"],t,a)})).then(a.__importStar).then((function(e){var t=e.SmartSyncUpsellTracker;s.tracker=new t(f.Viewer.get_viewer().get_users()[0].id)}))}))):"stsp"===i.get_uri().getQuery().oqa&&(s.renderCustomizedMsg=!0),s}return a.__extends(l,t),l.prototype.componentDidMount=function(){p.mark_time_to_interactive(),this.logExperiments()},l.prototype.componentDidUpdate=function(e,t){e.currentStep!==this.props.currentStep&&this.logExperiments()},Object.defineProperty(l.prototype,"ujProfessionalTrial",{get:function(){return"ON"===this.props.experiments.ujProfessionalTrial},enumerable:!0,configurable:!0}),l.prototype.renderHeadline=function(){var e=this.props,t=e.content,a=e.currentStep,r=e.productPlanType,n=e.showTrialVersion,s=e.showPlusTryRedesign,i=y.getPlanContentFromMap(t,r),c=n?i.trySubheadline:i.buySubheadline;this.renderCustomizedMsg&&(c=u.intl.formatMessage({defaultMessage:"You’re one step away from freeing up hard drive space with Smart Sync"}));var l=t.purchaseHeadline;return s&&(l=t.trialHeadline),o.default.createElement(g.DropboxBuyHeadlineWeb,{expIsSimplifiedPlansOn:this.renderCustomizedMsg,forwardRef:this.headline,headlineText:1===a?t.chooseHeadline:l,subheadlineText:c})},l.prototype.checkIsSmartSyncUpsell=function(e){return"getSmartSync"===i.get_uri().getQuery().referrer&&e.includes(String(this.props.experiments.ujGetSmartSync))},l.prototype.hideSteps=function(){var e=this.props,t=e.currentStep,a=e.experiments,r=e.defaultPlan,n=e.isFromLowSpace,o=e.showTrialVersion,s=e.showPlusTryRedesign,u=i.get_uri().getQuery(),c=["V1","V2"].includes(String(a.proBizMve))&&"1"===u.hs&&2===t&&"professional"===r&&o;return!!(n||s||c)},l.prototype.renderPlans=function(){var e=this,t=this.props,a=t.content,n=t.currentPlan,i=t.experiments,u=t.hasPromo,l=t.planClick,p={Professional:y.getPlanContentFromMap(a,m.ProductPlanType.PROFESSIONAL),Plus:y.getPlanContentFromMap(a,m.ProductPlanType.PLUS)},d="professional"===n,f="plus"===n,g=function(t){var a=t.productPlanType,r=t.showTrialVersion;return function(){return l(a,Boolean(r),e.headline.current||void 0)}},_="ON"===i.subgrowthProBuyFeaturesMobile,h=r.default({"DropboxBuyPage-plansAndReasons":!0,grid__item:!0,"grid__item--medium--5-12":!0,"grid__item--large--1-3":!0,"DropboxBuyPage-plansAndReasons--showReasonsOnMobile":_}),S=function(e){var t=e.plan,a=e.onClick,r=e.secondaryClick,n=e.disabled,u=e.href,l=e.boldFirstReason,p=e.trackingId,d=e.secondaryTrackingId;return o.default.createElement("div",{className:h},o.default.createElement(c.BuyPlan,{trackingId:p,secondaryTrackingId:d,plan:t,onClick:a,secondaryClick:r,classname:"buy-plan",disabled:n,href:u,experiments:i}),o.default.createElement("span",{className:"ax-visually-hidden"},t.included.title),o.default.createElement("ul",{className:"DropboxBuyPage__reasons",role:"list"},t.reasons.map((function(e,t){var a;return o.default.createElement("li",{className:s.default("DropboxBuyPage__reason",(a={},a["DropboxBuyPage__reason--bold"]=l&&0===t,a)),key:"reason-"+t},e.text)}))))};return o.default.createElement("section",{className:"DropboxBuyPage__plans grid__container"},o.default.createElement(S,{plan:p.Plus,onClick:u?this.redirectToPromo:g({productPlanType:m.ProductPlanType.PLUS}),disabled:!d&&f,trackingId:"buy_page_select_plus"}),o.default.createElement("div",{className:"spacer grid__item--medium--1-24"}),f?o.default.createElement(S,{plan:p.Professional,href:"/account/plan?modal=plan&option=pro",trackingId:"buy_page_select_pro"}):this.ujProfessionalTrial?o.default.createElement(S,{plan:p.Professional,onClick:g({productPlanType:m.ProductPlanType.PROFESSIONAL,showTrialVersion:!0}),secondaryClick:g({productPlanType:m.ProductPlanType.PROFESSIONAL}),disabled:d,trackingId:"buy_page_select_pro",secondaryTrackingId:"buy_page_select_pro_secondary"}):o.default.createElement(S,{plan:p.Professional,onClick:g({productPlanType:m.ProductPlanType.PROFESSIONAL}),disabled:d,trackingId:"buy_page_select_pro"}))},l.prototype.renderCheckOutForm=function(){var e=this.props,t=e.actions,a=e.checkoutFormProps,r=e.content,n=e.experiments,s=e.formData,i=e.pageState,u=e.pricingState,c=e.productPlanType,l=e.PurchaseFormComponent,p=e.showTrialVersion,d=e.isFromLowSpace,f=e.updateHistory,g=e.useAUTaxInclusivePricing,_=e.showPlusTryRedesign,h=y.getPlanContentFromMap(r,c),S={monthlyPrice:h.priceMonthly.price,annualPriceAsMonthly:h.priceAnnual.priceAsMonthly,yearlyPrice:h.priceAnnual.price,yearlyWithoutSavings:h.priceAnnual.withoutSavings,yearlySavings:h.priceAnnual.savings},P=y.getPlanContentFromMap(r,m.ProductPlanType.PLUS),b=y.getPlanContentFromMap(r,m.ProductPlanType.PROFESSIONAL),v={plus:P.quota,professional:b.quota};return o.default.createElement(l,{actions:t,braintreeClientToken:a.braintreeClientToken,buyLink:h.cta.link,ccIframeUrl:a.ccIframeUrl,continueURI:a.continueURI,countryList:a.countryList,currencyToFormatMap:a.currencyToFormatMap,experiments:n,formData:s,idealBanks:a.idealBanks,iframeExperiments:a.iframeExperiments,includedFeaturesContent:h.included,locale:a.locale,localeNumberFormat:a.localeNumberFormat,pageState:i,paymentMethodMapper:a.paymentMethodMapper,planName:h.name,plansByType:r.plansByType,planTier:h.tier,planNamePrefixedWithDropbox:h.namePrefixedWithDropbox,productPlanType:c,pricingState:u,isFromLowSpace:d,initialPricingStrings:u.subChangePlans?void 0:S,quotaStrings:v,updateHistory:f,trialLength:a.trialLength,taxNamesByCountry:a.taxNamesByCountry,userInfo:a.userInfo,showCpf:n.showCpf,showCpfName:n.showCpfName,showTrialVersion:p,useAUTaxInclusivePricing:g,submitFormSuccess:i.submitFormSuccess,showPlusTryRedesign:_})},l.prototype.renderFooter=function(){var e,t=this.props,a=t.currentStep,r=t.pageState.footerLinks;if(r&&r.length){var n=function(e){var t=e.toLowerCase();return t.charAt(0).toUpperCase()+t.slice(1)};e=r.map((function(e){return{section:n(e.section),links:e.links.filter((function(e){return e.href&&e.label})).map((function(e){return{href:e.href,label:n(e.label)}}))}}))}return o.default.createElement(h.DropboxBuyFooterWeb,{footerLinks:e,currentStep:a})},l.prototype.render=function(){var e=this.props,t=e.currentStep,a=e.SOXComplianceMessage,n=e.stepClick,s=r.default({DropboxBuyPage__content:!0,grid__container:!0,"grid--x-left":!0});return o.default.createElement("main",{className:s},a&&o.default.createElement(S,{message:a}),this.renderHeadline(),o.default.createElement(_.DropboxBuyNavigationWeb,{currentStep:t,hideSteps:this.hideSteps()||!1,onStepClick:n,expIsSimplifiedPlansOn:this.renderCustomizedMsg,tracker:this.tracker}),1===t&&this.renderPlans(),o.default.createElement("section",{className:"DropboxBuyPage__form grid__container"},2===t&&this.renderCheckOutForm()),this.renderFooter())},l})(o.default.Component);t.BuyComponent=P})),define("modules/clean/react/payments/buy/components/dropbox_buy_page",["require","exports","tslib","modules/clean/ajax","modules/core/exception","modules/core/notify","react","modules/clean/analytics","modules/core/browser","modules/core/uri","modules/clean/react/async/loadable","modules/clean/payments/skus/pricing_data","modules/clean/payments/skus/subscription_change_plan","modules/clean/web_timing_logger","modules/clean/stormcrow/stormcrow_exposure_logger","modules/clean/analytics","modules/clean/payments/skus/constants","modules/clean/web_timing_logger","modules/clean/react/payments/common/adapters/setup_cash","modules/clean/react/payments/buy/state/pro_store_creator","modules/clean/react/payments/buy/actions/buy_actions_creator","modules/clean/react/payments/buy/reducers/reducers","modules/clean/react/payments/buy/types/types","modules/clean/viewer","modules/clean/react/payments/buy/components/buy_component"],(function(e,t,a,r,n,o,s,i,u,c,l,p,d,m,y,f,g,_,h,S,P,b,v,C,F){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=a.__importStar(r),n=a.__importStar(n),s=a.__importDefault(s),u=a.__importStar(u),_=a.__importStar(_);var w=l.Loadable({loader:function(){return a.__awaiter(void 0,void 0,void 0,(function(){return a.__generator(this,(function(t){switch(t.label){case 0:return[4,new Promise((function(t,a){e(["modules/clean/react/payments/pro/server_view_components/pro_try_server_view"],t,a)})).then(a.__importStar)];case 1:return[2,t.sent().ProTryServerView]}}))}))},loading:s.default.createElement("div",null)}),T=l.Loadable({loader:function(){return m.waitForTTI().then((function(){return new Promise((function(t,a){e(["modules/clean/react/payments/buy/components/buy_purchase_form"],t,a)})).then(a.__importStar).then((function(e){return e.BuyPurchaseForm}))}))}}),N=(function(t){function l(r){var n,o=t.call(this,r)||this;o.isInPlusTryRedesignExp=function(){var e=o.props,t=e.experiments,a=e.showTrialVersion;return o.getProductPlanType()===g.ProductPlanType.PLUS&&!!a&&a&&"V1"===t.actpaPlusTryRedesign},o.planClick=function(e,t,a){void 0===t&&(t=!1);var r={currentStep:2,productPlanType:e,showTrialVersion:t},n=o.getStoreProps(r);Promise.resolve(o.actions.updateState(n)).then((function(){window.scrollTo(0,0),o.updateHistory(2,e,void 0,t),a&&a.focus()})),i.ProEventsLogger.log(i.ProEventNames.BUY_TRY_PAGE_CHECKOUT,{type:"SelectPlan",productPlanType:e,showTrialVersion:t},void 0,o.props.showServerViewVersion)},o.stepClick=function(){Promise.resolve(o.actions.updateCurrentPage(1,o.state.navState.productPlanType,o.state.navState.showTrialVersion)).then((function(){window.scrollTo(0,0),o.updateHistory(1,o.state.navState.productPlanType,void 0,o.state.navState.showTrialVersion)}))},o.updateHistory=function(e,t,a,r){void 0===r&&(r=!1);var n=o.props.showServerViewVersion,s=c.URI.parse(u.get_href()).getQuery(),i="/buy",l="buy";if(2===e){var p=v.getPlanContentFromMap(o.contentForStep,t),d=t===g.ProductPlanType.PLUS?"plus":"professional";r?(i=p.cta.trial_link||"",l="try_"+d):(i=p.cta.link,l="buy_"+d)}n&&(i="/pro/try_server_view",l+="_server_view"),f.UXAnalyticsLogger.log("page_view",{page:l});var m=c.URI.parse(i).setQuery(s).toString();a?window.history.replaceState(o.state,document.title,m):window.history.pushState(o.state,document.title,m)},o.navAction=function(e){if(e.state&&e.state.navState){var t=o.getStoreProps(e.state.navState);o.actions.updateState(t)}};var s=r.checkoutFormProps,l=r.webTimingLoggerServerContext;h.setupCash(s.localeNumberFormat,s.currencyToFormatMap),l&&_.initialize_module(a.__assign({log_time_to_interactive:!0,log_time_to_view:!0,ttv_at_dom_interactive:!0,tti_at_dom_interactive:!0},l));var p=o.getStoreProps();return o.store=S.configureStore(p,b.proBuyReducer),o.state=o.store.getState(),o.store.subscribe((function(){o.setState((function(){return o.store.getState()}))})),o.checkIsSmartSyncUpsell(["V1","V2","V3"])&&m.waitForTTI().then((function(){new Promise((function(t,a){e(["modules/clean/growth/smartsync_upsell/smartsync_upsell_tracker"],t,a)})).then(a.__importStar).then((function(e){var t=e.SmartSyncUpsellTracker;o.tracker=new t(C.Viewer.get_viewer().get_users()[0].id)}))})),(null===(n=o.state.pageState.marketingTracker)||void 0===n?void 0:n.initData)&&m.waitForTTI().then((function(){new Promise((function(t,a){e(["modules/clean/marketing_tracker"],t,a)})).then(a.__importStar).then((function(e){var t,a=e.MarketingTracker;(null===(t=o.state.pageState.marketingTracker)||void 0===t?void 0:t.initData)&&a.push(o.state.pageState.marketingTracker.initData)}))})),o}return a.__extends(l,t),l.prototype.getStoreProps=function(e){var t=this.props,a=t.checkoutFormProps,r=t.requestId,n=t.showTrialVersion,o=t.suggestedUser,s=t.experiments,i=t.preauthUser,u=t.showServerViewVersion,c=t.isFromLowSpace,l=t.marketingTracker,p=t.content,d=e?e.productPlanType:this.getProductPlanType(),m=e||{currentStep:this.getCurrentStep(),productPlanType:this.getProductPlanType(),showTrialVersion:!!n},f=!1;return d!==g.ProductPlanType.PLUS||m.showTrialVersion||(s.subgrowthProBuyQuotaSwitchTrial&&["CONTROL","V1"].includes(s.subgrowthProBuyQuotaSwitchTrial)&&y.logVariantExposure("subgrowth_pro_buy_quota_switch_trial",s.subgrowthProBuyQuotaSwitchTrial),("V1"===s.subgrowthProBuyQuotaSwitchTrial||c)&&(f=!0)),{autocompleteForm:a.autocompleteForm,countryCode:a.countryCode,vat:a.vat,locale:a.locale,userInfo:a.userInfo,trialLength:a.trialLength,serializedPaymentFormSpec:a.serializedPaymentFormSpec,serializedSubChangePlans:void 0,baseSubChangePlans:this.state?this.state.pricingState.baseSubChangePlans:void 0,productPlanType:d,isServerView:u?"ON":"OFF",navState:m,showTrialVersion:m.showTrialVersion,suggestedUser:o,preauthUser:i,showPlanSwitchRadios:f,footerLinks:this.state?this.state.pageState.footerLinks:void 0,optimizeCpf:"V1"===s.subgrowthProBuyBrCpfCollectionOptimization,requestId:r,paymentFormErrorsExperiment:s.paymentFormErrorsExperiment,showCpf:s.showCpf,psd2AddressFields:s.psd2AddressFields,marketingTracker:l,plansContent:p.plansByType}},Object.defineProperty(l.prototype,"actions",{get:function(){return P.bindProBuyActions(this.store)},enumerable:!0,configurable:!0}),l.prototype.checkIsSmartSyncUpsell=function(e){return"getSmartSync"===u.get_uri().getQuery().referrer&&e.includes(String(this.props.experiments.ujGetSmartSync))},l.prototype.getCurrentStep=function(){return this.props.defaultPlan?2:1},l.prototype.getProductPlanType=function(){var e=this.props.currentPlan;return"plus"===e||"professional"===e?g.ProductPlanType.PROFESSIONAL:this.props.defaultPlan&&"professional"===this.props.defaultPlan?g.ProductPlanType.PROFESSIONAL:g.ProductPlanType.PLUS},Object.defineProperty(l.prototype,"contentForStep",{get:function(){return 1!==this.state.navState.currentStep&&this.state.pageState.plansContent?a.__assign(a.__assign({},this.props.content),{plansByType:this.state.pageState.plansContent}):this.props.content},enumerable:!0,configurable:!0}),l.prototype.componentDidMount=function(){var t=this;this.updateHistory(this.state.navState.currentStep,this.state.navState.productPlanType,!0,this.state.navState.showTrialVersion),window.addEventListener("popstate",this.navAction);for(var s=document.querySelectorAll(".dws-preloader"),i=0;i<s.length;i++){var u=s[i];u.parentNode&&u.parentNode.removeChild(u)}r.WebRequest({url:"/buy/footer_links",type:"GET",success:function(e){var a=JSON.parse(e);t.actions.setFooterLinks(a)}});var c=this.props.showServerViewVersion?"buy_server_view":"buy";r.SilentBackgroundRequest({url:"/growth/log_visit_ajax",type:"POST",data:a.__assign({endpoint:c,log_preauth:!0,additional_preauth_types:"preauth_pro_upgrade"},this.props.loggingProps)}),r.WebRequest({url:"/pro/ajax_fetch_sub_change_plans",type:"POST",success:function(e){var a=JSON.parse(e);if(0===a.length)o.Notify.error(p.PricingDataException.notifyErrorMessagePersonal,20),n.reportException({err:new Error("/pro/ajax_fetch_sub_change_plans returned 0 Subscription Change Plans"),severity:n.SEVERITY.NONCRITICAL});else{var r=a.map((function(e){return d.SubscriptionChangePlan.deserialize(e)}));t.actions.loadSubChangePlans(r)}},error:function(e,t,a){if(0!==e.status){o.Notify.error(p.PricingDataException.notifyErrorMessagePersonal,20);var r="/pro/ajax_fetch_sub_change_plans failed to return Subscription Change Plans (status: "+e.status+")";n.reportException({err:new Error(r),severity:n.SEVERITY.CRITICAL})}}}),this.checkIsSmartSyncUpsell(["V2","V3"])&&m.waitForTTI().then((function(){new Promise((function(t,a){e(["modules/clean/growth/smartsync_upsell/smartsync_upsell_tracker"],t,a)})).then(a.__importStar).then((function(e){var a=e.SmartSyncUpsellActions;t.tracker.track(a.SMARTSYNC_UPSELLS_RENDER_TRY_PRO)}))}))},l.prototype.componentWillUnmount=function(){window.removeEventListener("popstate",this.navAction)},l.prototype.render=function(){var e=this.props,t=e.checkoutFormProps,r=e.content.purchaseHeadline,n=e.currentPlan,o=e.defaultPlan,i=e.experiments,u=e.hasPromo,c=e.isFromLowSpace,l=e.promoRedirect,p=e.PurchaseFormComponent,d=e.showServerViewVersion,m=e.SOXComplianceMessage,y=e.suggestedUser,f=e.useAUTaxInclusivePricing,g=this.state,_=g.navState,h=_.currentStep,S=_.productPlanType,P=_.showTrialVersion,b=g.formData,C=g.pageState,T=g.pricingState,N=this.state.pageState.plansContent,E={actions:this.actions,experiments:i,formData:b,isFromLowSpace:c,pageState:C,plansByType:N,productPlanType:S,showTrialVersion:P,SOXComplianceMessage:m};if(d){var V=v.getPlanContentFromMap(this.contentForStep,S),k=a.__assign(a.__assign({},E),{ccIframeUrl:t.ccIframeUrl,continueURI:t.continueURI,countryList:t.countryList,currentPlanContent:V,currentTransitionPrices:T.currentTransitionPrices,displayPrices:T.displayPrices,headlineText:r,idealBanks:t.idealBanks,iframeExperiments:t.iframeExperiments,loadingPrices:T.loadingPrices,locale:t.locale,showCpf:i.showCpf,showCpfName:i.showCpfName,submitFormSuccess:C.submitFormSuccess,taxNamesByCountry:t.taxNamesByCountry,useAUTaxInclusivePricing:f||!1,userInfo:t.userInfo,requestId:this.props.requestId});return s.default.createElement(w,a.__assign({},k))}var I=a.__assign(a.__assign({},E),{checkoutFormProps:t,content:this.contentForStep,currentStep:h,currentPlan:n,defaultPlan:o,hasPromo:u,planClick:this.planClick,pricingState:T,promoRedirect:l,PurchaseFormComponent:p,stepClick:this.stepClick,suggestedUser:y,updateHistory:this.updateHistory,useAUTaxInclusivePricing:f,showPlusTryRedesign:this.isInPlusTryRedesignExp()});return s.default.createElement(F.BuyComponent,a.__assign({},I))},l.defaultProps={PurchaseFormComponent:T},l})(s.default.Component);t.DropboxBuyPage=N,t.RootComponent=N})),define("modules/clean/react/payments/buy/components/dropbox_buy_checkout",["require","exports","tslib","react","modules/clean/react/payments/buy/components/buy_purchase_form","modules/clean/react/payments/buy/components/dropbox_buy_page"],(function(e,t,a,r,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.render=function(){return r.default.createElement(o.DropboxBuyPage,a.__assign({PurchaseFormComponent:n.BuyPurchaseForm},this.props))},t})((r=a.__importDefault(r)).default.Component);t.DropboxBuyPage=s})),define("modules/clean/react/payments/buy/components/headline",["require","exports","tslib","classnames","react"],(function(e,t,a,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=a.__importDefault(r),n=a.__importDefault(n),t.DropboxBuyHeadlineWeb=function(e){var t=e.expIsSimplifiedPlansOn,a=e.forwardRef,o=e.headlineText,s=e.subheadlineText,i=r.default({DropboxBuyPage__headline:!0,grid__container:!0,DropboxBuyPage__headline__smartsync:t}),u=r.default({DropboxBuyPage__subheadline:!0,grid__container:!0}),c=s?n.default.createElement("h2",{className:u},s):null;return n.default.createElement(n.default.Fragment,null,n.default.createElement("h1",{className:i,tabIndex:-1,ref:a},o),c)}})),define("modules/clean/react/payments/buy/components/footer",["require","exports","tslib","react","modules/clean/web_timing_logger","modules/clean/react/async/loadable"],(function(e,t,a,r,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=a.__importDefault(r);var s=o.Loadable({loader:function(){return n.waitForTTI().then((function(){return new Promise((function(t,a){e(["modules/clean/react/rebrand/elements/rebrand_arbor_footer_component"],t,a)})).then(a.__importStar).then((function(e){return e.RebrandArborMinimalFooterComponent}))}))}}),i=o.Loadable({loader:function(){return n.waitForTTI().then((function(){return new Promise((function(t,a){e(["modules/clean/react/rebrand/elements/rebrand_arbor_footer_component"],t,a)})).then(a.__importStar).then((function(e){return e.RebrandArborFooterComponent}))}))}});t.DropboxBuyFooterWeb=function(e){var t=e.footerLinks;return 1!==e.currentStep?r.default.createElement(s,{localeSelectorWithoutCss:!0}):t&&t.length?r.default.createElement(i,{backgroundColor:"white",textColor:"black",content:t,localeSelectorWithoutCss:!0}):null}})),define("modules/clean/react/payments/buy/components/navigation",["require","exports","tslib","classnames","react","modules/core/i18n","modules/clean/web_timing_logger"],(function(e,t,a,r,n,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=a.__importDefault(r),n=a.__importDefault(n),t.DropboxBuyNavigationWeb=function(t){var i=[],u=t.currentStep;if(t.expIsSimplifiedPlansOn){return n.default.createElement("a",{href:"/plans",onClick:function(){s.waitForTTI().then((function(){new Promise((function(t,a){e(["modules/clean/growth/smartsync_upsell/smartsync_upsell_tracker"],t,a)})).then(a.__importStar).then((function(e){var a=e.SmartSyncUpsellActions;t.tracker.track(a.SMARTSYNC_UPSELLS_ALL_PLANS)}))}))},className:"DropboxBuyPage__allplans"},o.intl.formatMessage({defaultMessage:"See all plans"}))}if(!t.hideSteps){i=[1,2].map((function(e){var a=r.default({DropboxBuyPage__step:!0,"DropboxBuyPage__step--currentStep":e===u,"DropboxBuyPage__step--clickable":1===e&&2===u});return 2===u&&1===e?n.default.createElement("button",{className:a,key:"step-"+e,onClick:t.onStepClick},o.intl.formatMessage({defaultMessage:"Step {step}"},{step:e})):n.default.createElement("span",{className:a,key:"step-"+e},o.intl.formatMessage({defaultMessage:"Step {step}"},{step:e}))}))}var c=r.default({DropboxBuyPage__steps:!0,grid__container:!0}),l=o.intl.formatMessage({defaultMessage:"Current step is {current_step} of 2"},{current_step:u});return n.default.createElement("div",{className:c},n.default.createElement("span",{className:"ax-visually-hidden"},l),n.default.createElement("span",{"aria-hidden":"true"},i))}})),define("modules/clean/react/payments/buy/components/plan/buy_plan",["require","exports","tslib","classnames","react-intl","react","modules/core/i18n","modules/clean/web_timing_logger","modules/clean/react/css","modules/clean/react/payments/buy/types/types","modules/clean/react/rebrand/elements/rebrand_buttons","modules/clean/react/payments/buy/components/plan/plan_card","spectrum-arbor/atoms/arbor_copy","spectrum-arbor/atoms/arbor_headline"],(function(e,t,a,r,n,o,s,i,u,c,l,p,d,m){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=a.__importDefault(r),o=a.__importDefault(o),i=a.__importStar(i);var y=(function(e){function t(t){var a=e.call(this,t)||this;return a.state={namespace:"BuyPlan"},a}return a.__extends(t,e),t.prototype.isEligibleForTrialByTier=function(e){var t=this.props.experiments;if(!t)return!1;switch(e){case c.BuyPagePlanTiers.PROFESSIONAL:return"ON"===t.ujProfessionalTrial;default:return!1}},t.prototype.getPricingStrings=function(){var e,t,a,r=this.props.plan,i=r.priceMonthly,u=r.priceAnnual,c=r.gstIncluded;if(c){var l=n.defineMessage({defaultMessage:"{price} / {duration}{line_break}({tax_string})"});e=s.intl.formatMessage(l,{price:u.priceAsMonthly,duration:i.duration,tax_string:c,line_break:"\n"}),a=s.intl.formatMessage(l,{price:u.priceAsMonthly,duration:i.duration,tax_string:c,line_break:o.default.createElement("br",null)}),t=s.intl.formatMessage({defaultMessage:"{price} per {duration}. {tax_string}"},{price:u.priceAsMonthly,duration:i.duration,tax_string:c})}else a=e=s.intl.formatMessage({defaultMessage:"{price} / {duration}"},{price:u.priceAsMonthly,duration:i.duration}),t=s.intl.formatMessage({defaultMessage:"{price} per {duration}"},{price:u.priceAsMonthly,duration:i.duration});return{primaryPrice:e,primaryPriceRichText:a,primaryPriceAx:t,secondaryPrice:s.intl.formatMessage({defaultMessage:"{price} / {duration} (save {savings})"},{price:u.price,duration:u.duration,savings:u.savings}),secondaryPriceAx:s.intl.formatMessage({defaultMessage:"{price} per {duration}. Save {savings}"},{price:u.price,duration:u.duration,savings:u.savings})}},t.prototype.renderCTA=function(){var e,t,n,i=this.props,u=i.secondaryClick,c=i.plan,p=i.onClick,d=i.disabled,m=i.href,y=i.trackingId,f=i.secondaryTrackingId,g=this.state.namespace,_={className:g+"__cta",importance:"primary",size:"medium",disabled:d};if(p){var h=d?s.intl.formatMessage({defaultMessage:"{plan_name} is your current plan"},{plan_name:c.name}):s.intl.formatMessage({defaultMessage:"Select Dropbox {plan_name}"},{plan_name:c.name}),S=a.__assign({onClick:p,type:"button",ariaLabel:h,trackingId:y},_);t=o.default.createElement(l.RebrandButton,a.__assign({},S),d?s.intl.formatMessage({defaultMessage:"Your current plan"}):c.cta.text)}else if(m){var P=a.__assign({href:m},_);t=o.default.createElement(l.RebrandButtonAnchor,a.__assign({},P),c.cta.text)}if(this.isEligibleForTrialByTier(c.tier)&&u){var b=r.default(g+"__secondary-cta","button-as-link"),v=s.intl.formatMessage({defaultMessage:"Or buy {plan} now"},{plan:c.namePrefixedWithDropbox});n=o.default.createElement("button",{className:b,onClick:u,"data-uxa-log":f},v)}var C=r.default(g+"__cta-container",((e={})[g+"__cta-container__extra-padding"]=!n,e));return o.default.createElement("div",{className:C},t,n)},t.prototype.componentDidMount=function(){i.mark_time_to_interactive()},t.prototype.render=function(){var e=this.state.namespace,t=this.props,a=t.hideDivider,r=t.plan,n=this.getPricingStrings(),i=r.name,u="blue";r.tier===c.BuyPagePlanTiers.PLUS&&(u="black");var l=o.default.createElement(o.default.Fragment,null,o.default.createElement(m.ArborHeadline,{"aria-hidden":"true",className:"plan-card__content__subheader--primary plan-card__content__subheader--no-margin",tag:"h4"},n.primaryPriceRichText),o.default.createElement("span",{className:"ax-visually-hidden"},n.primaryPrice),o.default.createElement(d.ArborCopy,{tag:"p",size:"small",color:"shark",marginBottomSize:"medium",marginTopSize:"none"},s.intl.formatMessage({defaultMessage:"when billed yearly"})));return o.default.createElement(p.PlanCard,{classname:e+" "+e+"__"+i+" "+this.props.classname,title:i,planColor:u,hideDivider:a,primarySubheader:l,description:r.description},this.renderCTA())},t})(o.default.Component);t.BuyPlan=u.requireCssWithComponent(y,["/static/css/buy/components/buy_plan-vflJkL3sJ.css","/static/js/spectrum-arbor/index.web-vflU7A0u9.css"])})),define("modules/clean/react/payments/buy/components/plan/plan_card",["require","exports","tslib","react","modules/clean/react/css","modules/clean/web_timing_logger"],(function(e,t,a,r,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=a.__importDefault(r),o=a.__importStar(o);var s=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.componentDidMount=function(){o.mark_time_to_interactive()},t.prototype.render=function(){var e=this.props,t=e.classname,a=e.planColor,n=e.title,o=e.primarySubheader,s=e.description,i=e.hideDivider;return r.default.createElement("section",{className:t+" plan-card"},r.default.createElement("div",{className:"plan-card__card-top--"+a}),r.default.createElement("article",{className:"plan-card__content"},r.default.createElement("h2",{className:"plan-card__content__title"},n),r.default.createElement("div",null,o),!i&&r.default.createElement("hr",{"aria-hidden":"true",className:"plan-card__content__divider"}),r.default.createElement("p",{className:"plan-card__content__description"},s),this.props.children))},t})(r.default.PureComponent);t.PlanCard=n.requireCssWithComponent(s,["/static/css/growth_pages/plans/plan_card-vflpaOLUr.css"])})),define("modules/clean/react/payments/common/middleware/pro_buy_logger",["require","exports","modules/clean/analytics","modules/clean/payments/skus/constants","modules/clean/payments/payment_form/payment_form_spec"],(function(e,t,a,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.proBuyLogger=function(e){var t,o,s,i,u,c=["UpdateFirstName","UpdateLastName","UpdateEmail","UpdatePassword","UpdateZipCode","UpdateAccountHolderName","UpdateIBAN"];return function(l){return function(p){try{var d=l(p),m=p.type,y=e.getState(),f=y.pageState,g=y.pricingState,_=y.formData,h=y.navState,S=void 0;if(-1!==c.indexOf(m)&&o===m)return d;if("UpdateTransitionsStart"===m?t=(new Date).getTime():"UpdateTransitionsSuccess"!==m&&"UpdateTransitionsError"!==m||(S=(((new Date).getTime()-t)/1e3).toFixed(1)),"UpdateSelectedUser"===m||"ToggleNewAccount"===m)return d;var P={type:m,submitButtonState:f.submitting||g.loadingPrices?"disabled":"enabled"};if(void 0!==S&&(P.roundtrip=S),"UpdateSchedule"===m){var b="Unknown";_.scheduleId.rawValue===r.ScheduleId.MONTHLY?b="SelectMonthly":_.scheduleId.rawValue===r.ScheduleId.YEARLY&&(b="SelectYearly"),P.event=b}else if("UpdatePaymentMethod"===m){var v="Unknown";_.paymentMethod.rawValue===n.PaymentMethod.CreditCard?v="SelectCredit":_.paymentMethod.rawValue===n.PaymentMethod.PayPal?v="SelectPaypal":_.paymentMethod.rawValue===n.PaymentMethod.DirectDeposit?v="SelectDebit":_.paymentMethod.rawValue===n.PaymentMethod.Ideal&&(v="SelectIdeal"),P.event=v}else if("UpdateNonce"===m){var C=!1,F=_.nonce,w=F.isCCNValid,T=F.isCCodeValid,N=F.isCCExpValid;if(null!==s&&null!==u&&null!==i&&s===w&&u===T&&i===N&&(C=!0),s=w,u=T,i=N,C)return d;P.UpdateCC=w?"Valid":"Invalid",P.UpdateCVV=T?"Valid":"Invalid",P.UpdateExp=N?"Valid":"Invalid",o=m}return _.productPlanType.rawValue&&(P.productPlanType=_.productPlanType.rawValue,P.showTrialVersion=h&&h.showTrialVersion?"true":"false"),a.ProEventsLogger.log(a.ProEventNames.BUY_TRY_PAGE_CHECKOUT,P,void 0,f.isServerView),-1!==c.indexOf(m)&&(o=m),d}catch(t){f=e.getState().pageState;throw a.ProEventsLogger.log(a.ProEventNames.BUY_TRY_PAGE_CHECKOUT_CRASH,{action:p.type,error:t.stack||t.toString()},void 0,f.isServerView),t}}}}})),define("modules/clean/react/payments/buy/actions/buy_actions_creator",["require","exports","tslib","redux","modules/clean/react/payments/buy/actions/page_actions","modules/clean/react/payments/buy/actions/buy_form_actions","modules/clean/react/payments/common/form/actions/actions"],(function(e,t,a,r,n,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=a.__importStar(r),n=a.__importStar(n),o=a.__importStar(o),s=a.__importStar(s),t.bindProBuyActions=function(e){return r.bindActionCreators(a.__assign(a.__assign({},t.SHARED_FORM_ACTIONS),{setFooterLinks:n.setFooterLinks,loadSubChangePlans:n.loadSubChangePlans,updateHistory:n.updateHistory,updateSelectedPlan:n.updateSelectedPlan,updateState:n.updateState,openSurvey:n.openSurvey,cancelSurvey:n.cancelSurvey,submitSurvey:n.submitSurvey}),e.dispatch)},t.SHARED_FORM_ACTIONS={updatePhone:s.updatePhone,blurPhone:s.blurPhone,updateCity:s.updateCity,blurCity:s.blurCity,updateName:s.updateName,blurName:s.blurName,updateAddress:s.updateAddress,blurAddress:s.blurAddress,showFormFieldErrors:s.showFormFieldErrors,submitCaptcha:s.submitCaptcha,submitProBuyForm:o.submitProBuyFormToServer,updateNonce:s.updateNonce,updatePayPalNonce:s.updatePayPalNonce,blurCCField:s.blurCCField,updateAdyenEncryptedCard:s.updateAdyenEncryptedCard,updateEncryptedCardForNetworkToken:s.updateEncryptedCardForNetworkToken,updateBrowserInfo:s.updateBrowserInfo,updateThreeDsData:s.updateThreeDsData,triggerThreeDsChallenge:s.triggerThreeDsChallenge,triggerThreeDsFingerprint:s.triggerThreeDsFingerprint,updateBIN:s.updateBIN,toggleNewAccount:o.toggleNewAccount,toggleExistingAccount:n.toggleSignInModal,updateSelectedUser:o.updateSelectedUser,updateCurrentPage:n.updateCurrentPage,updateFirstName:s.updateFirstName,updateLastName:s.updateLastName,updateEmail:s.updateEmail,updatePassword:s.updatePassword,updateSchedule:o.updateSchedule,updateProductPlantype:o.updateProductPlanType,updatePaymentMethod:s.updatePaymentMethod,updateCountryCode:o.updateCountryCode,updateZipCode:o.updateZipCode,blurZipCode:s.blurZipCode,updateVat:o.updateVat,blurVat:s.blurVat,updateCpf:s.updateCpf,blurCpf:s.blurCpf,updateCpfName:s.updateCpfName,updateAccountHolderName:s.updateAccountHolderName,blurAccountHolderName:s.blurAccountHolderName,updateIBAN:s.updateIBAN,blurIBAN:s.blurIBAN,updateMandateSigned:s.updateMandateSigned,updateIdealBank:o.updateIdealBank,updateTermsAndService:s.updateTermsAndService,updateEVH:o.updateEVH}})),define("modules/clean/react/payments/buy/actions/buy_form_actions",["require","exports","tslib","modules/clean/analytics","modules/clean/payments/payment_form/payment_form_spec","modules/clean/payments/skus/constants","modules/core/exception","modules/clean/react/payments/buy/actions/pricing_actions","modules/core/notify","modules/clean/web_register_logging_data","modules/clean/payments/skus/pricing_data","modules/clean/react/payments/common/form/actions/actions","modules/clean/react/payments/buy/helpers/preauth","modules/clean/react/payments/common/form/actions/actions"],(function(e,t,a,r,n,o,s,i,u,c,l,p,d,m){"use strict";function y(e,t,a,r,o,s,i,u,c,l){void 0===r&&(r=!1),void 0===o&&(o=!1),void 0===s&&(s=!1),void 0===i&&(i=!1),void 0===u&&(u=!0),void 0===c&&(c=!1),void 0===l&&(l="OFF");var p=e.countryCode.formattedValue,d=["scheduleId","paymentMethod","countryCode"];return i||d.push("termsAndService"),c&&(a=!0,d.push("selectedUser")),a||d.push("firstName","lastName","email","password"),t.allow_zip_code_for_country(p)&&d.push("zipCode"),t.should_show_vat_for_country(p)&&""!==e.vat.formattedValue&&d.push("vat"),o&&t.should_require_cpf(p,e.paymentMethod.formattedValue)&&(d.push("cpf"),s&&d.push("cpfName")),t.showPSD2FieldsToUser(e.paymentMethod.formattedValue,p,r)&&d.push("name","city","address"),e.paymentMethod.formattedValue===n.PaymentMethod.CreditCard?(d.push("nonce"),d.push("adyenEncryptedCard"),d.push("encryptedCardForNetworkToken"),d.push("browserInfo"),d.push("threeDsData"),u&&d.push("bin")):e.paymentMethod.formattedValue===n.PaymentMethod.PayPal?"ON"===l&&d.push("payPalNonce"):e.paymentMethod.formattedValue===n.PaymentMethod.DirectDeposit?d.push("accountHolderName","iban","mandateSigned"):e.paymentMethod.formattedValue===n.PaymentMethod.Ideal&&d.push("idealBankId","idealBankName"),d}function f(e){var t=e.additionalData,a=void 0===t?{}:t,n=e.allowSubmitWithoutTOS,o=e.captchaComponentRef,i=e.handle3DsMessage,c=e.enableBinRouting,p=e.prepareForSubmission,f=e.trigger,g=e.url,h=e.showCpf,S=void 0!==h&&h,P=e.showCpfName,b=void 0!==P&&P,v=e.useSelectedUser,C=void 0!==v&&v,F=e.psd2AddressFields,w=void 0!==F&&F,T=(e.webPlusDirect,e.paymentPayPalV2Flow),N=void 0===T?"OFF":T;return function(e,t){var h,P=t(),v=P.formData,F=P.pageState.paymentFormSpec,T=P.pageState.existingAccountShowing,E=P.pricingState.subChangePlans;if(E){var V=v.scheduleId.formattedValue,k=v.evh.rawValue,I=E.filter((function(e){return!!e.finalSubState.plan&&(e.finalSubState.plan.billingSchedule.id===V&&!!e.finalSubState.addons.skus.length===k)})).pop();if(I){if(I.finalSubState.planSku.productType!==v.productPlanType.rawValue)return u.Notify.error(l.PricingDataException.notifyErrorMessagePersonal,20),void s.reportException({err:new Error("Intended product type to purchase does not match subscription change plan"),severity:s.SEVERITY.CRITICAL});h=I.tvm,a.sub_change_plan=JSON.stringify(I)}}var x=y(v,F,T,w,S,b,n,c,C,N);if(C)return m.isValidSubmitState(P.formData,x)?void _(h,a,P).then((function(){return d.start(P.formData.selectedUser.rawValue)})).then((function(){return e(m.submitForm(g,x,p,a))})).catch((function(e){s.reportException({err:new Error("Error during form submission using preauthentication"+e.message),severity:s.SEVERITY.CRITICAL}),d.deactivate()})).finally((function(){""!==P.formData.vat.formattedValue&&r.ProEventsLogger.log("vat_provided_on_initial_purchase",{},void 0,P.pageState.isServerView)})):void e(m.showFormFieldErrors(x,"SubmitForm"));_(h,a,P).then((function(t){e(m.submitForm(g,x,p,t,o,i,f)),""!==P.formData.vat.formattedValue&&r.ProEventsLogger.log("vat_provided_on_initial_purchase",{},void 0,P.pageState.isServerView)}))}}var g;function _(e,t,r){return a.__awaiter(this,void 0,void 0,(function(){var n,s,i,u,l,p,d,m;return a.__generator(this,(function(a){return n=r.pageState,s=n.existingAccountShowing,i=n.requestId,u=n.submitSeq,l=e&&e.getScheduleId()===o.ScheduleId.MONTHLY?"monthly":"yearly",t.account_info_type=s?"existing":"new",t.billing_schedule=l,t.currency=e&&e.getCurrency(),t.expected_price=e&&e.getExpectedPriceToken(),t.plan_id=e&&e.transition.state.plan.id,t.tos_version="3",t.packrat=e&&e.hasPackrat(),t.addon_expected_price=e&&e.hasPackrat()&&e.getAddonExpectedPrice(),t.request_id=i,t.submit_seq=u,r.navState?(p=r.navState,d=p.showTrialVersion,m=p.productPlanType,t.expected_price_amount=e&&e.getTotalPrice().amount,t.product=m===o.ProductPlanType.PLUS?"plus":"pro",t.signup_type=d?"trial":"purchase",t.signup_tag=m===o.ProductPlanType.PLUS?d?g.PLUS_TRY:g.PLUS_BUY:d?g.PRO_TRY:g.PRO_BUY,[2,c.setWebRegisterLoggingData(t)]):[2,c.setWebRegisterLoggingData(t)]}))}))}function h(e){return function(t){t(p.updateCountryCode(e)),t(i.updatePrice())}}function S(e){return function(t){t(p.updateZipCode(e)),t(i.updatePrice())}}function P(e){return function(t){t(p.updateVat(e)),t(i.updatePrice())}}function b(e){return function(t){t((function(e){return{type:"UpdateEVH",value:e}})(e)),t(i.updateCurrentTransitionPrices())}}function v(e){return function(t){t((function(e){return{type:"UpdateSchedule",value:e}})(e)),t(i.updateCurrentTransitionPrices())}}function C(e){return function(t){t(p.updateIdealBank(e))}}function F(){return function(e,t){e({type:"ToggleNewAccount",show:!t().pageState.showCreateAccount})}}function w(e){return function(t,a){t({type:"UpdateSelectedUser",value:e})}}function T(e){return{type:"UpdateProductPlanType",value:e}}Object.defineProperty(t,"__esModule",{value:!0}),s=a.__importStar(s),i=a.__importStar(i),p=a.__importStar(p),d=a.__importStar(d),t.getFieldNamesToValidate=y,t.submitProBuyFormToServer=f,(function(e){e.PRO_BUY="pro_buy_register",e.PRO_TRY="pro_try_register",e.PLUS_BUY="plus_buy_register",e.PLUS_TRY="plus_try_register"})(g||(g={})),t.fillAdditionalData=_,t.updateCountryCode=h,t.updateZipCode=S,t.updateVat=P,t.updateEVH=b,t.updateSchedule=v,t.updateIdealBank=C,t.toggleNewAccount=F,t.updateSelectedUser=w,t.updateProductPlanType=T,t.actionCreators={submitProBuyFormToServer:f,updateCountryCode:h,updateZipCode:S,updateVat:P,updateEVH:b,updateSchedule:v,updateIdealBank:C,toggleNewAccount:F,updateSelectedUser:w,updateProductPlanType:T}})),define("modules/clean/react/payments/buy/actions/page_actions",["require","exports","tslib","modules/clean/react/payments/buy/actions/pricing_actions","modules/clean/react/payments/buy/actions/buy_form_actions","modules/clean/dbmodal"],(function(e,t,a,r,n,o){"use strict";function s(e,t,a){return{type:"UpdateCurrentPage",step:e,productPlanType:t,showTrialVersion:!!a}}function i(e){return function(t){t({type:"LoadSubChangePlans",baseSubChangePlans:e}),t(r.updatePrice())}}Object.defineProperty(t,"__esModule",{value:!0}),r=a.__importStar(r),o=a.__importStar(o),t.toggleSignInModal=function(e){return function(t,a){var r=a();r.pageState.userInfo.existingAccount&&!r.pageState.preauthUser?t({type:"ToggleSignInModal",show:e}):new o.DBModal({element_id:"sign-in-modal",focus:"input[name='login_email']"}).show()}},t.updateCurrentPage=s,t.updateHistory=function(){return{type:"UpdateHistory"}},t.setFooterLinks=function(e){return function(t){t({type:"SetFooterLinks",footerLinks:e})}},t.updateState=function(e){return{type:"UpdateState",props:e}},t.updateSelectedPlan=function(e,t){return function(a,r){a(s(2,e,t)),a(n.updateProductPlanType(e));var o=r().pricingState;o.baseSubChangePlans&&a(i(o.baseSubChangePlans))}},t.loadSubChangePlans=i,t.openSurvey=function(e){return{type:"OpenSurvey",defaultValue:e}},t.cancelSurvey=function(e){return{type:"CancelSurvey",defaultValue:e}},t.submitSurvey=function(e,t,a){return{type:"SubmitSurvey",defaultValue:e,value:t,other:a}}})),define("modules/clean/react/payments/buy/actions/pricing_actions",["require","exports","modules/clean/payments/skus/subscription_diff","modules/clean/payments/skus/subscription_service","modules/clean/react/growth_pages/promo/types"],(function(e,t,a,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=new r.SubscriptionService;function s(){return function(e,t){var r=t(),s=r.formData,i=r.pricingState,d=r.pageState,m={countryCode:s.countryCode.formattedValue,zipCode:s.zipCode.formattedValue,vat:s.vat.errorState?"":s.vat.formattedValue};if(e({type:"UpdateTransitionsStart"}),i.subChangePlans){var y=i.subChangePlans.map((function(e){return a.SubscriptionDiff.fromSubscriptionStatus(e)})),f=d.promoSpec&&d.promoSpec.cashCode&&d.promoSpec.id!==n.PromoSpecType.TRIAL?{cashCode:d.promoSpec.cashCode}:void 0;o.priceSet(y,m,f,!0).then((function(t){e(u(t)),e(l(t)),e(p(t))})).catch((function(t){e(c(t))}))}else e({type:"HasPendingUpdate"})}}function i(){return{type:"UpdateTransitionsStart"}}function u(e){return{type:"UpdateTransitionsSuccess",subChangePlans:e}}function c(e){return{type:"UpdateTransitionsError",error:e}}function l(e){return{type:"UpdateDisplayPrices",subChangePlans:e}}function p(e){return{type:"UpdateCurrentTransitionPrices",subChangePlans:e}}function d(){return{type:"HasPendingUpdate"}}t.updatePrice=s,t.updateTransitionsStart=i,t.updateTransitionsSuccess=u,t.updateTransitionsError=c,t.updateDisplayPrices=l,t.updateCurrentTransitionPrices=p,t.hasPendingUpdate=d,t.actionCreators={updatePrice:s,updateTransitionsStart:i,updateTransitionsSuccess:u,updateTransitionsError:c,updateDisplayPrices:l,updateCurrentTransitionPrices:p,hasPendingUpdate:d}})),define("modules/clean/react/payments/buy/helpers/preauth",["require","exports","modules/clean/ajax_as_promised"],(function(e,t,a){"use strict";function r(e,t){return void 0===t&&(t=!0),a.WebRequest({url:"/pro/ajax_preauth",data:{user_id:e,enabled:t},type:"POST"})}Object.defineProperty(t,"__esModule",{value:!0}),t.start=function(e){return r(e)},t.deactivate=function(){return r(null,!1)}})),define("modules/clean/react/payments/buy/state/pro_store_creator",["require","exports","tslib","redux","redux-thunk","modules/clean/payments/payment_form/payment_form_spec","modules/clean/redux/unsupported","modules/clean/redux/devtools","modules/clean/react/payments/buy/actions/pricing_actions","modules/clean/react/payments/buy/actions/buy_form_actions","modules/clean/react/payments/buy/helpers/preauth","modules/clean/react/payments/buy/helpers/pricing_value_helper","modules/clean/payments/skus/subscription_change_plan","modules/clean/payments/skus/constants","modules/clean/react/payments/common/middleware/pro_buy_logger","modules/clean/react/payments/common/form_value_factory","modules/core/browser","modules/core/notify","modules/clean/react/payments/common/middleware/payments_ux_logger","modules/clean/react/payments/common/form/middleware/middleware","modules/clean/logging/hive/schemas/web-payments_ux_analytics"],(function(e,t,a,r,n,o,s,i,u,c,l,p,d,m,y,f,g,_,h,S,P){"use strict";function b(e){return function(t){return function(a){if("SubmitFormError"!==a.type)return t(a);var r=t(a),n=e.getState().pageState;return a.data&&a.data.error_message&&_.Notify.error(a.data.error_message),a.data.redirect&&g.redirect(a.data.redirect),null==n.suggestedUser||n.showCreateAccount||l.deactivate(),r}}}function v(e){var t=C(e),a=F(e,t);return{pageState:t,pricingState:w(e,a),formData:a,navState:(function(e){var t=e.navState;return t||{currentStep:0,productPlanType:0,showTrialVersion:!1}})(e)}}function C(e){var t=e.autocompleteForm,a=e.isServerView,r=e.locale,n=e.userInfo,s=e.serializedPaymentFormSpec,i=e.suggestedUser,u=e.showPlanSwitchRadios,c=e.preauthUser,l=e.optimizeCpf,p=e.requestId,d=e.footerLinks,m=e.promoSpec,y=e.plansContent,f=e.marketingTracker;return{autocomplete:t,locale:r,userInfo:n,existingAccountShowing:n.existingAccount,paymentFormSpec:new o.PaymentFormSpec(s),submitFormSuccess:!1,hasFormError:!1,isServerView:"ON"===a,suggestedUser:i,showCreateAccount:!1,showPlanSwitchRadios:u,preauthUser:c,optimizeCpf:l,requestId:p,submitSeq:0,footerLinks:d,submitting:!1,promoSpec:m,isPaymentOptionsSurveyOpen:!1,paymentFormErrorsExperiment:e.paymentFormErrorsExperiment,showBuyClickError:!1,showCpf:e.showCpf,psd2AddressFields:e.psd2AddressFields,plansContent:y,marketingTracker:f,paypalEmail:""}}function F(e,t){var a=e.countryCode,r=e.userInfo,n=e.vat,o=e.trialLength,s=e.showTrialVersion,i=e.locale,u=r.fname||"",c=r.lname||"",l="";r.existingAccount||(l=r.email||"");var p,d=r.password||"",y=m.ScheduleId.YEARLY,g=e.productPlanType||m.ProductPlanType.STANDARD;p=s?t.paymentFormSpec.default_payment_method():t.paymentFormSpec.default_payment_method_for_country(a);var _=n||"";return{city:f.FormValueFactory.createCity(""),phone:f.FormValueFactory.createPhone(""),name:f.FormValueFactory.createName(""),address:f.FormValueFactory.createAddress(""),nonce:f.FormValueFactory.createNonce(""),payPalNonce:f.FormValueFactory.createPayPalNonce("",""),adyenEncryptedCard:f.FormValueFactory.createAdyenEncryptedCard(""),encryptedCardForNetworkToken:f.FormValueFactory.createEncryptedCardForNetworkToken("",""),bin:f.FormValueFactory.createBIN(""),browserInfo:f.FormValueFactory.createBrowserInfo(""),threeDsData:f.FormValueFactory.createThreeDsData(""),firstName:f.FormValueFactory.createInput(u),lastName:f.FormValueFactory.createInput(c),email:f.FormValueFactory.createEmail(l),password:f.FormValueFactory.createPassword(d),productPlanType:f.FormValueFactory.createProductPlanType(g),scheduleId:f.FormValueFactory.createSchedule(y),paymentMethod:f.FormValueFactory.createPaymentMethod(p,a,t.paymentFormSpec),countryCode:f.FormValueFactory.createCountryCode(a),zipCode:f.FormValueFactory.createZipCode("",a,t.paymentFormSpec),vat:f.FormValueFactory.createVat(_,a),cpf:f.FormValueFactory.createCpf("",void 0,t.optimizeCpf),cpfName:f.FormValueFactory.createCpfNamePrefill("","",r.displayName,void 0,t.optimizeCpf),accountHolderName:f.FormValueFactory.createInput(""),iban:f.FormValueFactory.createIBAN(""),mandateSigned:f.FormValueFactory.createCheckbox(!1),idealBankId:f.FormValueFactory.createIdealBankId(""),idealBankName:f.FormValueFactory.createIdealBankName(""),termsAndService:f.FormValueFactory.createCheckbox(!1),evh:f.FormValueFactory.createCheckbox(!1),trialEndDate:f.FormValueFactory.createTrialEndDate(o,i),selectedUser:f.FormValueFactory.createUserSelection(),preauthUser:f.FormValueFactory.createUserSelection()}}function w(e,t){var a,r=e.baseSubChangePlans,n=e.serializedSubChangePlans;return r?a=r.filter((function(t){return t.subState.planSku&&e.navState&&t.subState.planSku.productType===e.navState.productPlanType})):n&&(a=n.map((function(e){return d.SubscriptionChangePlan.deserialize(e)}))),{hasCurrencyChanged:!1,loadingPrices:void 0===a,requestToken:-1,subChangePlans:a,baseSubChangePlans:r,pendingUpdate:!1,displayPrices:p.getDisplayPrices(a,t,e.promoSpec),currentTransitionPrices:p.getCurrentTransitionPrices(a,t)}}Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),o=a.__importStar(o),l=a.__importStar(l),t.submitFormErrorMiddleware=b,t.configureStore=function(e,t){var a=v(e),o=r.applyMiddleware(n.default,y.proBuyLogger,new h.PaymentsUXLogger(e.requestId,P.PaymentsUxPlatform.Legacy).reduxMiddleware,S.marketingEventMiddleware,b);return s.createStore(t,a,r.compose(o))},t.createState=v,t.createPageState=C,t.createFormState=F,t.createPricingState=w})),define("modules/clean/react/payments/buy/reducers/form_value_reducers",["require","exports","tslib","external/lodash","modules/clean/react/payments/common/form_values","modules/clean/react/payments/common/form_value_helpers","modules/clean/react/payments/common/form_value_factory","modules/clean/react/payments/common/payments/reducers/reducers","modules/clean/react/payments/common/form/actions/actions","modules/clean/react/payments/buy/actions/buy_form_actions"],(function(e,t,a,r,n,o,s,i,u,c){"use strict";function l(e,t){var a=r.assignIn({},e.formData,t),n=e.pageState.showBuyClickError;if("ON"===e.pageState.paymentFormErrorsExperiment){var o=c.getFieldNamesToValidate(a,e.pageState.paymentFormSpec,e.pageState.existingAccountShowing,e.pageState.psd2AddressFields,e.pageState.showCpf);n=e.pageState.showBuyClickError&&!u.isValidSubmitState(a,o)}var s=r.assignIn({},e.pageState,{hasFormError:!1,showBuyClickError:n});return r.assignIn({},e,{formData:a,pageState:s})}function p(e,t){return"UpdateFirstName"!==t.type?e:l(e,{firstName:s.FormValueFactory.createInput(t.value,e.formData.firstName)})}function d(e,t){return"UpdateLastName"!==t.type?e:l(e,{lastName:s.FormValueFactory.createInput(t.value,e.formData.lastName)})}function m(e,t){if("EmailTakenError"!==t.type)return e;var a=e.formData.email;return a.errorState=n.EmailErrorState.TakenError,a.showError=!0,l(e,{email:a})}function y(e,t){return"UpdateEmail"!==t.type?e:l(e,{email:s.FormValueFactory.createEmail(t.value,e.formData.email)})}function f(e,t){return"UpdatePassword"!==t.type?e:l(e,{password:s.FormValueFactory.createPassword(t.value,e.formData.password)})}function g(e,t){var a=e.formData.firstName.rawValue,r=e.formData.lastName.rawValue,n=e.pageState.userInfo.displayName,o=e.pageState.optimizeCpf;switch(t.type){case"UpdateCpfName":return l(e,{cpfName:s.FormValueFactory.createCpfName(t.value,e.formData.cpfName,o)});case"UpdateFirstName":return e.formData.cpfName.manuallyEdited?e:l(e,{cpfName:s.FormValueFactory.createCpfNamePrefill(t.value,r,n,void 0,o)});case"UpdateLastName":return e.formData.cpfName.manuallyEdited?e:l(e,{cpfName:s.FormValueFactory.createCpfNamePrefill(a,t.value,n,void 0,o)});default:return e}}function _(e,t){if("ToggleNewAccount"!==t.type)return e;var a={};return t.show?a={selectedUser:s.FormValueFactory.createUserSelection()}:e.pageState.preauthUser||(a={firstName:s.FormValueFactory.createInput(""),lastName:s.FormValueFactory.createInput(""),email:s.FormValueFactory.createEmail(""),password:s.FormValueFactory.createPassword("")}),l(e,a)}function h(e,t){return"UpdateSelectedUser"!==t.type?e:l(e,{selectedUser:s.FormValueFactory.createUserSelection(t.value)})}function S(e,t){return"UpdateProductPlanType"!==t.type?e:l(e,{productPlanType:s.FormValueFactory.createProductPlanType(t.value)})}function P(e,t){return"UpdateSchedule"!==t.type?e:l(e,{scheduleId:s.FormValueFactory.createSchedule(t.value,e.formData.scheduleId)})}function b(e,t){return"UpdateEVH"!==t.type?e:l(e,{evh:s.FormValueFactory.createCheckbox(t.value,e.formData.evh)})}function v(e,t){if("UpdateAddress"!==t.type)return e;var a="UpdateAddress"===t.type?t.value:e.formData.address.rawValue;return l(e,{address:s.FormValueFactory.createAddress(a,e.formData.address)})}function C(e,t){if("UpdatePhone"!==t.type)return e;var a="UpdatePhone"===t.type?t.value:e.formData.phone.rawValue;return l(e,{phone:s.FormValueFactory.createPhone(a,e.formData.phone)})}function F(e,t){if("UpdateName"!==t.type)return e;var a="UpdateName"===t.type?t.value:e.formData.name.rawValue;return l(e,{name:s.FormValueFactory.createName(a,e.formData.name)})}function w(e,t){if("UpdateCity"!==t.type)return e;var a="UpdateCity"===t.type?t.value:e.formData.city.rawValue;return l(e,{city:s.FormValueFactory.createCity(a,e.formData.city)})}function T(e,t){if("UpdatePaymentMethod"!==t.type&&"UpdateCountryCode"!==t.type)return e;var a=e.formData,r=e.pageState,n="UpdatePaymentMethod"===t.type?t.value:a.paymentMethod.rawValue,o=a.countryCode.formattedValue;return l(e,{paymentMethod:s.FormValueFactory.createPaymentMethod(n,o,r.paymentFormSpec,a.paymentMethod)})}function N(e,t){return"UpdateCountryCode"!==t.type?e:l(e,{countryCode:s.FormValueFactory.createCountryCode(t.value,e.formData.countryCode)})}function E(e,t){if("UpdateZipCode"!==t.type&&"UpdateCountryCode"!==t.type)return e;var a="UpdateZipCode"===t.type?t.value:e.formData.zipCode.rawValue,r=e.formData.countryCode.formattedValue;return l(e,{zipCode:s.FormValueFactory.createZipCode(a,r,e.pageState.paymentFormSpec,e.formData.zipCode)})}function V(e,t){if("UpdateVat"!==t.type&&"UpdateCountryCode"!==t.type)return e;var a="UpdateVat"===t.type?t.value.toUpperCase():e.formData.vat.rawValue,r=e.formData.countryCode.formattedValue;return l(e,{vat:s.FormValueFactory.createVat(a,r,e.formData.vat)})}function k(e,t){if("UpdateCpf"!==t.type)return e;var a=e.pageState.optimizeCpf;return l(e,{cpf:s.FormValueFactory.createCpf(t.value,e.formData.cpf,a)})}function I(e,t){return"UpdateNonce"!==t.type?e:l(e,{nonce:s.FormValueFactory.createNonce(t.value,t.creditCardIframeFields,e.formData.nonce,e.pageState.paymentFormErrorsExperiment)})}function x(e,t){return"UpdateBIN"!==t.type?e:l(e,{bin:s.FormValueFactory.createBIN(t.value,e.formData.bin)})}function U(e,t){return"UpdateAccountHolderName"!==t.type?e:l(e,{accountHolderName:s.FormValueFactory.createInput(t.value,e.formData.accountHolderName)})}function D(e,t){return"UpdateIBAN"!==t.type?e:l(e,{iban:s.FormValueFactory.createIBAN(t.value,e.formData.iban)})}function A(e,t){return"UpdateMandateSigned"!==t.type?e:l(e,{mandateSigned:s.FormValueFactory.createCheckbox(t.value,e.formData.mandateSigned)})}function M(e,t){return"UpdateTermsAndService"!==t.type?e:l(e,{termsAndService:s.FormValueFactory.createCheckbox(t.value,e.formData.termsAndService)})}function B(e,t){if("UpdateIdealBank"!==t.type)return e;var a=t.value,r=a.bankId,n=a.bankName;return l(e,{idealBankId:s.FormValueFactory.createIdealBankId(r,e.formData.idealBankId),idealBankName:s.FormValueFactory.createIdealBankName(n,e.formData.idealBankName)})}Object.defineProperty(t,"__esModule",{value:!0}),r=a.__importStar(r),n=a.__importStar(n),t.AccountReducers=[p,d,y,f,g,h,_,m],t.PlanReducers=[S,P,b],t.PaymentReducers=[N,T,E,V,k,g,I,i.updatePayPalNonce,i.updateAdyenEncryptedCard,i.updateEncryptedCardForNetworkToken,x,i.updateBrowserInfo,i.updateThreeDsData,U,D,A,B,w,v,C,F],t.OrderSummaryReducers=[M],t.FormInputReducers=[L,O,H,q],t.updateFirstName=p,t.updateLastName=d,t.emailAlreadyTakenError=m,t.updateEmail=y,t.updatePassword=f,t.updateCpfName=g,t.toggleNewAccount=_,t.updateUserSelection=h,t.updateProductPlanType=S,t.updateSchedule=P,t.updateEVH=b,t.updateAddress=v,t.updatePhone=C,t.updateName=F,t.updateCity=w,t.updatePaymentMethod=T,t.updateCountryCode=N,t.updateZipCode=E,t.updateVat=V,t.updateCpf=k,t.updateNonce=I,t.updateBIN=x,t.updateAccountHolderName=U,t.updateIBAN=D,t.updateMandateSigned=A,t.updateTOS=M,t.updateIdealBank=B;var R={firstName:"fname",lastName:"lname",email:"account-email",password:"password",name:"name",nonce:"iframe-holder",countryCode:"country_code",address:"address",zipCode:"zip",city:"city",accountHolderName:"owner_name",iban:"iban",mandateSigned:"mandate_signed",idealBankId:"ideal_bank",vat:"vat",cpf:"cpf"};function L(e,t){if("ShowFormFieldErrors"!==t.type)return e;var n=!1,s=a.__assign({},e.formData);e=r.assignIn({},e,{formData:s});for(var i,u=[],c=0,l=t.fieldNames;c<l.length;c++){var p=l[c],d=s[p];d&&!o.FormValueHelper.isValid(d)&&(s[p]=r.assignIn({},s[p],{showError:!0}),n=!0,u.push(p))}var m=e.pageState.showBuyClickError;if("ON"===e.pageState.paymentFormErrorsExperiment&&"SubmitForm"===t.origin){m=!0;for(var y=0,f=u;y<f.length;y++){var g=f[y];if(R[g]){var _=document.getElementById(R[g]);if(_){var h=_.getBoundingClientRect().top;void 0===i?i=h:h<i&&(i=h)}}}void 0!==i&&scrollBy({top:i-150,behavior:"smooth"})}var S=r.assignIn({},e.pageState,{hasFormError:n,showBuyClickError:m});return e=r.assignIn({},e,{pageState:S})}function O(e,t){if("SubmitFormStart"!==t.type)return e;var a=r.assignIn({},e.pageState,{submitting:!0,submitSeq:e.pageState.submitSeq+1});return r.assignIn({},e,{pageState:a})}function H(e,t){if("SubmitFormSuccess"!==t.type)return e;var r;if(e.pageState.isServerView&&void 0!==t.data&&void 0!==t.data.data){var n=t.data.data;r={userQuota:n.user_quota,userQuotaUsage:n.user_quota_usage}}return a.__assign(a.__assign({},e),{pageState:a.__assign(a.__assign({},e.pageState),{submitFormSuccess:!0,submitting:!1,newQuotaInfo:r})})}function q(e,t){if("SubmitFormError"!==t.type)return e;var a=r.assignIn({},e.pageState,{submitting:!1});return r.assignIn({},e,{pageState:a})}t.showFormFieldErrors=L,t.submitFormStart=O,t.submitFormSuccess=H,t.submitFormError=q})),define("modules/clean/react/payments/buy/reducers/page_reducers",["require","exports","tslib"],(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.existingAccountShowing=function(e,t){switch(void 0===e&&(e=!1),t.type){case"ToggleNewAccount":return!e;case"ToggleSignInModal":return(function(e,t){return void 0!==t.show?t.show:!e})(e,t);default:return e}},t.showCreateAccount=function(e,t){return void 0===e&&(e=!1),"ToggleNewAccount"!==t.type?e:void 0!==t.show?t.show:!e},t.footerLinks=function(e,t){return void 0===e&&(e=[]),"SetFooterLinks"!==t.type?e:a.__spreadArrays(t.footerLinks)},t.isPaymentOptionsSurveyOpen=function(e,t){switch(void 0===e&&(e=!1),t.type){case"OpenSurvey":return!0;case"CancelSurvey":case"SubmitSurvey":return!1;default:return e}}})),define("modules/clean/react/payments/buy/reducers/pricing_reducers",["require","exports","tslib","external/lodash","modules/clean/react/payments/buy/helpers/pricing_value_helper"],(function(e,t,a,r,n){"use strict";function o(e,t){if("UpdateTransitionsStart"!==t.type)return e;var a=r.assignIn({},e.pricingState,{loadingPrices:!0});return r.assignIn({},e,{pricingState:a})}function s(e,t){if("UpdateTransitionsSuccess"!==t.type)return e;var a=!1;if(t.subChangePlans&&e.pricingState.subChangePlans){var n=e.pricingState.subChangePlans[0].tvm,o=t.subChangePlans[0].tvm,s=n&&n.getCurrency(),i=o&&o.getCurrency();a=e.pricingState.hasCurrencyChanged||s!==i}var u=r.assignIn({},e.pricingState,{loadingPrices:!1,hasCurrencyChanged:a,subChangePlans:t.subChangePlans,pendingUpdate:!1});return r.assignIn({},e,{pricingState:u})}function i(e,t){if("UpdateDisplayPrices"!==t.type)return e;var a=e.pageState.promoSpec,o=t.subChangePlans,s=n.getDisplayPrices(o,e.formData,a),i=r.assignIn({},e.pricingState,{displayPrices:s});return r.assignIn({},e,{pricingState:i})}function u(e,t){if("UpdateCurrentTransitionPrices"!==t.type)return e;var a=t.subChangePlans||e.pricingState.subChangePlans,o=n.getCurrentTransitionPrices(a,e.formData),s=r.assignIn({},e.pricingState,{currentTransitionPrices:o});return r.assignIn({},e,{pricingState:s})}function c(e,t){if("HasPendingUpdate"!==t.type)return e;var a=r.assignIn({},e.pricingState,{pendingUpdate:!0});return r.assignIn({},e,{pricingState:a})}Object.defineProperty(t,"__esModule",{value:!0}),r=a.__importStar(r),t.TransitionManagementReducers=[o,s],t.PricingManagementReducers=[c,i,u],t.updateTransitionsStart=o,t.updateTransitionsSuccess=s,t.updateDisplayPrices=i,t.updateCurrentTransitionPrices=u,t.hasPendingUpdate=c})),define("modules/clean/react/payments/buy/reducers/nav_reducer",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.navReducer=function(e,t){return"UpdateCurrentPage"!==t.type?e:{currentStep:t.step,productPlanType:t.productPlanType,showTrialVersion:t.showTrialVersion}}})),define("modules/clean/react/payments/buy/reducers/reducers",["require","exports","tslib","redux","modules/clean/react/payments/buy/reducers/form_value_reducers","modules/clean/react/payments/buy/reducers/pricing_reducers","modules/clean/react/payments/buy/reducers/page_reducers","modules/clean/react/payments/buy/reducers/nav_reducer","modules/clean/react/payments/buy/state/pro_store_creator"],(function(e,t,a,r,n,o,s,i,u){"use strict";function c(e){return function(t,a){return Object.assign({},t,e(t,a))}}function l(e,t){return"UpdateState"!==t.type?e:u.createState(t.props)}function p(e,t){if("LoadSubChangePlans"!==t.type)return e;var r=a.__assign({},e.pricingState);return r.baseSubChangePlans=t.baseSubChangePlans,r.subChangePlans=t.baseSubChangePlans.filter((function(t){return t.subState.planSku&&t.subState.planSku.productType===e.navState.productPlanType})),a.__assign(a.__assign({},e),{pricingState:a.__assign({},r)})}Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),o=a.__importStar(o),t.updateState=l,t.loadSubChangePlans=p,t.proBuyReducer=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.reduce((function(e,t){return function(a,r){return t(e(a,r),r)}}))}.apply(void 0,a.__spreadArrays([r.combineReducers({formData:function(e,t){return void 0===e&&(e={}),e},pageState:c(r.combineReducers({existingAccountShowing:s.existingAccountShowing,footerLinks:s.footerLinks,showCreateAccount:s.showCreateAccount,isPaymentOptionsSurveyOpen:s.isPaymentOptionsSurveyOpen})),pricingState:function(e,t){return void 0===e&&(e={}),e},navState:c(i.navReducer)}),l,p],n.AccountReducers,n.PlanReducers,n.PaymentReducers,n.OrderSummaryReducers,n.FormInputReducers,o.TransitionManagementReducers,o.PricingManagementReducers))})),define("modules/clean/react/payments/buy/types/types",["require","exports","tslib","modules/clean/payments/skus/constants","modules/core/exception"],(function(e,t,a,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),(function(e){e.PROFESSIONAL="PROFESSIONAL",e.PLUS="PLUS"})(t.BuyPagePlanTiers||(t.BuyPagePlanTiers={})),t.getPlanContentFromMap=function(e,t){return t!==r.ProductPlanType.PLUS&&t!==r.ProductPlanType.PROFESSIONAL&&(n.reportException({err:new Error("Unsupported plan type "+t),severity:n.SEVERITY.CRITICAL}),t=r.ProductPlanType.PROFESSIONAL),e.plansByType[t]},(function(e){e.DROPBOX_FILE_SHARING="dropbox_file_sharing",e.HELLO_SIGN="hello_sign",e.UNKNOWN_PRODUCT_LINE="unknown_product_line"})(t.ProductLine||(t.ProductLine={})),(function(e){e.PLUS="plus",e.PROFESSIONAL="professional",e.STANDARD="standard",e.ADVANCED="advanced",e.SERVER="server",e.ENTERPRISE="enterprise",e.EDUCATION="education",e.ANY_PRODUCT_FAMILY="any_product_family"})(t.ProductFamily||(t.ProductFamily={})),(function(e){e.DAY="day",e.MONTH="month",e.YEAR="year",e.UNKNOWN_CONTRACT_LENGHTH_UNIT="unknown_contract_length_unit"})(t.ContractLengthUnitType||(t.ContractLengthUnitType={})),(function(e){e.USER="user",e.TEAM="team",e.RESELLER_TEAM="reseller_team",e.UNKNOWN="unknown"})(t.CustomerType||(t.CustomerType={}))}));
//# sourceMappingURL=pkg-buy.min.js-vfllHH5QG.map