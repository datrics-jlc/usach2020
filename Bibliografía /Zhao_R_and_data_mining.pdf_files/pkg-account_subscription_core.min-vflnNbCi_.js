(function(e){function t(e,t,a){switch(arguments.length){case 2:return null!=e?e:t;case 3:return null!=e?e:null!=t?t:a;default:throw new Error("Implement me")}}function a(e,t){function a(){!1===Q.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}var n=!0;return l((function(){return n&&(a(),n=!1),t.apply(this,arguments)}),t)}function n(e,t){return function(a){return u(e.call(this,a),t)}}function s(e,t){return function(a){return this.lang().ordinal(e.call(this,a),t)}}function i(){}function r(e){v(e),l(this,e)}function o(e){var t=f(e),a=t.year||0,n=t.quarter||0,s=t.month||0,i=t.week||0,r=t.day||0,o=t.hour||0,l=t.minute||0,d=t.second||0,u=t.millisecond||0;this._milliseconds=+u+1e3*d+6e4*l+36e5*o,this._days=+r+7*i,this._months=+s+3*n+12*a,this._data={},this._bubble()}function l(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);return t.hasOwnProperty("toString")&&(e.toString=t.toString),t.hasOwnProperty("valueOf")&&(e.valueOf=t.valueOf),e}function d(e){return 0>e?Math.ceil(e):Math.floor(e)}function u(e,t,a){for(var n=""+Math.abs(e),s=e>=0;n.length<t;)n="0"+n;return(s?a?"+":"":"-")+n}function c(e,t,a,n){var s=t._milliseconds,i=t._days,r=t._months;n=null==n||n,s&&e._d.setTime(+e._d+s*a),i&&G(e,"Date",z(e,"Date")+i*a),r&&q(e,z(e,"Month")+r*a),n&&Q.updateOffset(e,i||r)}function p(e){return"[object Array]"===Object.prototype.toString.call(e)}function m(e,t,a){var n,s=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),r=0;for(n=0;s>n;n++)(a&&e[n]!==t[n]||!a&&h(e[n])!==h(t[n]))&&r++;return r+i}function _(e){if(e){var t=e.toLowerCase().replace(/(.)s$/,"$1");e=Fe[e]||Ue[t]||t}return e}function f(e){var t,a,n={};for(a in e)e.hasOwnProperty(a)&&((t=_(a))&&(n[t]=e[a]));return n}function g(t){var a,n;if(0===t.indexOf("week"))a=7,n="day";else{if(0!==t.indexOf("month"))return;a=12,n="month"}Q[t]=function(s,i){var r,o,l=Q.fn._lang[t],d=[];if("number"==typeof s&&(i=s,s=e),o=function(e){var t=Q().utc().set(n,e);return l.call(Q.fn._lang,t,s||"")},null!=i)return o(i);for(r=0;a>r;r++)d.push(o(r));return d}}function h(e){var t=+e,a=0;return 0!==t&&isFinite(t)&&(a=t>=0?Math.floor(t):Math.ceil(t)),a}function y(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function M(e,t,a){return H(Q([e,11,31+t-a]),t,a).week}function b(e){return S(e)?366:365}function S(e){return e%4==0&&e%100!=0||e%400==0}function v(e){var t;e._a&&-2===e._pf.overflow&&(t=e._a[se]<0||e._a[se]>11?se:e._a[ie]<1||e._a[ie]>y(e._a[ne],e._a[se])?ie:e._a[re]<0||e._a[re]>23?re:e._a[oe]<0||e._a[oe]>59?oe:e._a[le]<0||e._a[le]>59?le:e._a[de]<0||e._a[de]>999?de:-1,e._pf._overflowDayOfYear&&(ne>t||t>ie)&&(t=ie),e._pf.overflow=t)}function L(e){return null==e._isValid&&(e._isValid=!isNaN(e._d.getTime())&&e._pf.overflow<0&&!e._pf.empty&&!e._pf.invalidMonth&&!e._pf.nullInput&&!e._pf.invalidFormat&&!e._pf.userInvalidated,e._strict&&(e._isValid=e._isValid&&0===e._pf.charsLeftOver&&0===e._pf.unusedTokens.length)),e._isValid}function T(e){return e?e.toLowerCase().replace("_","-"):e}function w(e,t){return t._isUTC?Q(e).zone(t._offset||0):Q(e).local()}function D(e){var t,a,n,s,i=0,r=function(e){if(!ue[e]&&pe)try{require("./lang/"+e)}catch(e){}return ue[e]};if(!e)return Q.fn._lang;if(!p(e)){if(a=r(e))return a;e=[e]}for(;i<e.length;){for(t=(s=T(e[i]).split("-")).length,n=(n=T(e[i+1]))?n.split("-"):null;t>0;){if(a=r(s.slice(0,t).join("-")))return a;if(n&&n.length>=t&&m(s,n,!0)>=t-1)break;t--}i++}return Q.fn._lang}function P(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function C(e,t){return e.isValid()?(t=E(t,e.lang()),je[t]||(je[t]=(function(e){var t,a,n=e.match(ge);for(t=0,a=n.length;a>t;t++)n[t]=qe[n[t]]?qe[n[t]]:P(n[t]);return function(s){var i="";for(t=0;a>t;t++)i+=n[t]instanceof Function?n[t].call(s,e):n[t];return i}})(t)),je[t](e)):e.lang().invalidDate()}function E(e,t){function a(e){return t.longDateFormat(e)||e}var n=5;for(he.lastIndex=0;n>=0&&he.test(e);)e=e.replace(he,a),he.lastIndex=0,n-=1;return e}function k(e,t){var a=t._strict;switch(e){case"Q":return Ce;case"DDDD":return ke;case"YYYY":case"GGGG":case"gggg":return a?Ye:be;case"Y":case"G":case"g":return xe;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return a?Ne:Se;case"S":if(a)return Ce;case"SS":if(a)return Ee;case"SSS":if(a)return ke;case"DDD":return Me;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Le;case"a":case"A":return D(t._l)._meridiemParse;case"X":return De;case"Z":case"ZZ":return Te;case"T":return we;case"SSSS":return ve;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return a?Ee:ye;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return ye;case"Do":return Pe;default:return new RegExp((function(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")})((function(e){return e.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,a,n,s){return t||a||n||s}))})(e.replace("\\",""))))}}function Y(e){var t=(e=e||"").match(Te)||[],a=((t[t.length-1]||[])+"").match(Oe)||["-",0,0],n=60*a[1]+h(a[2]);return"+"===a[0]?-n:n}function N(e,t,a){var n,s=a._a;switch(e){case"Q":null!=t&&(s[se]=3*(h(t)-1));break;case"M":case"MM":null!=t&&(s[se]=h(t)-1);break;case"MMM":case"MMMM":null!=(n=D(a._l).monthsParse(t))?s[se]=n:a._pf.invalidMonth=t;break;case"D":case"DD":null!=t&&(s[ie]=h(t));break;case"Do":null!=t&&(s[ie]=h(parseInt(t,10)));break;case"DDD":case"DDDD":null!=t&&(a._dayOfYear=h(t));break;case"YY":s[ne]=Q.parseTwoDigitYear(t);break;case"YYYY":case"YYYYY":case"YYYYYY":s[ne]=h(t);break;case"a":case"A":a._isPm=D(a._l).isPM(t);break;case"H":case"HH":case"h":case"hh":s[re]=h(t);break;case"m":case"mm":s[oe]=h(t);break;case"s":case"ss":s[le]=h(t);break;case"S":case"SS":case"SSS":case"SSSS":s[de]=h(1e3*("0."+t));break;case"X":a._d=new Date(1e3*parseFloat(t));break;case"Z":case"ZZ":a._useUTC=!0,a._tzm=Y(t);break;case"dd":case"ddd":case"dddd":null!=(n=D(a._l).weekdaysParse(t))?(a._w=a._w||{},a._w.d=n):a._pf.invalidWeekday=t;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":e=e.substr(0,1);case"gggg":case"GGGG":case"GGGGG":e=e.substr(0,2),t&&(a._w=a._w||{},a._w[e]=h(t));break;case"gg":case"GG":a._w=a._w||{},a._w[e]=Q.parseTwoDigitYear(t)}}function x(e){var a,n,s,i,r,o,l,d;null!=(a=e._w).GG||null!=a.W||null!=a.E?(r=1,o=4,n=t(a.GG,e._a[ne],H(Q(),1,4).year),s=t(a.W,1),i=t(a.E,1)):(r=(d=D(e._l))._week.dow,o=d._week.doy,n=t(a.gg,e._a[ne],H(Q(),r,o).year),s=t(a.w,1),null!=a.d?r>(i=a.d)&&++s:i=null!=a.e?a.e+r:r),l=(function(e,t,a,n,s){var i,r=U(e,0,1).getUTCDay();return{year:(i=7*(t-1)+((a=null!=a?a:s)-s)+(s-(r=0===r?7:r)+(r>n?7:0)-(s>r?7:0))+1)>0?e:e-1,dayOfYear:i>0?i:b(e-1)+i}})(n,s,i,o,r),e._a[ne]=l.year,e._dayOfYear=l.dayOfYear}function A(e){var a,n,s,i,r=[];if(!e._d){for(s=(function(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]})(e),e._w&&null==e._a[ie]&&null==e._a[se]&&x(e),e._dayOfYear&&(i=t(e._a[ne],s[ne]),e._dayOfYear>b(i)&&(e._pf._overflowDayOfYear=!0),n=U(i,0,e._dayOfYear),e._a[se]=n.getUTCMonth(),e._a[ie]=n.getUTCDate()),a=0;3>a&&null==e._a[a];++a)e._a[a]=r[a]=s[a];for(;7>a;a++)e._a[a]=r[a]=null==e._a[a]?2===a?1:0:e._a[a];e._d=(e._useUTC?U:F).apply(null,r),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()+e._tzm)}}function I(e){if(e._f!==Q.ISO_8601){e._a=[],e._pf.empty=!0;var t,a,n,s,i,r=D(e._l),o=""+e._i,l=o.length,d=0;for(n=E(e._f,r).match(ge)||[],t=0;t<n.length;t++)s=n[t],(a=(o.match(k(s,e))||[])[0])&&((i=o.substr(0,o.indexOf(a))).length>0&&e._pf.unusedInput.push(i),o=o.slice(o.indexOf(a)+a.length),d+=a.length),qe[s]?(a?e._pf.empty=!1:e._pf.unusedTokens.push(s),N(s,a,e)):e._strict&&!a&&e._pf.unusedTokens.push(s);e._pf.charsLeftOver=l-d,o.length>0&&e._pf.unusedInput.push(o),e._isPm&&e._a[re]<12&&(e._a[re]+=12),!1===e._isPm&&12===e._a[re]&&(e._a[re]=0),A(e),v(e)}else O(e)}function R(e){var t,a,n,s,i;if(0===e._f.length)return e._pf.invalidFormat=!0,void(e._d=new Date(NaN));for(s=0;s<e._f.length;s++)i=0,(t=l({},e))._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1},t._f=e._f[s],I(t),L(t)&&(i+=t._pf.charsLeftOver,i+=10*t._pf.unusedTokens.length,t._pf.score=i,(null==n||n>i)&&(n=i,a=t));l(e,a||t)}function O(e){var t,a,n=e._i,s=Ae.exec(n);if(s){for(e._pf.iso=!0,t=0,a=Ie.length;a>t;t++)if(Ie[t][1].exec(n)){e._f=Ie[t][0]+(s[6]||" ");break}for(t=0,a=Re.length;a>t;t++)if(Re[t][1].exec(n)){e._f+=Re[t][0];break}n.match(Te)&&(e._f+="Z"),I(e)}else e._isValid=!1}function B(t){var a=t._i,n=me.exec(a);a===e?t._d=new Date:n?t._d=new Date(+n[1]):"string"==typeof a?(function(e){O(e),!1===e._isValid&&(delete e._isValid,Q.createFromInputFallback(e))})(t):p(a)?(t._a=a.slice(0),A(t)):(function(e){return"[object Date]"===Object.prototype.toString.call(e)||e instanceof Date})(a)?t._d=new Date(+a):"object"==typeof a?(function(e){var t;e._d||(t=f(e._i),e._a=[t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond],A(e))})(t):"number"==typeof a?t._d=new Date(a):Q.createFromInputFallback(t)}function F(e,t,a,n,s,i,r){var o=new Date(e,t,a,n,s,i,r);return 1970>e&&o.setFullYear(e),o}function U(e){var t=new Date(Date.UTC.apply(null,arguments));return 1970>e&&t.setUTCFullYear(e),t}function j(e,t,a,n,s){return s.relativeTime(t||1,!!a,e,n)}function H(e,t,a){var n,s=a-t,i=a-e.day();return i>s&&(i-=7),s-7>i&&(i+=7),n=Q(e).add("d",i),{week:Math.ceil(n.dayOfYear()/7),year:n.year()}}function V(t){var a=t._i,n=t._f;return null===a||n===e&&""===a?Q.invalid({nullInput:!0}):("string"==typeof a&&(t._i=a=D().preparse(a)),Q.isMoment(a)?(t=(function(e){var t,a={};for(t in e)e.hasOwnProperty(t)&&ce.hasOwnProperty(t)&&(a[t]=e[t]);return a})(a))._d=new Date(+a._d):n?p(n)?R(t):I(t):B(t),new r(t))}function W(e,t){var a,n;if(1===t.length&&p(t[0])&&(t=t[0]),!t.length)return Q();for(a=t[0],n=1;n<t.length;++n)t[n][e](a)&&(a=t[n]);return a}function q(e,t){var a;return"string"==typeof t&&"number"!=typeof(t=e.lang().monthsParse(t))?e:(a=Math.min(e.date(),y(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,a),e)}function z(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function G(e,t,a){return"Month"===t?q(e,a):e._d["set"+(e._isUTC?"UTC":"")+t](a)}function J(e,t){return function(a){return null!=a?(G(this,e,a),Q.updateOffset(this,t),this):z(this,e)}}function K(e){Q.duration.fn[e]=function(){return this._data[e]}}function X(e,t){Q.duration.fn["as"+e]=function(){return+this/t}}function Z(e){"undefined"==typeof ender&&($=te.moment,te.moment=e?a("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",Q):Q)}for(var Q,$,ee,te="undefined"!=typeof global?global:this,ae=Math.round,ne=0,se=1,ie=2,re=3,oe=4,le=5,de=6,ue={},ce={_isAMomentObject:null,_i:null,_f:null,_l:null,_strict:null,_tzm:null,_isUTC:null,_offset:null,_pf:null,_lang:null},pe="undefined"!=typeof module&&module.exports,me=/^\/?Date\((\-?\d+)/i,_e=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,fe=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,ge=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,he=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,ye=/\d\d?/,Me=/\d{1,3}/,be=/\d{1,4}/,Se=/[+\-]?\d{1,6}/,ve=/\d+/,Le=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Te=/Z|[\+\-]\d\d:?\d\d/gi,we=/T/i,De=/[\+\-]?\d+(\.\d{1,3})?/,Pe=/\d{1,2}/,Ce=/\d/,Ee=/\d\d/,ke=/\d{3}/,Ye=/\d{4}/,Ne=/[+-]?\d{6}/,xe=/[+-]?\d+/,Ae=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ie=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],Re=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Oe=/([\+\-]|\d\d)/gi,Be=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),Fe={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},Ue={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},je={},He={s:45,m:45,h:22,dd:25,dm:45,dy:345},Ve="DDD w W M D d".split(" "),We="M D H h m s w W".split(" "),qe={M:function(){return this.month()+1},MMM:function(e){return this.lang().monthsShort(this,e)},MMMM:function(e){return this.lang().months(this,e)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(e){return this.lang().weekdaysMin(this,e)},ddd:function(e){return this.lang().weekdaysShort(this,e)},dddd:function(e){return this.lang().weekdays(this,e)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return u(this.year()%100,2)},YYYY:function(){return u(this.year(),4)},YYYYY:function(){return u(this.year(),5)},YYYYYY:function(){var e=this.year();return(e>=0?"+":"-")+u(Math.abs(e),6)},gg:function(){return u(this.weekYear()%100,2)},gggg:function(){return u(this.weekYear(),4)},ggggg:function(){return u(this.weekYear(),5)},GG:function(){return u(this.isoWeekYear()%100,2)},GGGG:function(){return u(this.isoWeekYear(),4)},GGGGG:function(){return u(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return h(this.milliseconds()/100)},SS:function(){return u(h(this.milliseconds()/10),2)},SSS:function(){return u(this.milliseconds(),3)},SSSS:function(){return u(this.milliseconds(),3)},Z:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+u(h(e/60),2)+":"+u(h(e)%60,2)},ZZ:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+u(h(e/60),2)+u(h(e)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},ze=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];Ve.length;)ee=Ve.pop(),qe[ee+"o"]=s(qe[ee],ee);for(;We.length;)ee=We.pop(),qe[ee+ee]=n(qe[ee],2);for(qe.DDDD=n(qe.DDD,3),l(i.prototype,{set:function(e){var t,a;for(a in e)"function"==typeof(t=e[a])?this[a]=t:this["_"+a]=t},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(e){return this._months[e.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(e){return this._monthsShort[e.month()]},monthsParse:function(e){var t,a,n;for(this._monthsParse||(this._monthsParse=[]),t=0;12>t;t++)if(this._monthsParse[t]||(a=Q.utc([2e3,t]),n="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[t]=new RegExp(n.replace(".",""),"i")),this._monthsParse[t].test(e))return t},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(e){return this._weekdays[e.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(e){return this._weekdaysShort[e.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(e){return this._weekdaysMin[e.day()]},weekdaysParse:function(e){var t,a,n;for(this._weekdaysParse||(this._weekdaysParse=[]),t=0;7>t;t++)if(this._weekdaysParse[t]||(a=Q([2e3,1]).day(t),n="^"+this.weekdays(a,"")+"|^"+this.weekdaysShort(a,"")+"|^"+this.weekdaysMin(a,""),this._weekdaysParse[t]=new RegExp(n.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,(function(e){return e.slice(1)})),this._longDateFormat[e]=t),t},isPM:function(e){return"p"===(e+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(e,t,a){return e>11?a?"pm":"PM":a?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(e,t){var a=this._calendar[e];return"function"==typeof a?a.apply(t):a},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(e,t,a,n){var s=this._relativeTime[a];return"function"==typeof s?s(e,t,a,n):s.replace(/%d/i,e)},pastFuture:function(e,t){var a=this._relativeTime[e>0?"future":"past"];return"function"==typeof a?a(t):a.replace(/%s/i,t)},ordinal:function(e){return this._ordinal.replace("%d",e)},_ordinal:"%d",preparse:function(e){return e},postformat:function(e){return e},week:function(e){return H(e,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),(Q=function(t,a,n,s){var i;return"boolean"==typeof n&&(s=n,n=e),(i={})._isAMomentObject=!0,i._i=t,i._f=a,i._l=n,i._strict=s,i._isUTC=!1,i._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1},V(i)}).suppressDeprecationWarnings=!1,Q.createFromInputFallback=a("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",(function(e){e._d=new Date(e._i)})),Q.min=function(){var e=[].slice.call(arguments,0);return W("isBefore",e)},Q.max=function(){var e=[].slice.call(arguments,0);return W("isAfter",e)},Q.utc=function(t,a,n,s){var i;return"boolean"==typeof n&&(s=n,n=e),(i={})._isAMomentObject=!0,i._useUTC=!0,i._isUTC=!0,i._l=n,i._i=t,i._f=a,i._strict=s,i._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1},V(i).utc()},Q.unix=function(e){return Q(1e3*e)},Q.duration=function(e,t){var a,n,s,i=e,r=null;return Q.isDuration(e)?i={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(i={},t?i[t]=e:i.milliseconds=e):(r=_e.exec(e))?(a="-"===r[1]?-1:1,i={y:0,d:h(r[ie])*a,h:h(r[re])*a,m:h(r[oe])*a,s:h(r[le])*a,ms:h(r[de])*a}):(r=fe.exec(e))&&(a="-"===r[1]?-1:1,i={y:(s=function(e){var t=e&&parseFloat(e.replace(",","."));return(isNaN(t)?0:t)*a})(r[2]),M:s(r[3]),d:s(r[4]),h:s(r[5]),m:s(r[6]),s:s(r[7]),w:s(r[8])}),n=new o(i),Q.isDuration(e)&&e.hasOwnProperty("_lang")&&(n._lang=e._lang),n},Q.version="2.7.0",Q.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",Q.ISO_8601=function(){},Q.momentProperties=ce,Q.updateOffset=function(){},Q.relativeTimeThreshold=function(t,a){return He[t]!==e&&(He[t]=a,!0)},Q.lang=function(e,t){return e?(t?(function(e,t){t.abbr=e,ue[e]||(ue[e]=new i),ue[e].set(t),ue[e]})(T(e),t):null===t?((function(e){delete ue[e]})(e),e="en"):ue[e]||D(e),(Q.duration.fn._lang=Q.fn._lang=D(e))._abbr):Q.fn._lang._abbr},Q.langData=function(e){return e&&e._lang&&e._lang._abbr&&(e=e._lang._abbr),D(e)},Q.isMoment=function(e){return e instanceof r||null!=e&&e.hasOwnProperty("_isAMomentObject")},Q.isDuration=function(e){return e instanceof o},ee=ze.length-1;ee>=0;--ee)g(ze[ee]);for(ee in Q.normalizeUnits=function(e){return _(e)},Q.invalid=function(e){var t=Q.utc(NaN);return null!=e?l(t._pf,e):t._pf.userInvalidated=!0,t},Q.parseZone=function(){return Q.apply(null,arguments).parseZone()},Q.parseTwoDigitYear=function(e){return h(e)+(h(e)>68?1900:2e3)},l(Q.fn=r.prototype,{clone:function(){return Q(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var e=Q(this).utc();return 0<e.year()&&e.year()<=9999?C(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):C(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds()]},isValid:function(){return L(this)},isDSTShifted:function(){return!!this._a&&(this.isValid()&&m(this._a,(this._isUTC?Q.utc(this._a):Q(this._a)).toArray())>0)},parsingFlags:function(){return l({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(e){var t=C(this,e||Q.defaultFormat);return this.lang().postformat(t)},add:function(e,t){return c(this,"string"==typeof e&&"string"==typeof t?Q.duration(isNaN(+t)?+e:+t,isNaN(+t)?t:e):"string"==typeof e?Q.duration(+t,e):Q.duration(e,t),1),this},subtract:function(e,t){return c(this,"string"==typeof e&&"string"==typeof t?Q.duration(isNaN(+t)?+e:+t,isNaN(+t)?t:e):"string"==typeof e?Q.duration(+t,e):Q.duration(e,t),-1),this},diff:function(e,t,a){var n,s,i=w(e,this),r=6e4*(this.zone()-i.zone());return"year"===(t=_(t))||"month"===t?(n=432e5*(this.daysInMonth()+i.daysInMonth()),s=12*(this.year()-i.year())+(this.month()-i.month()),s+=(this-Q(this).startOf("month")-(i-Q(i).startOf("month")))/n,s-=6e4*(this.zone()-Q(this).startOf("month").zone()-(i.zone()-Q(i).startOf("month").zone()))/n,"year"===t&&(s/=12)):(n=this-i,s="second"===t?n/1e3:"minute"===t?n/6e4:"hour"===t?n/36e5:"day"===t?(n-r)/864e5:"week"===t?(n-r)/6048e5:n),a?s:d(s)},from:function(e,t){return Q.duration(this.diff(e)).lang(this.lang()._abbr).humanize(!t)},fromNow:function(e){return this.from(Q(),e)},calendar:function(e){var t=w(e||Q(),this).startOf("day"),a=this.diff(t,"days",!0),n=-6>a?"sameElse":-1>a?"lastWeek":0>a?"lastDay":1>a?"sameDay":2>a?"nextDay":7>a?"nextWeek":"sameElse";return this.format(this.lang().calendar(n,this))},isLeapYear:function(){return S(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=(function(e,t){if("string"==typeof e)if(isNaN(e)){if("number"!=typeof(e=t.weekdaysParse(e)))return null}else e=parseInt(e,10);return e})(e,this.lang()),this.add({d:e-t})):t},month:J("Month",!0),startOf:function(e){switch(e=_(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e?this.weekday(0):"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(e){return e=_(e),this.startOf(e).add("isoWeek"===e?"week":e,1).subtract("ms",1)},isAfter:function(e,t){return t=void 0!==t?t:"millisecond",+this.clone().startOf(t)>+Q(e).startOf(t)},isBefore:function(e,t){return t=void 0!==t?t:"millisecond",+this.clone().startOf(t)<+Q(e).startOf(t)},isSame:function(e,t){return t=t||"ms",+this.clone().startOf(t)==+w(e,this).startOf(t)},min:a("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",(function(e){return this>(e=Q.apply(null,arguments))?this:e})),max:a("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",(function(e){return(e=Q.apply(null,arguments))>this?this:e})),zone:function(e,t){var a=this._offset||0;return null==e?this._isUTC?a:this._d.getTimezoneOffset():("string"==typeof e&&(e=Y(e)),Math.abs(e)<16&&(e*=60),this._offset=e,this._isUTC=!0,a!==e&&(!t||this._changeInProgress?c(this,Q.duration(a-e,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Q.updateOffset(this,!0),this._changeInProgress=null)),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(e){return e=e?Q(e).zone():0,(this.zone()-e)%60==0},daysInMonth:function(){return y(this.year(),this.month())},dayOfYear:function(e){var t=ae((Q(this).startOf("day")-Q(this).startOf("year"))/864e5)+1;return null==e?t:this.add("d",e-t)},quarter:function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},weekYear:function(e){var t=H(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==e?t:this.add("y",e-t)},isoWeekYear:function(e){var t=H(this,1,4).year;return null==e?t:this.add("y",e-t)},week:function(e){var t=this.lang().week(this);return null==e?t:this.add("d",7*(e-t))},isoWeek:function(e){var t=H(this,1,4).week;return null==e?t:this.add("d",7*(e-t))},weekday:function(e){var t=(this.day()+7-this.lang()._week.dow)%7;return null==e?t:this.add("d",e-t)},isoWeekday:function(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)},isoWeeksInYear:function(){return M(this.year(),1,4)},weeksInYear:function(){var e=this._lang._week;return M(this.year(),e.dow,e.doy)},get:function(e){return this[e=_(e)]()},set:function(e,t){return"function"==typeof this[e=_(e)]&&this[e](t),this},lang:function(t){return t===e?this._lang:(this._lang=D(t),this)}}),Q.fn.millisecond=Q.fn.milliseconds=J("Milliseconds",!1),Q.fn.second=Q.fn.seconds=J("Seconds",!1),Q.fn.minute=Q.fn.minutes=J("Minutes",!1),Q.fn.hour=Q.fn.hours=J("Hours",!0),Q.fn.date=J("Date",!0),Q.fn.dates=a("dates accessor is deprecated. Use date instead.",J("Date",!0)),Q.fn.year=J("FullYear",!0),Q.fn.years=a("years accessor is deprecated. Use year instead.",J("FullYear",!0)),Q.fn.days=Q.fn.day,Q.fn.months=Q.fn.month,Q.fn.weeks=Q.fn.week,Q.fn.isoWeeks=Q.fn.isoWeek,Q.fn.quarters=Q.fn.quarter,Q.fn.toJSON=Q.fn.toISOString,l(Q.duration.fn=o.prototype,{_bubble:function(){var e,t,a,n,s=this._milliseconds,i=this._days,r=this._months,o=this._data;o.milliseconds=s%1e3,e=d(s/1e3),o.seconds=e%60,t=d(e/60),o.minutes=t%60,a=d(t/60),o.hours=a%24,i+=d(a/24),o.days=i%30,r+=d(i/30),o.months=r%12,n=d(r/12),o.years=n},weeks:function(){return d(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*h(this._months/12)},humanize:function(e){var t=+this,a=(function(e,t,a){var n=ae(Math.abs(e)/1e3),s=ae(n/60),i=ae(s/60),r=ae(i/24),o=ae(r/365),l=n<He.s&&["s",n]||1===s&&["m"]||s<He.m&&["mm",s]||1===i&&["h"]||i<He.h&&["hh",i]||1===r&&["d"]||r<=He.dd&&["dd",r]||r<=He.dm&&["M"]||r<He.dy&&["MM",ae(r/30)]||1===o&&["y"]||["yy",o];return l[2]=t,l[3]=e>0,l[4]=a,j.apply({},l)})(t,!e,this.lang());return e&&(a=this.lang().pastFuture(t,a)),this.lang().postformat(a)},add:function(e,t){var a=Q.duration(e,t);return this._milliseconds+=a._milliseconds,this._days+=a._days,this._months+=a._months,this._bubble(),this},subtract:function(e,t){var a=Q.duration(e,t);return this._milliseconds-=a._milliseconds,this._days-=a._days,this._months-=a._months,this._bubble(),this},get:function(e){return this[(e=_(e)).toLowerCase()+"s"]()},as:function(e){return this["as"+(e=_(e)).charAt(0).toUpperCase()+e.slice(1)+"s"]()},lang:Q.fn.lang,toIsoString:function(){var e=Math.abs(this.years()),t=Math.abs(this.months()),a=Math.abs(this.days()),n=Math.abs(this.hours()),s=Math.abs(this.minutes()),i=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(e?e+"Y":"")+(t?t+"M":"")+(a?a+"D":"")+(n||s||i?"T":"")+(n?n+"H":"")+(s?s+"M":"")+(i?i+"S":""):"P0D"}}),Be)Be.hasOwnProperty(ee)&&(X(ee,Be[ee]),K(ee.toLowerCase()));X("Weeks",6048e5),Q.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},Q.lang("en",{ordinal:function(e){var t=e%10;return e+(1===h(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),(function(e){e.lang("ar-ma",{months:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),monthsShort:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),weekdays:"الأحد_الإتنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"احد_اتنين_ثلاثاء_اربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:6,doy:12}})})(Q),(function(e){var t={1:"١",2:"٢",3:"٣",4:"٤",5:"٥",6:"٦",7:"٧",8:"٨",9:"٩",0:"٠"},a={"١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","٠":"0"};e.lang("ar-sa",{months:"يناير_فبراير_مارس_أبريل_مايو_يونيو_يوليو_أغسطس_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),monthsShort:"يناير_فبراير_مارس_أبريل_مايو_يونيو_يوليو_أغسطس_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},meridiem:function(e){return 12>e?"ص":"م"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},preparse:function(e){return e.replace(/[۰-۹]/g,(function(e){return a[e]})).replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"،")},week:{dow:6,doy:12}})})(Q),(function(e){var t={1:"١",2:"٢",3:"٣",4:"٤",5:"٥",6:"٦",7:"٧",8:"٨",9:"٩",0:"٠"},a={"١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","٠":"0"};e.lang("ar",{months:"يناير/ كانون الثاني_فبراير/ شباط_مارس/ آذار_أبريل/ نيسان_مايو/ أيار_يونيو/ حزيران_يوليو/ تموز_أغسطس/ آب_سبتمبر/ أيلول_أكتوبر/ تشرين الأول_نوفمبر/ تشرين الثاني_ديسمبر/ كانون الأول".split("_"),monthsShort:"يناير/ كانون الثاني_فبراير/ شباط_مارس/ آذار_أبريل/ نيسان_مايو/ أيار_يونيو/ حزيران_يوليو/ تموز_أغسطس/ آب_سبتمبر/ أيلول_أكتوبر/ تشرين الأول_نوفمبر/ تشرين الثاني_ديسمبر/ كانون الأول".split("_"),weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},meridiem:function(e){return 12>e?"ص":"م"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},preparse:function(e){return e.replace(/[۰-۹]/g,(function(e){return a[e]})).replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"،")},week:{dow:6,doy:12}})})(Q),(function(e){var t={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-üncü",4:"-üncü",100:"-üncü",6:"-ncı",9:"-uncu",10:"-uncu",30:"-uncu",60:"-ıncı",90:"-ıncı"};e.lang("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ertəsi_Çərşənbə axşamı_Çərşənbə_Cümə axşamı_Cümə_Şənbə".split("_"),weekdaysShort:"Baz_BzE_ÇAx_Çər_CAx_Cüm_Şən".split("_"),weekdaysMin:"Bz_BE_ÇA_Çə_CA_Cü_Şə".split("_"),longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[bugün saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[gələn həftə] dddd [saat] LT",lastDay:"[dünən] LT",lastWeek:"[keçən həftə] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s əvvəl",s:"birneçə saniyyə",m:"bir dəqiqə",mm:"%d dəqiqə",h:"bir saat",hh:"%d saat",d:"bir gün",dd:"%d gün",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiem:function(e){return 4>e?"gecə":12>e?"səhər":17>e?"gündüz":"axşam"},ordinal:function(e){if(0===e)return e+"-ıncı";var a=e%10;return e+(t[a]||t[e%100-a]||t[e>=100?100:null])},week:{dow:1,doy:7}})})(Q),(function(e){e.lang("bg",{months:"януари_февруари_март_април_май_юни_юли_август_септември_октомври_ноември_декември".split("_"),monthsShort:"янр_фев_мар_апр_май_юни_юли_авг_сеп_окт_ное_дек".split("_"),weekdays:"неделя_понеделник_вторник_сряда_четвъртък_петък_събота".split("_"),weekdaysShort:"нед_пон_вто_сря_чет_пет_съб".split("_"),weekdaysMin:"нд_пн_вт_ср_чт_пт_сб".split("_"),longDateFormat:{LT:"H:mm",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Днес в] LT",nextDay:"[Утре в] LT",nextWeek:"dddd [в] LT",lastDay:"[Вчера в] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[В изминалата] dddd [в] LT";case 1:case 2:case 4:case 5:return"[В изминалия] dddd [в] LT"}},sameElse:"L"},relativeTime:{future:"след %s",past:"преди %s",s:"няколко секунди",m:"минута",mm:"%d минути",h:"час",hh:"%d часа",d:"ден",dd:"%d дни",M:"месец",MM:"%d месеца",y:"година",yy:"%d години"},ordinal:function(e){var t=e%10,a=e%100;return 0===e?e+"-ев":0===a?e+"-ен":a>10&&20>a?e+"-ти":1===t?e+"-ви":2===t?e+"-ри":7===t||8===t?e+"-ми":e+"-ти"},week:{dow:1,doy:7}})})(Q),(function(e){var t={1:"১",2:"২",3:"৩",4:"৪",5:"৫",6:"৬",7:"৭",8:"৮",9:"৯",0:"০"},a={"১":"1","২":"2","৩":"3","৪":"4","৫":"5","৬":"6","৭":"7","৮":"8","৯":"9","০":"0"};e.lang("bn",{months:"জানুয়ারী_ফেবুয়ারী_মার্চ_এপ্রিল_মে_জুন_জুলাই_অগাস্ট_সেপ্টেম্বর_অক্টোবর_নভেম্বর_ডিসেম্বর".split("_"),monthsShort:"জানু_ফেব_মার্চ_এপর_মে_জুন_জুল_অগ_সেপ্ট_অক্টো_নভ_ডিসেম্".split("_"),weekdays:"রবিবার_সোমবার_মঙ্গলবার_বুধবার_বৃহস্পত্তিবার_শুক্রুবার_শনিবার".split("_"),weekdaysShort:"রবি_সোম_মঙ্গল_বুধ_বৃহস্পত্তি_শুক্রু_শনি".split("_"),weekdaysMin:"রব_সম_মঙ্গ_বু_ব্রিহ_শু_শনি".split("_"),longDateFormat:{LT:"A h:mm সময়",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[আজ] LT",nextDay:"[আগামীকাল] LT",nextWeek:"dddd, LT",lastDay:"[গতকাল] LT",lastWeek:"[গত] dddd, LT",sameElse:"L"},relativeTime:{future:"%s পরে",past:"%s আগে",s:"কএক সেকেন্ড",m:"এক মিনিট",mm:"%d মিনিট",h:"এক ঘন্টা",hh:"%d ঘন্টা",d:"এক দিন",dd:"%d দিন",M:"এক মাস",MM:"%d মাস",y:"এক বছর",yy:"%d বছর"},preparse:function(e){return e.replace(/[১২৩৪৫৬৭৮৯০]/g,(function(e){return a[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiem:function(e){return 4>e?"রাত":10>e?"শকাল":17>e?"দুপুর":20>e?"বিকেল":"রাত"},week:{dow:0,doy:6}})})(Q),(function(e){e(Q)})((function(t){function a(e,t,a){return e+" "+(function(e,t){return 2===t?n(e):e})({mm:"munutenn",MM:"miz",dd:"devezh"}[a],e)}function n(t){var a={m:"v",b:"v",d:"z"};return a[t.charAt(0)]===e?t:a[t.charAt(0)]+t.substring(1)}return t.lang("br",{months:"Genver_C'hwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C'hwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc'her_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),longDateFormat:{LT:"h[e]mm A",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY LT",LLLL:"dddd, D [a viz] MMMM YYYY LT"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc'hoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec'h da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s 'zo",s:"un nebeud segondennoù",m:"ur vunutenn",mm:a,h:"un eur",hh:"%d eur",d:"un devezh",dd:a,M:"ur miz",MM:a,y:"ur bloaz",yy:function(e){switch((function e(t){return t>9?e(t%10):t})(e)){case 1:case 3:case 4:case 5:case 9:return e+" bloaz";default:return e+" vloaz"}}},ordinal:function(e){return e+(1===e?"añ":"vet")},week:{dow:1,doy:4}})})),(function(e){function t(e,t,a){var n=e+" ";switch(a){case"m":return t?"jedna minuta":"jedne minute";case"mm":return n+(1===e?"minuta":2===e||3===e||4===e?"minute":"minuta");case"h":return t?"jedan sat":"jednog sata";case"hh":return n+(1===e?"sat":2===e||3===e||4===e?"sata":"sati");case"dd":return n+(1===e?"dan":"dana");case"MM":return n+(1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci");case"yy":return n+(1===e?"godina":2===e||3===e||4===e?"godine":"godina")}}e.lang("bs",{months:"januar_februar_mart_april_maj_juni_juli_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),longDateFormat:{LT:"H:mm",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jučer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prošlu] dddd [u] LT";case 6:return"[prošle] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[prošli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},ordinal:"%d.",week:{dow:1,doy:7}})})(Q),(function(e){e.lang("ca",{months:"gener_febrer_març_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),monthsShort:"gen._febr._mar._abr._mai._jun._jul._ag._set._oct._nov._des.".split("_"),weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"Dg_Dl_Dt_Dc_Dj_Dv_Ds".split("_"),longDateFormat:{LT:"H:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[demà a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"fa %s",s:"uns segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},ordinal:"%dº",week:{dow:1,doy:4}})})(Q),(function(e){function t(e){return e>1&&5>e&&1!=~~(e/10)}function a(e,a,n,s){var i=e+" ";switch(n){case"s":return a||s?"pár sekund":"pár sekundami";case"m":return a?"minuta":s?"minutu":"minutou";case"mm":return a||s?i+(t(e)?"minuty":"minut"):i+"minutami";case"h":return a?"hodina":s?"hodinu":"hodinou";case"hh":return a||s?i+(t(e)?"hodiny":"hodin"):i+"hodinami";case"d":return a||s?"den":"dnem";case"dd":return a||s?i+(t(e)?"dny":"dní"):i+"dny";case"M":return a||s?"měsíc":"měsícem";case"MM":return a||s?i+(t(e)?"měsíce":"měsíců"):i+"měsíci";case"y":return a||s?"rok":"rokem";case"yy":return a||s?i+(t(e)?"roky":"let"):i+"lety"}}var n="leden_únor_březen_duben_květen_červen_červenec_srpen_září_říjen_listopad_prosinec".split("_"),s="led_úno_bře_dub_kvě_čvn_čvc_srp_zář_říj_lis_pro".split("_");e.lang("cs",{months:n,monthsShort:s,monthsParse:(function(e,t){var a,n=[];for(a=0;12>a;a++)n[a]=new RegExp("^"+e[a]+"$|^"+t[a]+"$","i");return n})(n,s),weekdays:"neděle_pondělí_úterý_středa_čtvrtek_pátek_sobota".split("_"),weekdaysShort:"ne_po_út_st_čt_pá_so".split("_"),weekdaysMin:"ne_po_út_st_čt_pá_so".split("_"),longDateFormat:{LT:"H.mm",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd D. MMMM YYYY LT"},calendar:{sameDay:"[dnes v] LT",nextDay:"[zítra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v neděli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve středu v] LT";case 4:return"[ve čtvrtek v] LT";case 5:return"[v pátek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[včera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou neděli v] LT";case 1:case 2:return"[minulé] dddd [v] LT";case 3:return"[minulou středu v] LT";case 4:case 5:return"[minulý] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"před %s",s:a,m:a,mm:a,h:a,hh:a,d:a,dd:a,M:a,MM:a,y:a,yy:a},ordinal:"%d.",week:{dow:1,doy:4}})})(Q),(function(e){e.lang("cv",{months:"кăрлач_нарăс_пуш_ака_май_çĕртме_утă_çурла_авăн_юпа_чӳк_раштав".split("_"),monthsShort:"кăр_нар_пуш_ака_май_çĕр_утă_çур_ав_юпа_чӳк_раш".split("_"),weekdays:"вырсарникун_тунтикун_ытларикун_юнкун_кĕçнерникун_эрнекун_шăматкун".split("_"),weekdaysShort:"выр_тун_ытл_юн_кĕç_эрн_шăм".split("_"),weekdaysMin:"вр_тн_ыт_юн_кç_эр_шм".split("_"),longDateFormat:{LT:"HH:mm",L:"DD-MM-YYYY",LL:"YYYY [çулхи] MMMM [уйăхĕн] D[-мĕшĕ]",LLL:"YYYY [çулхи] MMMM [уйăхĕн] D[-мĕшĕ], LT",LLLL:"dddd, YYYY [çулхи] MMMM [уйăхĕн] D[-мĕшĕ], LT"},calendar:{sameDay:"[Паян] LT [сехетре]",nextDay:"[Ыран] LT [сехетре]",lastDay:"[Ĕнер] LT [сехетре]",nextWeek:"[Çитес] dddd LT [сехетре]",lastWeek:"[Иртнĕ] dddd LT [сехетре]",sameElse:"L"},relativeTime:{future:function(e){return e+(/сехет$/i.exec(e)?"рен":/çул$/i.exec(e)?"тан":"ран")},past:"%s каялла",s:"пĕр-ик çеккунт",m:"пĕр минут",mm:"%d минут",h:"пĕр сехет",hh:"%d сехет",d:"пĕр кун",dd:"%d кун",M:"пĕр уйăх",MM:"%d уйăх",y:"пĕр çул",yy:"%d çул"},ordinal:"%d-мĕш",week:{dow:1,doy:7}})})(Q),(function(e){e.lang("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn ôl",s:"ychydig eiliadau",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},ordinal:function(e){var t="";return e>20?t=40===e||50===e||60===e||80===e||100===e?"fed":"ain":e>0&&(t=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"][e]),e+t},week:{dow:1,doy:4}})})(Q),(function(e){e.lang("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag".split("_"),weekdaysShort:"søn_man_tir_ons_tor_fre_lør".split("_"),weekdaysMin:"sø_ma_ti_on_to_fr_lø".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd [d.] D. MMMM YYYY LT"},calendar:{sameDay:"[I dag kl.] LT",nextDay:"[I morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[I går kl.] LT",lastWeek:"[sidste] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"få sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en måned",MM:"%d måneder",y:"et år",yy:"%d år"},ordinal:"%d.",week:{dow:1,doy:4}})})(Q),(function(e){function t(e,t,a){var n={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?n[a][0]:n[a][1]}e.lang("de-at",{months:"Jänner_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jän._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm [Uhr]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[Heute um] LT",sameElse:"L",nextDay:"[Morgen um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gestern um] LT",lastWeek:"[letzten] dddd [um] LT"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,M:t,MM:t,y:t,yy:t},ordinal:"%d.",week:{dow:1,doy:4}})})(Q),(function(e){function t(e,t,a){var n={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?n[a][0]:n[a][1]}e.lang("de",{months:"Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm [Uhr]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[Heute um] LT",sameElse:"L",nextDay:"[Morgen um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gestern um] LT",lastWeek:"[letzten] dddd [um] LT"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,M:t,MM:t,y:t,yy:t},ordinal:"%d.",week:{dow:1,doy:4}})})(Q),(function(e){e.lang("el",{monthsNominativeEl:"Ιανουάριος_Φεβρουάριος_Μάρτιος_Απρίλιος_Μάιος_Ιούνιος_Ιούλιος_Αύγουστος_Σεπτέμβριος_Οκτώβριος_Νοέμβριος_Δεκέμβριος".split("_"),monthsGenitiveEl:"Ιανουαρίου_Φεβρουαρίου_Μαρτίου_Απριλίου_Μαΐου_Ιουνίου_Ιουλίου_Αυγούστου_Σεπτεμβρίου_Οκτωβρίου_Νοεμβρίου_Δεκεμβρίου".split("_"),months:function(e,t){return/D/.test(t.substring(0,t.indexOf("MMMM")))?this._monthsGenitiveEl[e.month()]:this._monthsNominativeEl[e.month()]},monthsShort:"Ιαν_Φεβ_Μαρ_Απρ_Μαϊ_Ιουν_Ιουλ_Αυγ_Σεπ_Οκτ_Νοε_Δεκ".split("_"),weekdays:"Κυριακή_Δευτέρα_Τρίτη_Τετάρτη_Πέμπτη_Παρασκευή_Σάββατο".split("_"),weekdaysShort:"Κυρ_Δευ_Τρι_Τετ_Πεμ_Παρ_Σαβ".split("_"),weekdaysMin:"Κυ_Δε_Τρ_Τε_Πε_Πα_Σα".split("_"),meridiem:function(e,t,a){return e>11?a?"μμ":"ΜΜ":a?"πμ":"ΠΜ"},longDateFormat:{LT:"h:mm A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendarEl:{sameDay:"[Σήμερα {}] LT",nextDay:"[Αύριο {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[Χθες {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[το προηγούμενο] dddd [{}] LT";default:return"[την προηγούμενη] dddd [{}] LT"}},sameElse:"L"},calendar:function(e,t){var a=this._calendarEl[e],n=t&&t.hours();return"function"==typeof a&&(a=a.apply(t)),a.replace("{}",n%12==1?"στη":"στις")},relativeTime:{future:"σε %s",past:"%s πριν",s:"δευτερόλεπτα",m:"ένα λεπτό",mm:"%d λεπτά",h:"μία ώρα",hh:"%d ώρες",d:"μία μέρα",dd:"%d μέρες",M:"ένας μήνας",MM:"%d μήνες",y:"ένας χρόνος",yy:"%d χρόνια"},ordinal:function(e){return e+"η"},week:{dow:1,doy:4}})})(Q),(function(e){e.lang("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})})(Q),(function(e){e.lang("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",L:"YYYY-MM-DD",LL:"D MMMM, YYYY",LLL:"D MMMM, YYYY LT",LLLL:"dddd, D MMMM, YYYY LT"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}})})(Q),(function(e){e.lang("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})})(Q),(function(e){e.lang("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_aŭgusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aŭg_sep_okt_nov_dec".split("_"),weekdays:"Dimanĉo_Lundo_Mardo_Merkredo_Ĵaŭdo_Vendredo_Sabato".split("_"),weekdaysShort:"Dim_Lun_Mard_Merk_Ĵaŭ_Ven_Sab".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Ĵa_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",L:"YYYY-MM-DD",LL:"D[-an de] MMMM, YYYY",LLL:"D[-an de] MMMM, YYYY LT",LLLL:"dddd, [la] D[-an de] MMMM, YYYY LT"},meridiem:function(e,t,a){return e>11?a?"p.t.m.":"P.T.M.":a?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodiaŭ je] LT",nextDay:"[Morgaŭ je] LT",nextWeek:"dddd [je] LT",lastDay:"[Hieraŭ je] LT",lastWeek:"[pasinta] dddd [je] LT",sameElse:"L"},relativeTime:{future:"je %s",past:"antaŭ %s",s:"sekundoj",m:"minuto",mm:"%d minutoj",h:"horo",hh:"%d horoj",d:"tago",dd:"%d tagoj",M:"monato",MM:"%d monatoj",y:"jaro",yy:"%d jaroj"},ordinal:"%da",week:{dow:1,doy:7}})})(Q),(function(e){var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),a="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_");e.lang("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,n){return/-MMM-/.test(n)?a[e.month()]:t[e.month()]},weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sá".split("_"),longDateFormat:{LT:"H:mm",L:"DD/MM/YYYY",LL:"D [de] MMMM [del] YYYY",LLL:"D [de] MMMM [del] YYYY LT",LLLL:"dddd, D [de] MMMM [del] YYYY LT"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},ordinal:"%dº",week:{dow:1,doy:4}})})(Q),(function(e){function t(e,t,a,n){var s={s:["mõne sekundi","mõni sekund","paar sekundit"],m:["ühe minuti","üks minut"],mm:[e+" minuti",e+" minutit"],h:["ühe tunni","tund aega","üks tund"],hh:[e+" tunni",e+" tundi"],d:["ühe päeva","üks päev"],M:["kuu aja","kuu aega","üks kuu"],MM:[e+" kuu",e+" kuud"],y:["ühe aasta","aasta","üks aasta"],yy:[e+" aasta",e+" aastat"]};return t?s[a][2]?s[a][2]:s[a][1]:n?s[a][0]:s[a][1]}e.lang("et",{months:"jaanuar_veebruar_märts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_märts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"pühapäev_esmaspäev_teisipäev_kolmapäev_neljapäev_reede_laupäev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[Täna,] LT",nextDay:"[Homme,] LT",nextWeek:"[Järgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s pärast",past:"%s tagasi",s:t,m:t,mm:t,h:t,hh:t,d:t,dd:"%d päeva",M:t,MM:t,y:t,yy:t},ordinal:"%d.",week:{dow:1,doy:4}})})(Q),(function(e){e.lang("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),longDateFormat:{LT:"HH:mm",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] LT",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] LT",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] LT",llll:"ddd, YYYY[ko] MMM D[a] LT"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},ordinal:"%d.",week:{dow:1,doy:7}})})(Q),(function(e){var t={1:"۱",2:"۲",3:"۳",4:"۴",5:"۵",6:"۶",7:"۷",8:"۸",9:"۹",0:"۰"},a={"۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9","۰":"0"};e.lang("fa",{months:"ژانویه_فوریه_مارس_آوریل_مه_ژوئن_ژوئیه_اوت_سپتامبر_اکتبر_نوامبر_دسامبر".split("_"),monthsShort:"ژانویه_فوریه_مارس_آوریل_مه_ژوئن_ژوئیه_اوت_سپتامبر_اکتبر_نوامبر_دسامبر".split("_"),weekdays:"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_جمعه_شنبه".split("_"),weekdaysShort:"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_جمعه_شنبه".split("_"),weekdaysMin:"ی_د_س_چ_پ_ج_ش".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},meridiem:function(e){return 12>e?"قبل از ظهر":"بعد از ظهر"},calendar:{sameDay:"[امروز ساعت] LT",nextDay:"[فردا ساعت] LT",nextWeek:"dddd [ساعت] LT",lastDay:"[دیروز ساعت] LT",lastWeek:"dddd [پیش] [ساعت] LT",sameElse:"L"},relativeTime:{future:"در %s",past:"%s پیش",s:"چندین ثانیه",m:"یک دقیقه",mm:"%d دقیقه",h:"یک ساعت",hh:"%d ساعت",d:"یک روز",dd:"%d روز",M:"یک ماه",MM:"%d ماه",y:"یک سال",yy:"%d سال"},preparse:function(e){return e.replace(/[۰-۹]/g,(function(e){return a[e]})).replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"،")},ordinal:"%dم",week:{dow:6,doy:12}})})(Q),(function(e){function t(e,t,n,s){var i="";switch(n){case"s":return s?"muutaman sekunnin":"muutama sekunti";case"m":return s?"minuutin":"minuutti";case"mm":i=s?"minuutin":"minuuttia";break;case"h":return s?"tunnin":"tunti";case"hh":i=s?"tunnin":"tuntia";break;case"d":return s?"päivän":"päivä";case"dd":i=s?"päivän":"päivää";break;case"M":return s?"kuukauden":"kuukausi";case"MM":i=s?"kuukauden":"kuukautta";break;case"y":return s?"vuoden":"vuosi";case"yy":i=s?"vuoden":"vuotta"}return a(e,s)+" "+i}function a(e,t){return 10>e?t?s[e]:n[e]:e}var n="nolla yksi kaksi kolme neljä viisi kuusi seitsemän kahdeksan yhdeksän".split(" "),s=["nolla","yhden","kahden","kolmen","neljän","viiden","kuuden",n[7],n[8],n[9]];e.lang("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kesäkuu_heinäkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kesä_heinä_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] LT",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] LT",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] LT",llll:"ddd, Do MMM YYYY, [klo] LT"},calendar:{sameDay:"[tänään] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s päästä",past:"%s sitten",s:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},ordinal:"%d.",week:{dow:1,doy:4}})})(Q),(function(e){e.lang("fo",{months:"januar_februar_mars_apríl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_mánadagur_týsdagur_mikudagur_hósdagur_fríggjadagur_leygardagur".split("_"),weekdaysShort:"sun_mán_týs_mik_hós_frí_ley".split("_"),weekdaysMin:"su_má_tý_mi_hó_fr_le".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D. MMMM, YYYY LT"},calendar:{sameDay:"[Í dag kl.] LT",nextDay:"[Í morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[Í gjár kl.] LT",lastWeek:"[síðstu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s síðani",s:"fá sekund",m:"ein minutt",mm:"%d minuttir",h:"ein tími",hh:"%d tímar",d:"ein dagur",dd:"%d dagar",M:"ein mánaði",MM:"%d mánaðir",y:"eitt ár",yy:"%d ár"},ordinal:"%d.",week:{dow:1,doy:4}})})(Q),(function(e){e.lang("fr-ca",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Aujourd'hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinal:function(e){return e+(1===e?"er":"")}})})(Q),(function(e){e.lang("fr",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Aujourd'hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinal:function(e){return e+(1===e?"er":"")},week:{dow:1,doy:4}})})(Q),(function(e){e.lang("gl",{months:"Xaneiro_Febreiro_Marzo_Abril_Maio_Xuño_Xullo_Agosto_Setembro_Outubro_Novembro_Decembro".split("_"),monthsShort:"Xan._Feb._Mar._Abr._Mai._Xuñ._Xul._Ago._Set._Out._Nov._Dec.".split("_"),weekdays:"Domingo_Luns_Martes_Mércores_Xoves_Venres_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mér._Xov._Ven._Sáb.".split("_"),weekdaysMin:"Do_Lu_Ma_Mé_Xo_Ve_Sá".split("_"),longDateFormat:{LT:"H:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"ás":"á")+"] LT"},nextDay:function(){return"[mañá "+(1!==this.hours()?"ás":"á")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"ás":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"á":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"ás":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(e){return"uns segundos"===e?"nuns segundos":"en "+e},past:"hai %s",s:"uns segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},ordinal:"%dº",week:{dow:1,doy:7}})})(Q),(function(e){e.lang("he",{months:"ינואר_פברואר_מרץ_אפריל_מאי_יוני_יולי_אוגוסט_ספטמבר_אוקטובר_נובמבר_דצמבר".split("_"),monthsShort:"ינו׳_פבר׳_מרץ_אפר׳_מאי_יוני_יולי_אוג׳_ספט׳_אוק׳_נוב׳_דצמ׳".split("_"),weekdays:"ראשון_שני_שלישי_רביעי_חמישי_שישי_שבת".split("_"),weekdaysShort:"א׳_ב׳_ג׳_ד׳_ה׳_ו׳_ש׳".split("_"),weekdaysMin:"א_ב_ג_ד_ה_ו_ש".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D [ב]MMMM YYYY",LLL:"D [ב]MMMM YYYY LT",LLLL:"dddd, D [ב]MMMM YYYY LT",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY LT",llll:"ddd, D MMM YYYY LT"},calendar:{sameDay:"[היום ב־]LT",nextDay:"[מחר ב־]LT",nextWeek:"dddd [בשעה] LT",lastDay:"[אתמול ב־]LT",lastWeek:"[ביום] dddd [האחרון בשעה] LT",sameElse:"L"},relativeTime:{future:"בעוד %s",past:"לפני %s",s:"מספר שניות",m:"דקה",mm:"%d דקות",h:"שעה",hh:function(e){return 2===e?"שעתיים":e+" שעות"},d:"יום",dd:function(e){return 2===e?"יומיים":e+" ימים"},M:"חודש",MM:function(e){return 2===e?"חודשיים":e+" חודשים"},y:"שנה",yy:function(e){return 2===e?"שנתיים":e+" שנים"}}})})(Q),(function(e){var t={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},a={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"};e.lang("hi",{months:"जनवरी_फ़रवरी_मार्च_अप्रैल_मई_जून_जुलाई_अगस्त_सितम्बर_अक्टूबर_नवम्बर_दिसम्बर".split("_"),monthsShort:"जन._फ़र._मार्च_अप्रै._मई_जून_जुल._अग._सित._अक्टू._नव._दिस.".split("_"),weekdays:"रविवार_सोमवार_मंगलवार_बुधवार_गुरूवार_शुक्रवार_शनिवार".split("_"),weekdaysShort:"रवि_सोम_मंगल_बुध_गुरू_शुक्र_शनि".split("_"),weekdaysMin:"र_सो_मं_बु_गु_शु_श".split("_"),longDateFormat:{LT:"A h:mm बजे",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[आज] LT",nextDay:"[कल] LT",nextWeek:"dddd, LT",lastDay:"[कल] LT",lastWeek:"[पिछले] dddd, LT",sameElse:"L"},relativeTime:{future:"%s में",past:"%s पहले",s:"कुछ ही क्षण",m:"एक मिनट",mm:"%d मिनट",h:"एक घंटा",hh:"%d घंटे",d:"एक दिन",dd:"%d दिन",M:"एक महीने",MM:"%d महीने",y:"एक वर्ष",yy:"%d वर्ष"},preparse:function(e){return e.replace(/[१२३४५६७८९०]/g,(function(e){return a[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiem:function(e){return 4>e?"रात":10>e?"सुबह":17>e?"दोपहर":20>e?"शाम":"रात"},week:{dow:0,doy:6}})})(Q),(function(e){function t(e,t,a){var n=e+" ";switch(a){case"m":return t?"jedna minuta":"jedne minute";case"mm":return n+(1===e?"minuta":2===e||3===e||4===e?"minute":"minuta");case"h":return t?"jedan sat":"jednog sata";case"hh":return n+(1===e?"sat":2===e||3===e||4===e?"sata":"sati");case"dd":return n+(1===e?"dan":"dana");case"MM":return n+(1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci");case"yy":return n+(1===e?"godina":2===e||3===e||4===e?"godine":"godina")}}e.lang("hr",{months:"sječanj_veljača_ožujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_"),monthsShort:"sje._vel._ožu._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),longDateFormat:{LT:"H:mm",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jučer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prošlu] dddd [u] LT";case 6:return"[prošle] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[prošli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},ordinal:"%d.",week:{dow:1,doy:7}})})(Q),(function(e){function t(e,t,a,n){var s=e;switch(a){case"s":return n||t?"néhány másodperc":"néhány másodperce";case"m":return"egy"+(n||t?" perc":" perce");case"mm":return s+(n||t?" perc":" perce");case"h":return"egy"+(n||t?" óra":" órája");case"hh":return s+(n||t?" óra":" órája");case"d":return"egy"+(n||t?" nap":" napja");case"dd":return s+(n||t?" nap":" napja");case"M":return"egy"+(n||t?" hónap":" hónapja");case"MM":return s+(n||t?" hónap":" hónapja");case"y":return"egy"+(n||t?" év":" éve");case"yy":return s+(n||t?" év":" éve")}return""}function a(e){return(e?"":"[múlt] ")+"["+n[this.day()]+"] LT[-kor]"}var n="vasárnap hétfőn kedden szerdán csütörtökön pénteken szombaton".split(" ");e.lang("hu",{months:"január_február_március_április_május_június_július_augusztus_szeptember_október_november_december".split("_"),monthsShort:"jan_feb_márc_ápr_máj_jún_júl_aug_szept_okt_nov_dec".split("_"),weekdays:"vasárnap_hétfő_kedd_szerda_csütörtök_péntek_szombat".split("_"),weekdaysShort:"vas_hét_kedd_sze_csüt_pén_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D., LT",LLLL:"YYYY. MMMM D., dddd LT"},meridiem:function(e,t,a){return 12>e?!0===a?"de":"DE":!0===a?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return a.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return a.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s múlva",past:"%s",s:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},ordinal:"%d.",week:{dow:1,doy:7}})})(Q),(function(e){e.lang("hy-am",{months:function(e,t){return{nominative:"հունվար_փետրվար_մարտ_ապրիլ_մայիս_հունիս_հուլիս_օգոստոս_սեպտեմբեր_հոկտեմբեր_նոյեմբեր_դեկտեմբեր".split("_"),accusative:"հունվարի_փետրվարի_մարտի_ապրիլի_մայիսի_հունիսի_հուլիսի_օգոստոսի_սեպտեմբերի_հոկտեմբերի_նոյեմբերի_դեկտեմբերի".split("_")}[/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(t)?"accusative":"nominative"][e.month()]},monthsShort:function(e){return"հնվ_փտր_մրտ_ապր_մյս_հնս_հլս_օգս_սպտ_հկտ_նմբ_դկտ".split("_")[e.month()]},weekdays:function(e){return"կիրակի_երկուշաբթի_երեքշաբթի_չորեքշաբթի_հինգշաբթի_ուրբաթ_շաբաթ".split("_")[e.day()]},weekdaysShort:"կրկ_երկ_երք_չրք_հնգ_ուրբ_շբթ".split("_"),weekdaysMin:"կրկ_երկ_երք_չրք_հնգ_ուրբ_շբթ".split("_"),longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY թ.",LLL:"D MMMM YYYY թ., LT",LLLL:"dddd, D MMMM YYYY թ., LT"},calendar:{sameDay:"[այսօր] LT",nextDay:"[վաղը] LT",lastDay:"[երեկ] LT",nextWeek:function(){return"dddd [օրը ժամը] LT"},lastWeek:function(){return"[անցած] dddd [օրը ժամը] LT"},sameElse:"L"},relativeTime:{future:"%s հետո",past:"%s առաջ",s:"մի քանի վայրկյան",m:"րոպե",mm:"%d րոպե",h:"ժամ",hh:"%d ժամ",d:"օր",dd:"%d օր",M:"ամիս",MM:"%d ամիս",y:"տարի",yy:"%d տարի"},meridiem:function(e){return 4>e?"գիշերվա":12>e?"առավոտվա":17>e?"ցերեկվա":"երեկոյան"},ordinal:function(e,t){switch(t){case"DDD":case"w":case"W":case"DDDo":return 1===e?e+"-ին":e+"-րդ";default:return e}},week:{dow:1,doy:7}})})(Q),(function(e){e.lang("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] LT",LLLL:"dddd, D MMMM YYYY [pukul] LT"},meridiem:function(e){return 11>e?"pagi":15>e?"siang":19>e?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})})(Q),(function(e){function t(e){return e%100==11||e%10!=1}function a(e,a,n,s){var i=e+" ";switch(n){case"s":return a||s?"nokkrar sekúndur":"nokkrum sekúndum";case"m":return a?"mínúta":"mínútu";case"mm":return t(e)?i+(a||s?"mínútur":"mínútum"):a?i+"mínúta":i+"mínútu";case"hh":return t(e)?i+(a||s?"klukkustundir":"klukkustundum"):i+"klukkustund";case"d":return a?"dagur":s?"dag":"degi";case"dd":return t(e)?a?i+"dagar":i+(s?"daga":"dögum"):a?i+"dagur":i+(s?"dag":"degi");case"M":return a?"mánuður":s?"mánuð":"mánuði";case"MM":return t(e)?a?i+"mánuðir":i+(s?"mánuði":"mánuðum"):a?i+"mánuður":i+(s?"mánuð":"mánuði");case"y":return a||s?"ár":"ári";case"yy":return t(e)?i+(a||s?"ár":"árum"):i+(a||s?"ár":"ári")}}e.lang("is",{months:"janúar_febrúar_mars_apríl_maí_júní_júlí_ágúst_september_október_nóvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_maí_jún_júl_ágú_sep_okt_nóv_des".split("_"),weekdays:"sunnudagur_mánudagur_þriðjudagur_miðvikudagur_fimmtudagur_föstudagur_laugardagur".split("_"),weekdaysShort:"sun_mán_þri_mið_fim_fös_lau".split("_"),weekdaysMin:"Su_Má_Þr_Mi_Fi_Fö_La".split("_"),longDateFormat:{LT:"H:mm",L:"DD/MM/YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] LT",LLLL:"dddd, D. MMMM YYYY [kl.] LT"},calendar:{sameDay:"[í dag kl.] LT",nextDay:"[á morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[í gær kl.] LT",lastWeek:"[síðasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s síðan",s:a,m:a,mm:a,h:"klukkustund",hh:a,d:a,dd:a,M:a,MM:a,y:a,yy:a},ordinal:"%d.",week:{dow:1,doy:4}})})(Q),(function(e){e.lang("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"Domenica_Lunedì_Martedì_Mercoledì_Giovedì_Venerdì_Sabato".split("_"),weekdaysShort:"Dom_Lun_Mar_Mer_Gio_Ven_Sab".split("_"),weekdaysMin:"D_L_Ma_Me_G_V_S".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:"[lo scorso] dddd [alle] LT",sameElse:"L"},relativeTime:{future:function(e){return(/^[0-9].+$/.test(e)?"tra":"in")+" "+e},past:"%s fa",s:"alcuni secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},ordinal:"%dº",week:{dow:1,doy:4}})})(Q),(function(e){e.lang("ja",{months:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"日曜日_月曜日_火曜日_水曜日_木曜日_金曜日_土曜日".split("_"),weekdaysShort:"日_月_火_水_木_金_土".split("_"),weekdaysMin:"日_月_火_水_木_金_土".split("_"),longDateFormat:{LT:"Ah時m分",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日LT",LLLL:"YYYY年M月D日LT dddd"},meridiem:function(e){return 12>e?"午前":"午後"},calendar:{sameDay:"[今日] LT",nextDay:"[明日] LT",nextWeek:"[来週]dddd LT",lastDay:"[昨日] LT",lastWeek:"[前週]dddd LT",sameElse:"L"},relativeTime:{future:"%s後",past:"%s前",s:"数秒",m:"1分",mm:"%d分",h:"1時間",hh:"%d時間",d:"1日",dd:"%d日",M:"1ヶ月",MM:"%dヶ月",y:"1年",yy:"%d年"}})})(Q),(function(e){e.lang("ka",{months:function(e,t){return{nominative:"იანვარი_თებერვალი_მარტი_აპრილი_მაისი_ივნისი_ივლისი_აგვისტო_სექტემბერი_ოქტომბერი_ნოემბერი_დეკემბერი".split("_"),accusative:"იანვარს_თებერვალს_მარტს_აპრილის_მაისს_ივნისს_ივლისს_აგვისტს_სექტემბერს_ოქტომბერს_ნოემბერს_დეკემბერს".split("_")}[/D[oD] *MMMM?/.test(t)?"accusative":"nominative"][e.month()]},monthsShort:"იან_თებ_მარ_აპრ_მაი_ივნ_ივლ_აგვ_სექ_ოქტ_ნოე_დეკ".split("_"),weekdays:function(e,t){return{nominative:"კვირა_ორშაბათი_სამშაბათი_ოთხშაბათი_ხუთშაბათი_პარასკევი_შაბათი".split("_"),accusative:"კვირას_ორშაბათს_სამშაბათს_ოთხშაბათს_ხუთშაბათს_პარასკევს_შაბათს".split("_")}[/(წინა|შემდეგ)/.test(t)?"accusative":"nominative"][e.day()]},weekdaysShort:"კვი_ორშ_სამ_ოთხ_ხუთ_პარ_შაბ".split("_"),weekdaysMin:"კვ_ორ_სა_ოთ_ხუ_პა_შა".split("_"),longDateFormat:{LT:"h:mm A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[დღეს] LT[-ზე]",nextDay:"[ხვალ] LT[-ზე]",lastDay:"[გუშინ] LT[-ზე]",nextWeek:"[შემდეგ] dddd LT[-ზე]",lastWeek:"[წინა] dddd LT-ზე",sameElse:"L"},relativeTime:{future:function(e){return/(წამი|წუთი|საათი|წელი)/.test(e)?e.replace(/ი$/,"ში"):e+"ში"},past:function(e){return/(წამი|წუთი|საათი|დღე|თვე)/.test(e)?e.replace(/(ი|ე)$/,"ის წინ"):/წელი/.test(e)?e.replace(/წელი$/,"წლის წინ"):void 0},s:"რამდენიმე წამი",m:"წუთი",mm:"%d წუთი",h:"საათი",hh:"%d საათი",d:"დღე",dd:"%d დღე",M:"თვე",MM:"%d თვე",y:"წელი",yy:"%d წელი"},ordinal:function(e){return 0===e?e:1===e?e+"-ლი":20>e||100>=e&&e%20==0||e%100==0?"მე-"+e:e+"-ე"},week:{dow:1,doy:7}})})(Q),(function(e){e.lang("km",{months:"មករា_កុម្ភៈ_មិនា_មេសា_ឧសភា_មិថុនា_កក្កដា_សីហា_កញ្ញា_តុលា_វិច្ឆិកា_ធ្នូ".split("_"),monthsShort:"មករា_កុម្ភៈ_មិនា_មេសា_ឧសភា_មិថុនា_កក្កដា_សីហា_កញ្ញា_តុលា_វិច្ឆិកា_ធ្នូ".split("_"),weekdays:"អាទិត្យ_ច័ន្ទ_អង្គារ_ពុធ_ព្រហស្បតិ៍_សុក្រ_សៅរ៍".split("_"),weekdaysShort:"អាទិត្យ_ច័ន្ទ_អង្គារ_ពុធ_ព្រហស្បតិ៍_សុក្រ_សៅរ៍".split("_"),weekdaysMin:"អាទិត្យ_ច័ន្ទ_អង្គារ_ពុធ_ព្រហស្បតិ៍_សុក្រ_សៅរ៍".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[ថ្ងៃនៈ ម៉ោង] LT",nextDay:"[ស្អែក ម៉ោង] LT",nextWeek:"dddd [ម៉ោង] LT",lastDay:"[ម្សិលមិញ ម៉ោង] LT",lastWeek:"dddd [សប្តាហ៍មុន] [ម៉ោង] LT",sameElse:"L"},relativeTime:{future:"%sទៀត",past:"%sមុន",s:"ប៉ុន្មានវិនាទី",m:"មួយនាទី",mm:"%d នាទី",h:"មួយម៉ោង",hh:"%d ម៉ោង",d:"មួយថ្ងៃ",dd:"%d ថ្ងៃ",M:"មួយខែ",MM:"%d ខែ",y:"មួយឆ្នាំ",yy:"%d ឆ្នាំ"},week:{dow:1,doy:4}})})(Q),(function(e){e.lang("ko",{months:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),monthsShort:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),weekdays:"일요일_월요일_화요일_수요일_목요일_금요일_토요일".split("_"),weekdaysShort:"일_월_화_수_목_금_토".split("_"),weekdaysMin:"일_월_화_수_목_금_토".split("_"),longDateFormat:{LT:"A h시 mm분",L:"YYYY.MM.DD",LL:"YYYY년 MMMM D일",LLL:"YYYY년 MMMM D일 LT",LLLL:"YYYY년 MMMM D일 dddd LT"},meridiem:function(e){return 12>e?"오전":"오후"},calendar:{sameDay:"오늘 LT",nextDay:"내일 LT",nextWeek:"dddd LT",lastDay:"어제 LT",lastWeek:"지난주 dddd LT",sameElse:"L"},relativeTime:{future:"%s 후",past:"%s 전",s:"몇초",ss:"%d초",m:"일분",mm:"%d분",h:"한시간",hh:"%d시간",d:"하루",dd:"%d일",M:"한달",MM:"%d달",y:"일년",yy:"%d년"},ordinal:"%d일",meridiemParse:/(오전|오후)/,isPM:function(e){return"오후"===e}})})(Q),(function(e){function t(e,t,a){var n={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],dd:[e+" Deeg",e+" Deeg"],M:["ee Mount","engem Mount"],MM:[e+" Méint",e+" Méint"],y:["ee Joer","engem Joer"],yy:[e+" Joer",e+" Joer"]};return t?n[a][0]:n[a][1]}function a(e){if(e=parseInt(e,10),isNaN(e))return!1;if(0>e)return!0;if(10>e)return e>=4&&7>=e;if(100>e){var t=e%10;return a(0===t?e/10:t)}if(1e4>e){for(;e>=10;)e/=10;return a(e)}return a(e/=1e3)}e.lang("lb",{months:"Januar_Februar_Mäerz_Abrëll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdays:"Sonndeg_Méindeg_Dënschdeg_Mëttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._Mé._Dë._Më._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mé_Dë_Më_Do_Fr_Sa".split("_"),longDateFormat:{LT:"H:mm [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gëschter um] LT",lastWeek:function(){return(function(e){switch(e=parseInt(e,10)){case 0:case 1:case 3:case 5:case 6:return!0;default:return!1}})(this.format("d"))?"[Leschte] dddd [um] LT":"[Leschten] dddd [um] LT"}},relativeTime:{future:function(e){return a(e.substr(0,e.indexOf(" ")))?"a "+e:"an "+e},past:function(e){return a(e.substr(0,e.indexOf(" ")))?"viru "+e:"virun "+e},s:"e puer Sekonnen",m:t,mm:"%d Minutten",h:t,hh:"%d Stonnen",d:t,dd:t,M:t,MM:t,y:t,yy:t},ordinal:"%d.",week:{dow:1,doy:4}})})(Q),(function(e){function t(e,t,a,s){return t?n(a)[0]:s?n(a)[1]:n(a)[2]}function a(e){return e%10==0||e>10&&20>e}function n(e){return i[e].split("_")}function s(e,s,i,r){var o=e+" ";return 1===e?o+t(0,s,i[0],r):s?o+(a(e)?n(i)[1]:n(i)[0]):r?o+n(i)[1]:o+(a(e)?n(i)[1]:n(i)[2])}var i={m:"minutė_minutės_minutę",mm:"minutės_minučių_minutes",h:"valanda_valandos_valandą",hh:"valandos_valandų_valandas",d:"diena_dienos_dieną",dd:"dienos_dienų_dienas",M:"mėnuo_mėnesio_mėnesį",MM:"mėnesiai_mėnesių_mėnesius",y:"metai_metų_metus",yy:"metai_metų_metus"},r="sekmadienis_pirmadienis_antradienis_trečiadienis_ketvirtadienis_penktadienis_šeštadienis".split("_");e.lang("lt",{months:"sausio_vasario_kovo_balandžio_gegužės_biržėlio_liepos_rugpjūčio_rugsėjo_spalio_lapkričio_gruodžio".split("_"),monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:function(e,t){var a=-1===t.indexOf("dddd HH:mm"),n=r[e.day()];return a?n:n.substring(0,n.length-2)+"į"},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_Šeš".split("_"),weekdaysMin:"S_P_A_T_K_Pn_Š".split("_"),longDateFormat:{LT:"HH:mm",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], LT [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, LT [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], LT [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, LT [val.]"},calendar:{sameDay:"[Šiandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Praėjusį] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prieš %s",s:function(e,t,a,n){return t?"kelios sekundės":n?"kelių sekundžių":"kelias sekundes"},m:t,mm:s,h:t,hh:s,d:t,dd:s,M:t,MM:s,y:t,yy:s},ordinal:function(e){return e+"-oji"},week:{dow:1,doy:4}})})(Q),(function(e){function t(e,t,n){return e+" "+(function(e,t,a){var n=e.split("_");return a?t%10==1&&11!==t?n[2]:n[3]:t%10==1&&11!==t?n[0]:n[1]})(a[n],e,t)}var a={mm:"minūti_minūtes_minūte_minūtes",hh:"stundu_stundas_stunda_stundas",dd:"dienu_dienas_diena_dienas",MM:"mēnesi_mēnešus_mēnesis_mēneši",yy:"gadu_gadus_gads_gadi"};e.lang("lv",{months:"janvāris_februāris_marts_aprīlis_maijs_jūnijs_jūlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jūn_jūl_aug_sep_okt_nov_dec".split("_"),weekdays:"svētdiena_pirmdiena_otrdiena_trešdiena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, LT",LLLL:"YYYY. [gada] D. MMMM, dddd, LT"},calendar:{sameDay:"[Šodien pulksten] LT",nextDay:"[Rīt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pagājušā] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"%s vēlāk",past:"%s agrāk",s:"dažas sekundes",m:"minūti",mm:t,h:"stundu",hh:t,d:"dienu",dd:t,M:"mēnesi",MM:t,y:"gadu",yy:t},ordinal:"%d.",week:{dow:1,doy:4}})})(Q),(function(e){e.lang("mk",{months:"јануари_февруари_март_април_мај_јуни_јули_август_септември_октомври_ноември_декември".split("_"),monthsShort:"јан_фев_мар_апр_мај_јун_јул_авг_сеп_окт_ное_дек".split("_"),weekdays:"недела_понеделник_вторник_среда_четврток_петок_сабота".split("_"),weekdaysShort:"нед_пон_вто_сре_чет_пет_саб".split("_"),weekdaysMin:"нe_пo_вт_ср_че_пе_сa".split("_"),longDateFormat:{LT:"H:mm",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Денес во] LT",nextDay:"[Утре во] LT",nextWeek:"dddd [во] LT",lastDay:"[Вчера во] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[Во изминатата] dddd [во] LT";case 1:case 2:case 4:case 5:return"[Во изминатиот] dddd [во] LT"}},sameElse:"L"},relativeTime:{future:"после %s",past:"пред %s",s:"неколку секунди",m:"минута",mm:"%d минути",h:"час",hh:"%d часа",d:"ден",dd:"%d дена",M:"месец",MM:"%d месеци",y:"година",yy:"%d години"},ordinal:function(e){var t=e%10,a=e%100;return 0===e?e+"-ев":0===a?e+"-ен":a>10&&20>a?e+"-ти":1===t?e+"-ви":2===t?e+"-ри":7===t||8===t?e+"-ми":e+"-ти"},week:{dow:1,doy:7}})})(Q),(function(e){e.lang("ml",{months:"ജനുവരി_ഫെബ്രുവരി_മാർച്ച്_ഏപ്രിൽ_മേയ്_ജൂൺ_ജൂലൈ_ഓഗസ്റ്റ്_സെപ്റ്റംബർ_ഒക്ടോബർ_നവംബർ_ഡിസംബർ".split("_"),monthsShort:"ജനു._ഫെബ്രു._മാർ._ഏപ്രി._മേയ്_ജൂൺ_ജൂലൈ._ഓഗ._സെപ്റ്റ._ഒക്ടോ._നവം._ഡിസം.".split("_"),weekdays:"ഞായറാഴ്ച_തിങ്കളാഴ്ച_ചൊവ്വാഴ്ച_ബുധനാഴ്ച_വ്യാഴാഴ്ച_വെള്ളിയാഴ്ച_ശനിയാഴ്ച".split("_"),weekdaysShort:"ഞായർ_തിങ്കൾ_ചൊവ്വ_ബുധൻ_വ്യാഴം_വെള്ളി_ശനി".split("_"),weekdaysMin:"ഞാ_തി_ചൊ_ബു_വ്യാ_വെ_ശ".split("_"),longDateFormat:{LT:"A h:mm -നു",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[ഇന്ന്] LT",nextDay:"[നാളെ] LT",nextWeek:"dddd, LT",lastDay:"[ഇന്നലെ] LT",lastWeek:"[കഴിഞ്ഞ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s കഴിഞ്ഞ്",past:"%s മുൻപ്",s:"അൽപ നിമിഷങ്ങൾ",m:"ഒരു മിനിറ്റ്",mm:"%d മിനിറ്റ്",h:"ഒരു മണിക്കൂർ",hh:"%d മണിക്കൂർ",d:"ഒരു ദിവസം",dd:"%d ദിവസം",M:"ഒരു മാസം",MM:"%d മാസം",y:"ഒരു വർഷം",yy:"%d വർഷം"},meridiem:function(e){return 4>e?"രാത്രി":12>e?"രാവിലെ":17>e?"ഉച്ച കഴിഞ്ഞ്":20>e?"വൈകുന്നേരം":"രാത്രി"}})})(Q),(function(e){var t={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},a={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"};e.lang("mr",{months:"जानेवारी_फेब्रुवारी_मार्च_एप्रिल_मे_जून_जुलै_ऑगस्ट_सप्टेंबर_ऑक्टोबर_नोव्हेंबर_डिसेंबर".split("_"),monthsShort:"जाने._फेब्रु._मार्च._एप्रि._मे._जून._जुलै._ऑग._सप्टें._ऑक्टो._नोव्हें._डिसें.".split("_"),weekdays:"रविवार_सोमवार_मंगळवार_बुधवार_गुरूवार_शुक्रवार_शनिवार".split("_"),weekdaysShort:"रवि_सोम_मंगळ_बुध_गुरू_शुक्र_शनि".split("_"),weekdaysMin:"र_सो_मं_बु_गु_शु_श".split("_"),longDateFormat:{LT:"A h:mm वाजता",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[आज] LT",nextDay:"[उद्या] LT",nextWeek:"dddd, LT",lastDay:"[काल] LT",lastWeek:"[मागील] dddd, LT",sameElse:"L"},relativeTime:{future:"%s नंतर",past:"%s पूर्वी",s:"सेकंद",m:"एक मिनिट",mm:"%d मिनिटे",h:"एक तास",hh:"%d तास",d:"एक दिवस",dd:"%d दिवस",M:"एक महिना",MM:"%d महिने",y:"एक वर्ष",yy:"%d वर्षे"},preparse:function(e){return e.replace(/[१२३४५६७८९०]/g,(function(e){return a[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiem:function(e){return 4>e?"रात्री":10>e?"सकाळी":17>e?"दुपारी":20>e?"सायंकाळी":"रात्री"},week:{dow:0,doy:6}})})(Q),(function(e){e.lang("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] LT",LLLL:"dddd, D MMMM YYYY [pukul] LT"},meridiem:function(e){return 11>e?"pagi":15>e?"tengahari":19>e?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})})(Q),(function(e){e.lang("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.".split("_"),weekdays:"søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag".split("_"),weekdaysShort:"sø._ma._ti._on._to._fr._lø.".split("_"),weekdaysMin:"sø_ma_ti_on_to_fr_lø".split("_"),longDateFormat:{LT:"H.mm",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] LT",LLLL:"dddd D. MMMM YYYY [kl.] LT"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i går kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"for %s siden",s:"noen sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en måned",MM:"%d måneder",y:"ett år",yy:"%d år"},ordinal:"%d.",week:{dow:1,doy:4}})})(Q),(function(e){var t={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},a={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"};e.lang("ne",{months:"जनवरी_फेब्रुवरी_मार्च_अप्रिल_मई_जुन_जुलाई_अगष्ट_सेप्टेम्बर_अक्टोबर_नोभेम्बर_डिसेम्बर".split("_"),monthsShort:"जन._फेब्रु._मार्च_अप्रि._मई_जुन_जुलाई._अग._सेप्ट._अक्टो._नोभे._डिसे.".split("_"),weekdays:"आइतबार_सोमबार_मङ्गलबार_बुधबार_बिहिबार_शुक्रबार_शनिबार".split("_"),weekdaysShort:"आइत._सोम._मङ्गल._बुध._बिहि._शुक्र._शनि.".split("_"),weekdaysMin:"आइ._सो._मङ्_बु._बि._शु._श.".split("_"),longDateFormat:{LT:"Aको h:mm बजे",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},preparse:function(e){return e.replace(/[१२३४५६७८९०]/g,(function(e){return a[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiem:function(e){return 3>e?"राती":10>e?"बिहान":15>e?"दिउँसो":18>e?"बेलुका":20>e?"साँझ":"राती"},calendar:{sameDay:"[आज] LT",nextDay:"[भोली] LT",nextWeek:"[आउँदो] dddd[,] LT",lastDay:"[हिजो] LT",lastWeek:"[गएको] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%sमा",past:"%s अगाडी",s:"केही समय",m:"एक मिनेट",mm:"%d मिनेट",h:"एक घण्टा",hh:"%d घण्टा",d:"एक दिन",dd:"%d दिन",M:"एक महिना",MM:"%d महिना",y:"एक बर्ष",yy:"%d बर्ष"},week:{dow:1,doy:7}})})(Q),(function(e){var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),a="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_");e.lang("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,n){return/-MMM-/.test(n)?a[e.month()]:t[e.month()]},weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"Zo_Ma_Di_Wo_Do_Vr_Za".split("_"),longDateFormat:{LT:"HH:mm",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"één minuut",mm:"%d minuten",h:"één uur",hh:"%d uur",d:"één dag",dd:"%d dagen",M:"één maand",MM:"%d maanden",y:"één jaar",yy:"%d jaar"},ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})})(Q),(function(e){e.lang("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sundag_måndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"sun_mån_tys_ons_tor_fre_lau".split("_"),weekdaysMin:"su_må_ty_on_to_fr_lø".split("_"),longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I går klokka] LT",lastWeek:"[Føregåande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"for %s sidan",s:"nokre sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",M:"ein månad",MM:"%d månader",y:"eit år",yy:"%d år"},ordinal:"%d.",week:{dow:1,doy:4}})})(Q),(function(e){function t(e){return 5>e%10&&e%10>1&&~~(e/10)%10!=1}function a(e,a,n){var s=e+" ";switch(n){case"m":return a?"minuta":"minutę";case"mm":return s+(t(e)?"minuty":"minut");case"h":return a?"godzina":"godzinę";case"hh":return s+(t(e)?"godziny":"godzin");case"MM":return s+(t(e)?"miesiące":"miesięcy");case"yy":return s+(t(e)?"lata":"lat")}}var n="styczeń_luty_marzec_kwiecień_maj_czerwiec_lipiec_sierpień_wrzesień_październik_listopad_grudzień".split("_"),s="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_września_października_listopada_grudnia".split("_");e.lang("pl",{months:function(e,t){return/D MMMM/.test(t)?s[e.month()]:n[e.month()]},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_paź_lis_gru".split("_"),weekdays:"niedziela_poniedziałek_wtorek_środa_czwartek_piątek_sobota".split("_"),weekdaysShort:"nie_pon_wt_śr_czw_pt_sb".split("_"),weekdaysMin:"N_Pn_Wt_Śr_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Dziś o] LT",nextDay:"[Jutro o] LT",nextWeek:"[W] dddd [o] LT",lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zeszłą niedzielę o] LT";case 3:return"[W zeszłą środę o] LT";case 6:return"[W zeszłą sobotę o] LT";default:return"[W zeszły] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",m:a,mm:a,h:a,hh:a,d:"1 dzień",dd:"%d dni",M:"miesiąc",MM:a,y:"rok",yy:a},ordinal:"%d.",week:{dow:1,doy:4}})})(Q),(function(e){e.lang("pt-br",{months:"janeiro_fevereiro_março_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"domingo_segunda-feira_terça-feira_quarta-feira_quinta-feira_sexta-feira_sábado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sáb".split("_"),weekdaysMin:"dom_2ª_3ª_4ª_5ª_6ª_sáb".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [às] LT",LLLL:"dddd, D [de] MMMM [de] YYYY [às] LT"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"%s atrás",s:"segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"},ordinal:"%dº"})})(Q),(function(e){e.lang("pt",{months:"janeiro_fevereiro_março_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"domingo_segunda-feira_terça-feira_quarta-feira_quinta-feira_sexta-feira_sábado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sáb".split("_"),weekdaysMin:"dom_2ª_3ª_4ª_5ª_6ª_sáb".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY LT",LLLL:"dddd, D [de] MMMM [de] YYYY LT"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"há %s",s:"segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"},ordinal:"%dº",week:{dow:1,doy:4}})})(Q),(function(e){function t(e,t,a){var n=" ";return(e%100>=20||e>=100&&e%100==0)&&(n=" de "),e+n+{mm:"minute",hh:"ore",dd:"zile",MM:"luni",yy:"ani"}[a]}e.lang("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),weekdays:"duminică_luni_marți_miercuri_joi_vineri_sâmbătă".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sâm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_Sâ".split("_"),longDateFormat:{LT:"H:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mâine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s în urmă",s:"câteva secunde",m:"un minut",mm:t,h:"o oră",hh:t,d:"o zi",dd:t,M:"o lună",MM:t,y:"un an",yy:t},week:{dow:1,doy:7}})})(Q),(function(e){function t(e,t,a){return"m"===a?t?"минута":"минуту":e+" "+(function(e,t){var a=e.split("_");return t%10==1&&t%100!=11?a[0]:t%10>=2&&4>=t%10&&(10>t%100||t%100>=20)?a[1]:a[2]})({mm:t?"минута_минуты_минут":"минуту_минуты_минут",hh:"час_часа_часов",dd:"день_дня_дней",MM:"месяц_месяца_месяцев",yy:"год_года_лет"}[a],+e)}e.lang("ru",{months:function(e,t){return{nominative:"январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_"),accusative:"января_февраля_марта_апреля_мая_июня_июля_августа_сентября_октября_ноября_декабря".split("_")}[/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(t)?"accusative":"nominative"][e.month()]},monthsShort:function(e,t){return{nominative:"янв_фев_мар_апр_май_июнь_июль_авг_сен_окт_ноя_дек".split("_"),accusative:"янв_фев_мар_апр_мая_июня_июля_авг_сен_окт_ноя_дек".split("_")}[/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(t)?"accusative":"nominative"][e.month()]},weekdays:function(e,t){return{nominative:"воскресенье_понедельник_вторник_среда_четверг_пятница_суббота".split("_"),accusative:"воскресенье_понедельник_вторник_среду_четверг_пятницу_субботу".split("_")}[/\[ ?[Вв] ?(?:прошлую|следующую)? ?\] ?dddd/.test(t)?"accusative":"nominative"][e.day()]},weekdaysShort:"вс_пн_вт_ср_чт_пт_сб".split("_"),weekdaysMin:"вс_пн_вт_ср_чт_пт_сб".split("_"),monthsParse:[/^янв/i,/^фев/i,/^мар/i,/^апр/i,/^ма[й|я]/i,/^июн/i,/^июл/i,/^авг/i,/^сен/i,/^окт/i,/^ноя/i,/^дек/i],longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., LT",LLLL:"dddd, D MMMM YYYY г., LT"},calendar:{sameDay:"[Сегодня в] LT",nextDay:"[Завтра в] LT",lastDay:"[Вчера в] LT",nextWeek:function(){return 2===this.day()?"[Во] dddd [в] LT":"[В] dddd [в] LT"},lastWeek:function(){switch(this.day()){case 0:return"[В прошлое] dddd [в] LT";case 1:case 2:case 4:return"[В прошлый] dddd [в] LT";case 3:case 5:case 6:return"[В прошлую] dddd [в] LT"}},sameElse:"L"},relativeTime:{future:"через %s",past:"%s назад",s:"несколько секунд",m:t,mm:t,h:"час",hh:t,d:"день",dd:t,M:"месяц",MM:t,y:"год",yy:t},meridiemParse:/ночи|утра|дня|вечера/i,isPM:function(e){return/^(дня|вечера)$/.test(e)},meridiem:function(e){return 4>e?"ночи":12>e?"утра":17>e?"дня":"вечера"},ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":return e+"-й";case"D":return e+"-го";case"w":case"W":return e+"-я";default:return e}},week:{dow:1,doy:7}})})(Q),(function(e){function t(e){return e>1&&5>e}function a(e,a,n,s){var i=e+" ";switch(n){case"s":return a||s?"pár sekúnd":"pár sekundami";case"m":return a?"minúta":s?"minútu":"minútou";case"mm":return a||s?i+(t(e)?"minúty":"minút"):i+"minútami";case"h":return a?"hodina":s?"hodinu":"hodinou";case"hh":return a||s?i+(t(e)?"hodiny":"hodín"):i+"hodinami";case"d":return a||s?"deň":"dňom";case"dd":return a||s?i+(t(e)?"dni":"dní"):i+"dňami";case"M":return a||s?"mesiac":"mesiacom";case"MM":return a||s?i+(t(e)?"mesiace":"mesiacov"):i+"mesiacmi";case"y":return a||s?"rok":"rokom";case"yy":return a||s?i+(t(e)?"roky":"rokov"):i+"rokmi"}}var n="január_február_marec_apríl_máj_jún_júl_august_september_október_november_december".split("_"),s="jan_feb_mar_apr_máj_jún_júl_aug_sep_okt_nov_dec".split("_");e.lang("sk",{months:n,monthsShort:s,monthsParse:(function(e,t){var a,n=[];for(a=0;12>a;a++)n[a]=new RegExp("^"+e[a]+"$|^"+t[a]+"$","i");return n})(n,s),weekdays:"nedeľa_pondelok_utorok_streda_štvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_št_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_št_pi_so".split("_"),longDateFormat:{LT:"H:mm",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd D. MMMM YYYY LT"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeľu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo štvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[včera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulú nedeľu o] LT";case 1:case 2:return"[minulý] dddd [o] LT";case 3:return"[minulú stredu o] LT";case 4:case 5:return"[minulý] dddd [o] LT";case 6:return"[minulú sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:a,m:a,mm:a,h:a,hh:a,d:a,dd:a,M:a,MM:a,y:a,yy:a},ordinal:"%d.",week:{dow:1,doy:4}})})(Q),(function(e){function t(e,t,a){var n=e+" ";switch(a){case"m":return t?"ena minuta":"eno minuto";case"mm":return n+(1===e?"minuta":2===e?"minuti":3===e||4===e?"minute":"minut");case"h":return t?"ena ura":"eno uro";case"hh":return n+(1===e?"ura":2===e?"uri":3===e||4===e?"ure":"ur");case"dd":return n+(1===e?"dan":"dni");case"MM":return n+(1===e?"mesec":2===e?"meseca":3===e||4===e?"mesece":"mesecev");case"yy":return n+(1===e?"leto":2===e?"leti":3===e||4===e?"leta":"let")}}e.lang("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),weekdays:"nedelja_ponedeljek_torek_sreda_četrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._čet._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_če_pe_so".split("_"),longDateFormat:{LT:"H:mm",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[včeraj ob] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[prejšnja] dddd [ob] LT";case 1:case 2:case 4:case 5:return"[prejšnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"čez %s",past:"%s nazaj",s:"nekaj sekund",m:t,mm:t,h:t,hh:t,d:"en dan",dd:t,M:"en mesec",MM:t,y:"eno leto",yy:t},ordinal:"%d.",week:{dow:1,doy:7}})})(Q),(function(e){e.lang("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nëntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nën_Dhj".split("_"),weekdays:"E Diel_E Hënë_E Martë_E Mërkurë_E Enjte_E Premte_E Shtunë".split("_"),weekdaysShort:"Die_Hën_Mar_Mër_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_Më_E_P_Sh".split("_"),meridiem:function(e){return 12>e?"PD":"MD"},longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Sot në] LT",nextDay:"[Nesër në] LT",nextWeek:"dddd [në] LT",lastDay:"[Dje në] LT",lastWeek:"dddd [e kaluar në] LT",sameElse:"L"},relativeTime:{future:"në %s",past:"%s më parë",s:"disa sekonda",m:"një minutë",mm:"%d minuta",h:"një orë",hh:"%d orë",d:"një ditë",dd:"%d ditë",M:"një muaj",MM:"%d muaj",y:"një vit",yy:"%d vite"},ordinal:"%d.",week:{dow:1,doy:4}})})(Q),(function(e){var t={words:{m:["један минут","једне минуте"],mm:["минут","минуте","минута"],h:["један сат","једног сата"],hh:["сат","сата","сати"],dd:["дан","дана","дана"],MM:["месец","месеца","месеци"],yy:["година","године","година"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&4>=e?t[1]:t[2]},translate:function(e,a,n){var s=t.words[n];return 1===n.length?a?s[0]:s[1]:e+" "+t.correctGrammaticalCase(e,s)}};e.lang("sr-cyrl",{months:["јануар","фебруар","март","април","мај","јун","јул","август","септембар","октобар","новембар","децембар"],monthsShort:["јан.","феб.","мар.","апр.","мај","јун","јул","авг.","сеп.","окт.","нов.","дец."],weekdays:["недеља","понедељак","уторак","среда","четвртак","петак","субота"],weekdaysShort:["нед.","пон.","уто.","сре.","чет.","пет.","суб."],weekdaysMin:["не","по","ут","ср","че","пе","су"],longDateFormat:{LT:"H:mm",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[данас у] LT",nextDay:"[сутра у] LT",nextWeek:function(){switch(this.day()){case 0:return"[у] [недељу] [у] LT";case 3:return"[у] [среду] [у] LT";case 6:return"[у] [суботу] [у] LT";case 1:case 2:case 4:case 5:return"[у] dddd [у] LT"}},lastDay:"[јуче у] LT",lastWeek:function(){return["[прошле] [недеље] [у] LT","[прошлог] [понедељка] [у] LT","[прошлог] [уторка] [у] LT","[прошле] [среде] [у] LT","[прошлог] [четвртка] [у] LT","[прошлог] [петка] [у] LT","[прошле] [суботе] [у] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"за %s",past:"пре %s",s:"неколико секунди",m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"дан",dd:t.translate,M:"месец",MM:t.translate,y:"годину",yy:t.translate},ordinal:"%d.",week:{dow:1,doy:7}})})(Q),(function(e){var t={words:{m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&4>=e?t[1]:t[2]},translate:function(e,a,n){var s=t.words[n];return 1===n.length?a?s[0]:s[1]:e+" "+t.correctGrammaticalCase(e,s)}};e.lang("sr",{months:["januar","februar","mart","april","maj","jun","jul","avgust","septembar","oktobar","novembar","decembar"],monthsShort:["jan.","feb.","mar.","apr.","maj","jun","jul","avg.","sep.","okt.","nov.","dec."],weekdays:["nedelja","ponedeljak","utorak","sreda","četvrtak","petak","subota"],weekdaysShort:["ned.","pon.","uto.","sre.","čet.","pet.","sub."],weekdaysMin:["ne","po","ut","sr","če","pe","su"],longDateFormat:{LT:"H:mm",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juče u] LT",lastWeek:function(){return["[prošle] [nedelje] [u] LT","[prošlog] [ponedeljka] [u] LT","[prošlog] [utorka] [u] LT","[prošle] [srede] [u] LT","[prošlog] [četvrtka] [u] LT","[prošlog] [petka] [u] LT","[prošle] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"dan",dd:t.translate,M:"mesec",MM:t.translate,y:"godinu",yy:t.translate},ordinal:"%d.",week:{dow:1,doy:7}})})(Q),(function(e){e.lang("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"söndag_måndag_tisdag_onsdag_torsdag_fredag_lördag".split("_"),weekdaysShort:"sön_mån_tis_ons_tor_fre_lör".split("_"),weekdaysMin:"sö_må_ti_on_to_fr_lö".split("_"),longDateFormat:{LT:"HH:mm",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igår] LT",nextWeek:"dddd LT",lastWeek:"[Förra] dddd[en] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"för %s sedan",s:"några sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en månad",MM:"%d månader",y:"ett år",yy:"%d år"},ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"e":1===t?"a":2===t?"a":"e")},week:{dow:1,doy:4}})})(Q),(function(e){e.lang("ta",{months:"ஜனவரி_பிப்ரவரி_மார்ச்_ஏப்ரல்_மே_ஜூன்_ஜூலை_ஆகஸ்ட்_செப்டெம்பர்_அக்டோபர்_நவம்பர்_டிசம்பர்".split("_"),monthsShort:"ஜனவரி_பிப்ரவரி_மார்ச்_ஏப்ரல்_மே_ஜூன்_ஜூலை_ஆகஸ்ட்_செப்டெம்பர்_அக்டோபர்_நவம்பர்_டிசம்பர்".split("_"),weekdays:"ஞாயிற்றுக்கிழமை_திங்கட்கிழமை_செவ்வாய்கிழமை_புதன்கிழமை_வியாழக்கிழமை_வெள்ளிக்கிழமை_சனிக்கிழமை".split("_"),weekdaysShort:"ஞாயிறு_திங்கள்_செவ்வாய்_புதன்_வியாழன்_வெள்ளி_சனி".split("_"),weekdaysMin:"ஞா_தி_செ_பு_வி_வெ_ச".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[இன்று] LT",nextDay:"[நாளை] LT",nextWeek:"dddd, LT",lastDay:"[நேற்று] LT",lastWeek:"[கடந்த வாரம்] dddd, LT",sameElse:"L"},relativeTime:{future:"%s இல்",past:"%s முன்",s:"ஒரு சில விநாடிகள்",m:"ஒரு நிமிடம்",mm:"%d நிமிடங்கள்",h:"ஒரு மணி நேரம்",hh:"%d மணி நேரம்",d:"ஒரு நாள்",dd:"%d நாட்கள்",M:"ஒரு மாதம்",MM:"%d மாதங்கள்",y:"ஒரு வருடம்",yy:"%d ஆண்டுகள்"},ordinal:function(e){return e+"வது"},meridiem:function(e){return e>=6&&10>=e?" காலை":e>=10&&14>=e?" நண்பகல்":e>=14&&18>=e?" எற்பாடு":e>=18&&20>=e?" மாலை":e>=20&&24>=e?" இரவு":e>=0&&6>=e?" வைகறை":void 0},week:{dow:0,doy:6}})})(Q),(function(e){e.lang("th",{months:"มกราคม_กุมภาพันธ์_มีนาคม_เมษายน_พฤษภาคม_มิถุนายน_กรกฎาคม_สิงหาคม_กันยายน_ตุลาคม_พฤศจิกายน_ธันวาคม".split("_"),monthsShort:"มกรา_กุมภา_มีนา_เมษา_พฤษภา_มิถุนา_กรกฎา_สิงหา_กันยา_ตุลา_พฤศจิกา_ธันวา".split("_"),weekdays:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัสบดี_ศุกร์_เสาร์".split("_"),weekdaysShort:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัส_ศุกร์_เสาร์".split("_"),weekdaysMin:"อา._จ._อ._พ._พฤ._ศ._ส.".split("_"),longDateFormat:{LT:"H นาฬิกา m นาที",L:"YYYY/MM/DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY เวลา LT",LLLL:"วันddddที่ D MMMM YYYY เวลา LT"},meridiem:function(e){return 12>e?"ก่อนเที่ยง":"หลังเที่ยง"},calendar:{sameDay:"[วันนี้ เวลา] LT",nextDay:"[พรุ่งนี้ เวลา] LT",nextWeek:"dddd[หน้า เวลา] LT",lastDay:"[เมื่อวานนี้ เวลา] LT",lastWeek:"[วัน]dddd[ที่แล้ว เวลา] LT",sameElse:"L"},relativeTime:{future:"อีก %s",past:"%sที่แล้ว",s:"ไม่กี่วินาที",m:"1 นาที",mm:"%d นาที",h:"1 ชั่วโมง",hh:"%d ชั่วโมง",d:"1 วัน",dd:"%d วัน",M:"1 เดือน",MM:"%d เดือน",y:"1 ปี",yy:"%d ปี"}})})(Q),(function(e){e.lang("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM DD, YYYY LT"},calendar:{sameDay:"[Ngayon sa] LT",nextDay:"[Bukas sa] LT",nextWeek:"dddd [sa] LT",lastDay:"[Kahapon sa] LT",lastWeek:"dddd [huling linggo] LT",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},ordinal:function(e){return e},week:{dow:1,doy:4}})})(Q),(function(e){var t={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'üncü",4:"'üncü",100:"'üncü",6:"'ncı",9:"'uncu",10:"'uncu",30:"'uncu",60:"'ıncı",90:"'ıncı"};e.lang("tr",{months:"Ocak_Şubat_Mart_Nisan_Mayıs_Haziran_Temmuz_Ağustos_Eylül_Ekim_Kasım_Aralık".split("_"),monthsShort:"Oca_Şub_Mar_Nis_May_Haz_Tem_Ağu_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Salı_Çarşamba_Perşembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_Çar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_Ça_Pe_Cu_Ct".split("_"),longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[bugün saat] LT",nextDay:"[yarın saat] LT",nextWeek:"[haftaya] dddd [saat] LT",lastDay:"[dün] LT",lastWeek:"[geçen hafta] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s önce",s:"birkaç saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gün",dd:"%d gün",M:"bir ay",MM:"%d ay",y:"bir yıl",yy:"%d yıl"},ordinal:function(e){if(0===e)return e+"'ıncı";var a=e%10;return e+(t[a]||t[e%100-a]||t[e>=100?100:null])},week:{dow:1,doy:7}})})(Q),(function(e){e.lang("tzm-latn",{months:"innayr_brˤayrˤ_marˤsˤ_ibrir_mayyw_ywnyw_ywlywz_ɣwšt_šwtanbir_ktˤwbrˤ_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brˤayrˤ_marˤsˤ_ibrir_mayyw_ywnyw_ywlywz_ɣwšt_šwtanbir_ktˤwbrˤ_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",m:"minuḍ",mm:"%d minuḍ",h:"saɛa",hh:"%d tassaɛin",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}})})(Q),(function(e){e.lang("tzm",{months:"ⵉⵏⵏⴰⵢⵔ_ⴱⵕⴰⵢⵕ_ⵎⴰⵕⵚ_ⵉⴱⵔⵉⵔ_ⵎⴰⵢⵢⵓ_ⵢⵓⵏⵢⵓ_ⵢⵓⵍⵢⵓⵣ_ⵖⵓⵛⵜ_ⵛⵓⵜⴰⵏⴱⵉⵔ_ⴽⵟⵓⴱⵕ_ⵏⵓⵡⴰⵏⴱⵉⵔ_ⴷⵓⵊⵏⴱⵉⵔ".split("_"),monthsShort:"ⵉⵏⵏⴰⵢⵔ_ⴱⵕⴰⵢⵕ_ⵎⴰⵕⵚ_ⵉⴱⵔⵉⵔ_ⵎⴰⵢⵢⵓ_ⵢⵓⵏⵢⵓ_ⵢⵓⵍⵢⵓⵣ_ⵖⵓⵛⵜ_ⵛⵓⵜⴰⵏⴱⵉⵔ_ⴽⵟⵓⴱⵕ_ⵏⵓⵡⴰⵏⴱⵉⵔ_ⴷⵓⵊⵏⴱⵉⵔ".split("_"),weekdays:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),weekdaysShort:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),weekdaysMin:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[ⴰⵙⴷⵅ ⴴ] LT",nextDay:"[ⴰⵙⴽⴰ ⴴ] LT",nextWeek:"dddd [ⴴ] LT",lastDay:"[ⴰⵚⴰⵏⵜ ⴴ] LT",lastWeek:"dddd [ⴴ] LT",sameElse:"L"},relativeTime:{future:"ⴷⴰⴷⵅ ⵙ ⵢⴰⵏ %s",past:"ⵢⴰⵏ %s",s:"ⵉⵎⵉⴽ",m:"ⵎⵉⵏⵓⴺ",mm:"%d ⵎⵉⵏⵓⴺ",h:"ⵙⴰⵄⴰ",hh:"%d ⵜⴰⵙⵙⴰⵄⵉⵏ",d:"ⴰⵙⵙ",dd:"%d oⵙⵙⴰⵏ",M:"ⴰⵢoⵓⵔ",MM:"%d ⵉⵢⵢⵉⵔⵏ",y:"ⴰⵙⴳⴰⵙ",yy:"%d ⵉⵙⴳⴰⵙⵏ"},week:{dow:6,doy:12}})})(Q),(function(e){function t(e,t,a){return"m"===a?t?"хвилина":"хвилину":"h"===a?t?"година":"годину":e+" "+(function(e,t){var a=e.split("_");return t%10==1&&t%100!=11?a[0]:t%10>=2&&4>=t%10&&(10>t%100||t%100>=20)?a[1]:a[2]})({mm:"хвилина_хвилини_хвилин",hh:"година_години_годин",dd:"день_дні_днів",MM:"місяць_місяці_місяців",yy:"рік_роки_років"}[a],+e)}function a(e){return function(){return e+"о"+(11===this.hours()?"б":"")+"] LT"}}e.lang("uk",{months:function(e,t){return{nominative:"січень_лютий_березень_квітень_травень_червень_липень_серпень_вересень_жовтень_листопад_грудень".split("_"),accusative:"січня_лютого_березня_квітня_травня_червня_липня_серпня_вересня_жовтня_листопада_грудня".split("_")}[/D[oD]? *MMMM?/.test(t)?"accusative":"nominative"][e.month()]},monthsShort:"січ_лют_бер_квіт_трав_черв_лип_серп_вер_жовт_лист_груд".split("_"),weekdays:function(e,t){return{nominative:"неділя_понеділок_вівторок_середа_четвер_п’ятниця_субота".split("_"),accusative:"неділю_понеділок_вівторок_середу_четвер_п’ятницю_суботу".split("_"),genitive:"неділі_понеділка_вівторка_середи_четверга_п’ятниці_суботи".split("_")}[/(\[[ВвУу]\]) ?dddd/.test(t)?"accusative":/\[?(?:минулої|наступної)? ?\] ?dddd/.test(t)?"genitive":"nominative"][e.day()]},weekdaysShort:"нд_пн_вт_ср_чт_пт_сб".split("_"),weekdaysMin:"нд_пн_вт_ср_чт_пт_сб".split("_"),longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY р.",LLL:"D MMMM YYYY р., LT",LLLL:"dddd, D MMMM YYYY р., LT"},calendar:{sameDay:a("[Сьогодні "),nextDay:a("[Завтра "),lastDay:a("[Вчора "),nextWeek:a("[У] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return a("[Минулої] dddd [").call(this);case 1:case 2:case 4:return a("[Минулого] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:"за %s",past:"%s тому",s:"декілька секунд",m:t,mm:t,h:"годину",hh:t,d:"день",dd:t,M:"місяць",MM:t,y:"рік",yy:t},meridiem:function(e){return 4>e?"ночі":12>e?"ранку":17>e?"дня":"вечора"},ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e+"-й";case"D":return e+"-го";default:return e}},week:{dow:1,doy:7}})})(Q),(function(e){e.lang("uz",{months:"январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_"),monthsShort:"янв_фев_мар_апр_май_июн_июл_авг_сен_окт_ноя_дек".split("_"),weekdays:"Якшанба_Душанба_Сешанба_Чоршанба_Пайшанба_Жума_Шанба".split("_"),weekdaysShort:"Якш_Душ_Сеш_Чор_Пай_Жум_Шан".split("_"),weekdaysMin:"Як_Ду_Се_Чо_Па_Жу_Ша".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"D MMMM YYYY, dddd LT"},calendar:{sameDay:"[Бугун соат] LT [да]",nextDay:"[Эртага] LT [да]",nextWeek:"dddd [куни соат] LT [да]",lastDay:"[Кеча соат] LT [да]",lastWeek:"[Утган] dddd [куни соат] LT [да]",sameElse:"L"},relativeTime:{future:"Якин %s ичида",past:"Бир неча %s олдин",s:"фурсат",m:"бир дакика",mm:"%d дакика",h:"бир соат",hh:"%d соат",d:"бир кун",dd:"%d кун",M:"бир ой",MM:"%d ой",y:"бир йил",yy:"%d йил"},week:{dow:1,doy:7}})})(Q),(function(e){e.lang("vi",{months:"tháng 1_tháng 2_tháng 3_tháng 4_tháng 5_tháng 6_tháng 7_tháng 8_tháng 9_tháng 10_tháng 11_tháng 12".split("_"),monthsShort:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),weekdays:"chủ nhật_thứ hai_thứ ba_thứ tư_thứ năm_thứ sáu_thứ bảy".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM [năm] YYYY",LLL:"D MMMM [năm] YYYY LT",LLLL:"dddd, D MMMM [năm] YYYY LT",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY LT",llll:"ddd, D MMM YYYY LT"},calendar:{sameDay:"[Hôm nay lúc] LT",nextDay:"[Ngày mai lúc] LT",nextWeek:"dddd [tuần tới lúc] LT",lastDay:"[Hôm qua lúc] LT",lastWeek:"dddd [tuần rồi lúc] LT",sameElse:"L"},relativeTime:{future:"%s tới",past:"%s trước",s:"vài giây",m:"một phút",mm:"%d phút",h:"một giờ",hh:"%d giờ",d:"một ngày",dd:"%d ngày",M:"một tháng",MM:"%d tháng",y:"một năm",yy:"%d năm"},ordinal:function(e){return e},week:{dow:1,doy:4}})})(Q),(function(e){e.lang("zh-cn",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"Ah点mm",L:"YYYY-MM-DD",LL:"YYYY年MMMD日",LLL:"YYYY年MMMD日LT",LLLL:"YYYY年MMMD日ddddLT",l:"YYYY-MM-DD",ll:"YYYY年MMMD日",lll:"YYYY年MMMD日LT",llll:"YYYY年MMMD日ddddLT"},meridiem:function(e,t){var a=100*e+t;return 600>a?"凌晨":900>a?"早上":1130>a?"上午":1230>a?"中午":1800>a?"下午":"晚上"},calendar:{sameDay:function(){return 0===this.minutes()?"[今天]Ah[点整]":"[今天]LT"},nextDay:function(){return 0===this.minutes()?"[明天]Ah[点整]":"[明天]LT"},lastDay:function(){return 0===this.minutes()?"[昨天]Ah[点整]":"[昨天]LT"},nextWeek:function(){var t,a;return t=e().startOf("week"),a=this.unix()-t.unix()>=604800?"[下]":"[本]",0===this.minutes()?a+"dddAh点整":a+"dddAh点mm"},lastWeek:function(){var t,a;return t=e().startOf("week"),a=this.unix()<t.unix()?"[上]":"[本]",0===this.minutes()?a+"dddAh点整":a+"dddAh点mm"},sameElse:"LL"},ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";case"M":return e+"月";case"w":case"W":return e+"周";default:return e}},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1分钟",mm:"%d分钟",h:"1小时",hh:"%d小时",d:"1天",dd:"%d天",M:"1个月",MM:"%d个月",y:"1年",yy:"%d年"},week:{dow:1,doy:4}})})(Q),(function(e){e.lang("zh-tw",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"Ah點mm",L:"YYYY年MMMD日",LL:"YYYY年MMMD日",LLL:"YYYY年MMMD日LT",LLLL:"YYYY年MMMD日ddddLT",l:"YYYY年MMMD日",ll:"YYYY年MMMD日",lll:"YYYY年MMMD日LT",llll:"YYYY年MMMD日ddddLT"},meridiem:function(e,t){var a=100*e+t;return 900>a?"早上":1130>a?"上午":1230>a?"中午":1800>a?"下午":"晚上"},calendar:{sameDay:"[今天]LT",nextDay:"[明天]LT",nextWeek:"[下]ddddLT",lastDay:"[昨天]LT",lastWeek:"[上]ddddLT",sameElse:"L"},ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";case"M":return e+"月";case"w":case"W":return e+"週";default:return e}},relativeTime:{future:"%s內",past:"%s前",s:"幾秒",m:"一分鐘",mm:"%d分鐘",h:"一小時",hh:"%d小時",d:"一天",dd:"%d天",M:"一個月",MM:"%d個月",y:"一年",yy:"%d年"}})})(Q),Q.lang("en"),pe?module.exports=Q:"function"==typeof define&&define.amd?(define("moment",(function(e,t,a){return a.config&&a.config()&&!0===a.config().noGlobal&&(te.moment=$),Q})),Z(!0)):Z()}).call(this),define("dig-components/controls",["require","exports","tslib","dig-components/controls/checkbox/checkbox","dig-components/controls/radio_button/radio_button","dig-components/controls/segmented_control/segmented_control","dig-components/controls/toggle/toggle"],(function(e,t,a,n,s,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),a.__exportStar(n,t),a.__exportStar(s,t),a.__exportStar(i,t),a.__exportStar(r,t)})),define("dig-components/controls/checkbox/checkbox",["require","exports","tslib","classnames","react","focus-visible"],(function(e,t,a,n,s){"use strict";function i(e){var t=e.checked;return e.isIndeterminate?"mixed":t?"true":"false"}Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),s=a.__importStar(s),t.Checkbox=s.forwardRef((function(e,t){var l=e.checked,d=e.className,u=e.isIndeterminate,c=void 0!==u&&u,p=e.inverse,m=void 0!==p&&p,_=e.style,f=void 0===_?{}:_,g=a.__rest(e,["checked","className","isIndeterminate","inverse","style"]),h=n.default("dig-Checkbox-input",{"dig-Checkbox--inverse":m}),y=n.default("dig-Checkbox",d),M=s.useRef();return s.useEffect((function(){M.current&&(M.current.indeterminate=c)}),[t]),s.createElement("span",{className:y,style:f},s.createElement("input",Object.assign({"aria-checked":i({checked:l,isIndeterminate:c}),checked:l,className:h,ref:function(e){M.current=e,t&&("function"==typeof t?t(e):t.current=e)},type:"checkbox"},g)),s.createElement("span",{className:"dig-Checkbox-styles"}),s.createElement(o,null),s.createElement(r,null))})),t.Checkbox.displayName="Checkbox";var r=function(){return s.createElement("svg",{className:"dig-Checkbox-checked-icon","aria-hidden":"true",width:"20px",height:"20px",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:"false"},s.createElement("path",{d:"M1 4L4.5 7.5L11 1",stroke:"currentColor",strokeWidth:"2",transform:"translate(4, 6)"}))};r.displayName="CheckedCheckboxIcon";var o=function(){return s.createElement("svg",{"aria-hidden":"true",width:"20px",height:"20px",viewBox:"0 0 20 20",version:"1.1",className:"dig-Checkbox-indeterminate-icon",focusable:"false"},s.createElement("rect",{x:"5px",y:"9px",width:"10px",height:"2px"}))};o.displayName="IndeterminateCheckboxIcon"})),define("dig-components/controls/radio_button/radio_button",["require","exports","tslib","classnames","react","focus-visible"],(function(e,t,a,n,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),s=a.__importStar(s),t.RadioButton=s.forwardRef((function(e,t){var i=e.className,r=(e.children,e.inverse),o=a.__rest(e,["className","children","inverse"]),l=n.default("dig-Radio",i,{"dig-Radio--inverse":r});return s.createElement("input",Object.assign({type:"radio",className:l,ref:t},o))})),t.RadioButton.displayName="RadioButton"})),define("dig-components/controls/segmented_control/context",["require","exports","tslib","react"],(function(e,t,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n);var s={setSelectedOption:function(){return!1},selectedOption:void 0};t.SegmentedControlContext=n.createContext(s)})),define("dig-components/controls/segmented_control/option",["require","exports","tslib","react","classnames","dig-components/controls/segmented_control/context"],(function(e,t,a,n,s,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),s=a.__importDefault(s),t.Option=n.forwardRef((function(e,t){var r=e.index,o=e.children,l=e.disabled,d=e.value,u=e.role,c=void 0===u?"tab":u,p=a.__rest(e,["index","children","disabled","value","role"]),m=n.useContext(i.SegmentedControlContext).setSelectedOption,_=s.default("dig-SegmentedControl-option",{"dig-SegmentedControl-option--disabled":l});return n.createElement("button",Object.assign({role:c,className:_,disabled:l,onClick:function(){m({value:d,index:r})},ref:t},p),o)})),t.Option.displayName="SegmentedControl.Option"})),define("dig-components/controls/segmented_control/segmented_control",["require","exports","tslib","classnames","react","dig-components/controls/segmented_control/option","dig-components/controls/segmented_control/context","focus-visible"],(function(e,t,a,n,s,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),s=a.__importStar(s);t.SegmentedControl=function(e){var t=e.className,i=e.children,o=e.selectedValue,l=e.onSelection,d=e.onValueChange,u=e.inverse,c=void 0!==u&&u,p=a.__rest(e,["className","children","selectedValue","onSelection","onValueChange","inverse"]),m=s.useState(!1),_=m[0],f=m[1],g=function(e){var t=-1;return s.Children.forEach(i,(function(a,n){s.isValidElement(a)&&a.props.value===e&&(t=n)})),t},h=s.useState((function(){var e=-1;return void 0!==o&&(e=g(o)),e})),y=h[0],M=h[1],b=n.default("dig-SegmentedControl",t,{"dig-SegmentedControl--inverse":c});s.useEffect((function(){_||f(!0)}),[]),s.useEffect((function(){M(void 0===o?-1:g(o)),_&&d&&d(o)}),[o]);var S={selectedOption:{value:o},setSelectedOption:function(e){M(e.index),d&&d(e.value),l&&l(e.value)}},v=-1!==y?32*y+2*y:0;return s.createElement(r.SegmentedControlContext.Provider,{value:S},s.createElement("div",Object.assign({role:"tablist",className:b},p),-1!==y&&s.createElement("span",{className:"dig-SegmentedControl-selector",style:{transform:"translateX("+v+"px)"}}),s.Children.map(i,(function(e,t){return s.isValidElement(e)&&s.cloneElement(e,{index:t})}))))},t.SegmentedControl.displayName="SegmentedControl",t.SegmentedControl.Option=i.Option})),define("dig-components/controls/toggle/toggle",["require","exports","tslib","classnames","react","focus-visible"],(function(e,t,a,n,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),s=a.__importStar(s),t.Toggle=s.forwardRef((function(e,t){var i=e.isToggled,r=e.disabled,o=e.className,l=e.wrapperProps,d=e.inverse,u=a.__rest(e,["isToggled","disabled","className","wrapperProps","inverse"]),c=n.default(o,"dig-Toggle",{"dig-Toggle--isToggled":i,"dig-Toggle--disabled":r,"dig-Toggle--inverse":d});return s.createElement("label",Object.assign({className:c},l),s.createElement("input",Object.assign({role:"switch",type:"checkbox",className:"dig-Toggle-input",checked:i,disabled:r,ref:t},u)),s.createElement("span",{className:"dig-Toggle-track"}))})),t.Toggle.displayName="Toggle"})),define("dig-components/modal",["require","exports","tslib","dig-components/modal/modal"],(function(e,t,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),a.__exportStar(n,t)})),define("dig-components/modal/body",["require","exports","tslib","react","dig-components/typography/text"],(function(e,t,a,n,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),t.Body=n.forwardRef((function(e,t){var i=e.children,r=e.className,o=void 0===r?"":r,l=a.__rest(e,["children","className"]),d="dig-Modal-body "+o;return n.createElement(s.Text,Object.assign({ref:t,className:d,tagName:"div",color:"standard"},l),i)})),t.Body.displayName="Modal.Body"})),define("dig-components/modal/content",["require","exports","tslib","react"],(function(e,t,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),t.Content=function(e){var t=e.children,s=e.className,i=void 0===s?"":s,r=a.__rest(e,["children","className"]);return n.createElement("div",Object.assign({className:"dig-Modal-content "+i},r),t)}})),define("dig-components/modal/footer",["require","exports","tslib","react","classnames"],(function(e,t,a,n,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),s=a.__importDefault(s),t.Footer=function(e){var t=e.hasTopBorder,i=void 0!==t&&t,r=e.children,o=e.className,l=void 0===o?"":o,d=a.__rest(e,["hasTopBorder","children","className"]),u=s.default("dig-Modal-footer",{"dig-Modal-footer--hasTopBorder":i},l);return n.createElement("div",Object.assign({className:u},d),r)},t.Footer.displayName="Modal.Footer"})),define("dig-components/modal/header",["require","exports","tslib","react","classnames"],(function(e,t,a,n,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),s=a.__importDefault(s),t.Header=function(e){var t=e.hasBottomSpacing,i=void 0===t?"title-small":t,r=e.children,o=e.className,l=void 0===o?"":o,d=a.__rest(e,["hasBottomSpacing","children","className"]),u=s.default("dig-Modal-header",{"dig-Modal-header--margin-title-standard":"title-standard"===i},l);return n.createElement("div",Object.assign({className:u},d),r)},t.Header.displayName="Modal.Header"})),define("dig-components/modal/modal",["require","exports","tslib","classnames","react","react-modal","dig-components/buttons","dig-components/icons","dig-components/icons/src","dig-components/modal/content","dig-components/modal/header","dig-components/modal/body","dig-components/modal/footer","focus-visible"],(function(e,t,a,n,s,i,r,o,l,d,u,c,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),s=a.__importStar(s),i=a.__importDefault(i);var m=function(e){switch(e){case"small":return 450;case"standard":return 600;case"large":return 700}return e};t.Modal=function(e){var t=e.children,u=e.className,c=e.withCloseButton,p=e.width,_=void 0===p?"standard":p,f=e.open,g=void 0!==f&&f,h=e.onRequestClose,y=e.overlayClassName,M=a.__rest(e,["children","className","withCloseButton","width","open","onRequestClose","overlayClassName"]),b=n.default("dig-Modal",u),S=h;return s.createElement(i.default,Object.assign({},M,{isOpen:g,shouldCloseOnOverlayClick:!0,onRequestClose:h,className:b,bodyOpenClassName:"dig-Modal-body--open",htmlOpenClassName:"dig-Modal-html--open",overlayClassName:n.default("dig-Modal-overlay",y),closeTimeoutMS:200,style:{content:{width:m(_)}}}),!!c&&s.createElement(r.IconButton,{variant:"transparent",className:"dig-Modal-close-btn","aria-label":c,onClick:S},s.createElement(o.UIIcon,{src:l.CloseLine})),s.createElement(d.Content,null,t))},t.Modal.Content=d.Content,t.Modal.Header=u.Header,t.Modal.Body=c.Body,t.Modal.Footer=p.Footer,t.Modal.displayName="Modal",t.Modal.setAppElement=i.default.setAppElement})),define("modules/clean/account_page/constants",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(function(e){e[e.ALL=1]="ALL",e[e.PLAN=2]="PLAN",e[e.SCHEDULE=3]="SCHEDULE",e[e.LICENSES=4]="LICENSES",e[e.EVH_ADDON=5]="EVH_ADDON",e[e.IND_SUBSCRIPTION=6]="IND_SUBSCRIPTION",e[e.FAMILY_NONPAYER=7]="FAMILY_NONPAYER"})(t.CancellationType||(t.CancellationType={}))})),define("modules/clean/account_page/tabs/billing",["require","exports","tslib","modules/clean/event_handler","modules/core/browser","modules/core/browser_detection","modules/core/uri","modules/clean/react/payments/update_individual_billing/update_individual_store_creator","modules/clean/dbmodal_stack","react","react-redux","modules/clean/react/css","modules/core/i18n","modules/clean/web_timing_logger","modules/clean/account_page/util","modules/clean/teams/admin/lib/billing_history","modules/clean/account_page/widgets/billing/payment_methods_util","modules/clean/account_page/widgets/billing/action_creators","modules/clean/account_page/widgets/plan/action_creators","modules/clean/account_page/widgets/plan/add_ons/action_creators","modules/clean/react/payments/error/browser_update_required_modal","modules/clean/account_page/widgets/plan/views/cancel_subs_warning_modal","modules/clean/account_page/widgets/plan/views/change_schedule_modal","modules/clean/account_page/widgets/plan/views/change_plan_modal","modules/clean/account_page/widgets/plan/views/cancel_plan","modules/clean/account_page/widgets/plan/views/individual_cancel_survey_modal","modules/clean/account_page/widgets/plan/views/montana/montana_modal_flow","modules/clean/account_page/widgets/plan/views/montana/montana_renew_success_modal","modules/clean/account_page/widgets/plan/views/montana/common","modules/clean/react/payments/edit_invoice_address_modal/edit_invoice_address_modal_loader","modules/clean/react/payments/update_individual_billing/update_individual_billing_modal_loader","modules/clean/account_page/components/key_value_block","modules/clean/account_page/widgets/billing/views/license_keys","modules/clean/account_page/components/loading","modules/clean/payments/skus/constants","modules/constants/trademark","modules/clean/analytics","modules/clean/payments/skus/subscription_status","modules/clean/account_page/widgets/billing/views/invoice_details","modules/clean/account_page/widgets/billing/views/billing_history","modules/core/notify","modules/clean/stormcrow/stormcrow_exposure_logger","modules/clean/stormcrow/experiment"],(function(e,t,a,n,s,i,r,o,l,d,u,c,p,m,_,f,g,h,y,M,b,S,v,L,T,w,D,P,C,E,k,Y,N,x,A,I,R,O,B,F,U,j,H){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),s=a.__importStar(s),i=a.__importStar(i),d=a.__importDefault(d),u=a.__importStar(u);var V=(function(e){function t(t){var n=e.call(this,t)||this;return n.browserUpdateRequired=function(){return!!n.props.browserUpdateRequired&&(b.BrowserUpdateModalLoader.showInstance(),!0)},n.handlePaymentUpdate=function(){n.browserUpdateRequired()||(R.ProEventsLogger.log("de_billing_tab_update_payment_method_click"),n.props.billingInfo.scheduled_for_downgrade?S.CancelChangesModalConfirmation.showInstance({transitionPerformed:n.reloadData,subStatus:n.subStatus,shouldShowRedesignedModal:n.shouldShowRedesignedModal}):k.IndividualUpdateBillingModalLoader.showInstance())},n.handlePaymentAdd=function(){n.browserUpdateRequired()||(R.ProEventsLogger.log("de_billing_tab_add_payment_method_click"),k.IndividualUpdateBillingModalLoader.showInstance())},n.handlePaymentAddToResubscribe=function(){n.browserUpdateRequired()||(R.ProEventsLogger.log("de_billing_tab_add_payment_method_resubscribe_click"),U.Notify.success(p.intl.formatMessage({defaultMessage:"Please update your billing information to be resubscribed."})),k.IndividualUpdateBillingModalLoader.showInstance())},n.reloadData=function(){var e=n.props,t=e.loadBillingInfo,a=e.loadPlanDataIfNecessary,s=e.loadEvhInfoIfNecessary;t(!0),s(!0),a(!0)},n.handleBillingChange=function(){R.ProEventsLogger.log("de_billing_tab_change_billing_modal_open");var e=n.props.billingInfo,t=e.payment_info,a=e.scheduled_for_downgrade;j.logVariantExposure("growth_retention_account_changes",n.props.expRetentionAccountChanges),a?S.CancelChangesModalConfirmation.showInstance({transitionPerformed:n.reloadData,subStatus:n.subStatus,shouldShowRedesignedModal:n.shouldShowRedesignedModal}):(j.logVariantExposure("montana_master_switch",n.props.expMontana),v.ChangeScheduleModalView.showInstance({transitionPerformed:n.reloadData,paymentInfo:t,browserUpdateRequired:n.props.browserUpdateRequired,expMontana:n.props.expMontana,shouldShowRedesignedModal:n.shouldShowRedesignedModal}))},n.handleRebillUpsell=function(e){e&&e.showChangePlanConfirm&&L.ChangePlanModalView.showInstance({mode:L.ChangePlanMode.CONFIRM,transitionPerformed:n.reloadData})},n.onEditInvoiceDetailsClick=function(){R.ProEventsLogger.log("de_billing_tab_edit_invoice_modal_open"),E.EditInvoiceAddressModalLoader.showUpdateTaxProfileModal(!1,n.onInvoiceDetailsUpdated)},n.onInvoiceDetailsUpdated=function(){n.props.loadBillingInfo(!0)},n.renderLicenseKeys=function(){return d.default.createElement("div",{className:"jest-license-keys account-page-block"},d.default.createElement(N.LicenseKeys,{licenseKeys:n.props.billingInfo.license_keys}))},n.renderBillingHistory=function(){var e=n.props.billingInfo,t=e.transactions,a=e.show_edit_invoice_modal,s=e.edit_past_invoices,i=a&&s,r=!1;null!==t&&t.transactions.length>0&&(r=f.getHistoryData(t.transactions).length>3);return d.default.createElement(F.BillingHistory,{showEditInvoiceModal:i,transactions:t.transactions,filters:t.filters,hasMore:r})},n.renderPaymentMethod=function(){if(!(n.disallowChangesToCurrentBilling||n.props.trialsConfig&&n.props.trialsConfig.hideBillingModal)){var e=n.props.billingInfo.payment_info,t=e.gateway_id,a=e.expiration_date,s=e.description,i=e.is_reseller_billing,r=e.end_date,o=e.deactivated,l=e.is_on_trial,u=e.reseller_name,c=e.reseller_link;if(i){var m=p.intl.formatMessage({defaultMessage:"Go to {reseller_name} to view or make changes to your account details"},{reseller_name:u}),_=d.default.createElement("a",{href:c,target:"_blank",rel:"noopener noreferrer"},m);return d.default.createElement(Y.KeyValueBlock,{className:"jest-update-payment",keyText:_})}if(-1!==t){if(!g.shouldHidePaymentMethod(t)&&!n.props.billingInfo.payment_method)return d.default.createElement(Y.KeyValueBlock,{className:"add-payment jest-update-payment",keyText:p.intl.formatMessage({defaultMessage:"You can add your payment information now to have your subscription automatically renew when it expires"}),linkText:p.intl.formatMessage({defaultMessage:"Add"}),onLinkClick:n.handlePaymentAddToResubscribe});if(g.isLicenseKey(t))return d.default.createElement("div",{className:"account-page-block"},d.default.createElement(Y.KeyValueBlock,{className:"jest-update-payment",keyText:p.intl.formatMessage({defaultMessage:"Payment method"}),subtext:p.intl.formatMessage({defaultMessage:"Add your payment information now to have your subscription automatically renew when it expires"}),linkText:p.intl.formatMessage({defaultMessage:"Add payment method"}),onLinkClick:n.handlePaymentAdd}));if(g.shouldHidePaymentMethod(t)){var f=g.getPaymentMethodDisabledMessage(t,i,I.TRADEMARK_PLUS,r,o,l);return d.default.createElement(Y.KeyValueBlock,{className:"jest-update-payment",keyText:f})}var h=s;return null!==a&&(h=p.intl.formatMessage({defaultMessage:"{payment_description}, exp: {expiration_date}",description:'Payment description is a card information, already translated         (ex> Visa ending in 2543). Date is in format MM / YYYY ( ex> 08 / 2017 ).         An example translated string is "Visa ending in 2543, exp: 08 / 2017 ).'},{payment_description:s,expiration_date:a})),d.default.createElement(Y.KeyValueBlock,{className:"update-payment-key-value jest-update-payment",keyText:p.intl.formatMessage({defaultMessage:"Payment method"}),valueText:h,linkText:p.intl.formatMessage({defaultMessage:"Update"}),onLinkClick:n.handlePaymentUpdate})}}},n.renderBillingPeriod=function(){if(!n.disallowChangesToCurrentBilling){var e=n.props.billingInfo,t=e.payment_info,a=e.scheduled_for_downgrade;if(!g.shouldHideBillingChange(t.gateway_id,t.is_reseller_billing)&&t.period){if(!t.schedule_switchable&&!a&&!n.isProfessionalTrialPlan)return d.default.createElement(Y.KeyValueBlock,{className:"jest-change-billing-period",keyText:p.intl.formatMessage({defaultMessage:"Sorry, you cannot change your billing schedule at this time."})});var s="yearly"===t.period?p.intl.formatMessage({defaultMessage:"Plan billed yearly"}):p.intl.formatMessage({defaultMessage:"Plan billed monthly"});return d.default.createElement(Y.KeyValueBlock,{className:"lookup-charge-key-value jest-change-billing-period",keyText:p.intl.formatMessage({defaultMessage:"Billing period"}),valueText:s,linkText:p.intl.formatMessage({defaultMessage:"Change"}),onLinkClick:n.handleBillingChange,disabled:t&&t.is_in_grace_period})}}},n.renderInvoiceDetails=function(){var e=n.props.billingInfo,t=e.show_edit_invoice_modal,a=e.payment_info,s=e.payment_method,i=e.has_invoice_details;if(n.user.paid&&t&&!g.shouldHideBillingChange(a.gateway_id,a.is_reseller_billing)&&a.period)return d.default.createElement(B.InvoiceDetails,{onLinkClick:n.onEditInvoiceDetailsClick,has_invoice_details:i,country_code:s?s.country_code:void 0})},n.openChangePlanModal=function(e){var t=!1;if(!e&&"ON"===n.props.planInfo.expMontana){var a=n.props.planInfo,s=a.montanaAnnouncementDate,i=a.usersMontanaMigrationDate,r=a.usersFirstMontanaRebillDate,o=a.now;t=C.getMontanaDateBooleans({montanaAnnouncementDate:s,usersFirstMontanaRebillDate:r,usersMontanaMigrationDate:i,now:o}).isAfterFirstMontanaRebill,C.MontanaLogger.logEvent("cancel_view",{featureType:"change_plan"})}L.ChangePlanModalView.showInstance({transitionPerformed:n.reloadData,expMontana:n.props.planInfo.expMontana,shouldApplyMontanaRetentionPolicy:t,shouldShowRedesignedModal:e})},n.openChangeScheduleModal=function(){var e=n.props,t=e.planInfo,a=e.browserUpdateRequired,s=t.paymentInfo,i=t.expMontana;C.MontanaLogger.isInitialized()&&C.MontanaLogger.logEvent("cancel_view",{featureType:"yearly_billing"}),v.ChangeScheduleModalView.showInstance({transitionPerformed:n.reloadData,paymentInfo:s,browserUpdateRequired:a,expMontana:i,isMontanaDowngradeFlow:!0})},n.showMontanaModalFlow=function(){j.logVariantExposure("montana_master_switch",n.props.planInfo.expMontana),n.setState({showMontanaModalFlow:!0})},n.openMontanaRenewSuccessModal=function(){return a.__awaiter(n,void 0,void 0,(function(){return a.__generator(this,(function(e){switch(e.label){case 0:return[4,this.props.loadPlanDataIfNecessary(!0,!0)];case 1:return e.sent(),this.setState({showMontanaRenewSuccessModal:!0}),[2]}}))}))},n.openIndividualCancelSurvey=function(){R.ProEventsLogger.log("individual_cancel_survey_modal_view"),n.setState({showIndividualCancelSurvey:!0})},n.closeIndividualCancelSurvey=function(){n.setState({showIndividualCancelSurvey:!1})},n.hideMontanaModalFlow=function(){n.setState({showMontanaModalFlow:!1})},n.closeMontanaRenewSuccessModal=function(){n.setState({showMontanaRenewSuccessModal:!1})},n.renderCancelPlanButton=function(){var e,t,a=n.props.expRetentionAccountWayfindingProps.expRetentionAccountWayfinding,s=n.props.planInfo,i=s.usageBreakdown,r=s.scheduledForDowngrade,o=s.paymentInfo,l=s.eligibleFor1tb,u=s.expMontana,c=s.basicSkuContent,p=s.plusToProTrialVariant,m=n.subStatus;if(t=H.Experiment(u).isActive&&m&&C.isValidMontanaUserState(m,n.props.planInfo)?n.showMontanaModalFlow:n.openIndividualCancelSurvey,!(n.isExternallyBilled||r||n.isProfessionalTrialPlan||!n.isPersonalUser&&!n.isLimitedTeam||!o||g.shouldHideBillingChange(null==o?void 0:o.gateway_id,null==o?void 0:o.is_reseller_billing)||(null===(e=n.props.trialsConfig)||void 0===e?void 0:e.hideCancelPlan))){var _={plusToProTrialVariant:p,expRetentionAccountWayfinding:a};return d.default.createElement(T.CancelPlan,{experiments:_,usageBreakdown:i,subStatus:m,eligibleFor1tb:l,basicSkuContent:c,onClick:t})}},n.renderModals=function(){var e=n.props,t=e.expMontana,s=e.expRetentionAccountWayfindingProps,i=e.planInfo,r=s.firstName;if(n.subStatus){if(n.state.showIndividualCancelSurvey){var o={firstName:r,onClose:n.closeIndividualCancelSurvey,subStatus:n.subStatus,expMontanaActive:H.Experiment(t).isActive&&n.subStatus&&C.isValidMontanaUserState(n.subStatus,i),nextModal:function(){},prevModal:function(){},exitModalFlow:function(){},goToModal:function(){},modalFlowState:{}};return d.default.createElement(w.IndividualCancelSurveyModal,a.__assign({},o))}return n.state.showMontanaModalFlow?d.default.createElement(D.MontanaModalFlow,{firstName:r,subStatus:n.subStatus,onClose:n.hideMontanaModalFlow,planInfo:i,openChangePlanModal:n.openChangePlanModal,openChangeScheduleModal:n.openChangeScheduleModal,openMontanaRenewSuccessModal:n.openMontanaRenewSuccessModal}):n.state.showMontanaRenewSuccessModal?d.default.createElement(P.RenewSuccessModal,{subStatus:n.subStatus,planInfo:i,onClose:n.closeMontanaRenewSuccessModal}):void 0}},n.handleLookUpCharge=function(){R.ProEventsLogger.log("de_billing_tab_look_up_charge_click",{},(function(){s.redirect("/payments/find_receipt")}))},n.renderLookUpCharge=function(){return d.default.createElement(Y.KeyValueBlock,{keyText:p.intl.formatMessage({defaultMessage:"Look up a credit or debit card purchase"}),linkText:p.intl.formatMessage({defaultMessage:"Look up charge"}),onLinkClick:n.handleLookUpCharge})},n.user=_.getCurrentUser(),l.DBModalStack.register(o.BILLING_INFO_UPDATED,(function(e,t){R.ProEventsLogger.log("de_payment_modal_save_click"),n.props.loadBillingInfo(!0),n.props.loadPlanDataIfNecessary(!0),n.handleRebillUpsell(t)})),n.state={showIndividualCancelSurvey:!1,showMontanaModalFlow:!1,showMontanaRenewSuccessModal:!1},n}return a.__extends(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props.expRetentionAccountWayfindingProps.expRetentionAccountWayfinding;this.props.loadBillingInfo(),H.Experiment(t).variantIs("V2")&&this.props.loadPlanDataIfNecessary(),this.checkTTIstate(),R.ProEventsLogger.log("de_billing_tab_view"),this.events.on(window,"hashchange",(function(){e.displayResubscribeBillingModal(),e.displayUpdateBillingModal()})),this.displayResubscribeBillingModal(),this.displayUpdateBillingModal();var a=s.get_hash(),n=s.get_uri().getQuery().exp_renewals_pro_mobile_payment_page;void 0!==a&&-1!==a.search("billing_info")&&-1===a.search("resubscribe_billing_info")&&["V1","V2"].includes(n)&&R.ProEventsLogger.log("exp_renewals_pro_mobile_payment_page_"+n,{isAndroid:i.is_android(),isMobile:i.is_supported_mobile_browser(),isIOS:i.iOS})},t.prototype.componentDidUpdate=function(){this.checkTTIstate()},t.prototype.displayUpdateBillingModal=function(){var e=s.get_hash(),t=void 0!==e&&-1!==e.search("billing_info")&&-1===e.search("resubscribe_billing_info"),a=r.URI.parse(s.get_href()).getQuery().modal;if(t||a&&"billing_info"===a){if(!this.user.paid)return;if(this.browserUpdateRequired())return;if(this.props.trialsConfig&&this.props.trialsConfig.hideBillingModal)return;k.IndividualUpdateBillingModalLoader.showInstance()}},t.prototype.displayResubscribeBillingModal=function(){var e=s.get_hash();if(void 0!==e&&-1!==e.search("resubscribe_billing_info")){if(this.browserUpdateRequired())return;k.IndividualUpdateBillingModalLoader.showInstance()}},Object.defineProperty(t.prototype,"subStatus",{get:function(){var e=this.props.billingInfo.serialized_sub_status;if(e)return O.SubscriptionStatus.deserialize(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isProfessionalTrialPlan",{get:function(){var e,t;return(null===(t=null===(e=this.subStatus)||void 0===e?void 0:e.subState.plan)||void 0===t?void 0:t.productType)===A.ProductPlanType.PROFESSIONAL_TRIAL},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isFamilyPayerPlan",{get:function(){var e,t;return(null===(t=null===(e=this.subStatus)||void 0===e?void 0:e.subState.plan)||void 0===t?void 0:t.productType)===A.ProductPlanType.FAMILY_PAYER},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isFamilyNonPayerPlan",{get:function(){var e,t;return(null===(t=null===(e=this.subStatus)||void 0===e?void 0:e.subState.plan)||void 0===t?void 0:t.productType)===A.ProductPlanType.FAMILY_NONPAYER},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disallowChangesToCurrentBilling",{get:function(){return!this.user.paid||this.isFamilyNonPayerPlan},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shouldShowRedesignedModal",{get:function(){return H.Experiment(this.props.expRetentionAccountChanges).isActive},enumerable:!0,configurable:!0}),t.prototype.checkTTIstate=function(){this.props.dataLoadedForTTI&&(m.mark_time_to_view(),m.mark_time_to_interactive())},Object.defineProperty(t.prototype,"isExternallyBilled",{get:function(){return void 0===this.subStatus},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isPersonalUser",{get:function(){return"personal"===_.getCurrentUser().role},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isLimitedTeam",{get:function(){return this.props.planInfo.isLimitedTeam},enumerable:!0,configurable:!0}),t.prototype.isLoading=function(){return"ready"!==this.props.loadingState},t.prototype.render=function(){var e=this.props.expRetentionAccountWayfindingProps.expRetentionAccountWayfinding;return this.isLoading()?d.default.createElement(x.Loading,null):d.default.createElement("div",{className:"account-page-tab"},this.renderPaymentMethod(),this.renderBillingPeriod(),this.renderInvoiceDetails(),!this.isFamilyPayerPlan&&!this.isFamilyNonPayerPlan&&this.renderLicenseKeys(),H.Experiment(e).isActive&&this.renderLookUpCharge(),H.Experiment(e).variantIs("V2")&&this.renderCancelPlanButton(),H.Experiment(e).variantIs("V2")&&this.renderModals(),this.renderBillingHistory())},t=a.__decorate([n.eventHandler],t)})(d.default.Component);t.BillingTabView=V;var W=u.connect((function(e,t){return{browserUpdateRequired:t.browserUpdateRequired,expRetentionAccountWayfindingProps:t.expRetentionAccountWayfindingProps,expRetentionAccountChanges:t.expRetentionAccountChanges,billingInfo:e.billingInfo.billingInfo,planInfo:e.planTab.planInfo,loadingState:e.billingInfo.loadingState,dataLoadedForTTI:"ready"===e.billingInfo.loadingState}}),(function(e){return{loadBillingInfo:function(t){return void 0===t&&(t=!1),e(h.loadDataIfNecessary(t))},loadPlanDataIfNecessary:function(t,a){return void 0===t&&(t=!1),e(y.loadDataIfNecessary(t,a))},loadEvhInfoIfNecessary:function(t){return void 0===t&&(t=!1),e(M.loadEvhInfoIfNecessary(t))}}}))(V);t.BillingTab=c.requireCssWithComponent(W,["/static/css/account/pagelet/billing_tab-vflhHn2-5.css","/static/css/plan_management-vflP5THx3.css"])})),define("modules/clean/account_page/widgets/billing/action_creators",["require","exports","tslib","modules/clean/account_page/widgets/billing/api","modules/clean/account_page/util"],(function(e,t,a,n,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadDataIfNecessary=function(e){var t=this;return void 0===e&&(e=!1),function(i,r){return a.__awaiter(t,void 0,void 0,(function(){var t;return a.__generator(this,(function(a){switch(a.label){case 0:return"never_loaded"===r().billingInfo.loadingState||e?(i({type:"billing_info_load"}),[4,n.getBillingInfo(s.getCurrentUser().id)]):[3,2];case 1:return t=a.sent(),i({type:"billing_info_loaded",billingInfo:t}),[2,!0];case 2:return[2,!1]}}))}))}}})),define("modules/clean/account_page/widgets/billing/api",["require","exports","modules/clean/ajax_as_promised"],(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBillingInfo=function(e){return a.WebRequest({url:"/account/ajax_billing_tab_model",subject_user:e,dataType:"json"})}})),define("modules/clean/account_page/widgets/billing/billing_history/api",["require","exports","tslib","modules/clean/ajax_as_promised"],(function(e,t,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBillingHistory=function(e,t,s,i){return a.__awaiter(this,void 0,Promise,(function(){return a.__generator(this,(function(a){return[2,n.WebRequest({url:"/account/ajax_load_more_billing_history/",data:{block:t,filter_type:s,filter_change:i},subject_user:e,dataType:"json"})]}))}))}})),define("modules/clean/account_page/widgets/billing/billing_history/types",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(function(e){e.ASCENDING="ASCENDING",e.DESCENDING="DESCENDING"})(t.BillingHistoryOrder||(t.BillingHistoryOrder={}))})),define("modules/clean/account_page/widgets/billing/views/billing_history",["require","exports","tslib","react","modules/core/i18n","modules/clean/account_page/util","modules/clean/teams/admin/widgets/billing_history/billing_history_table","modules/clean/teams/admin/lib/billing_history","modules/clean/analytics","modules/clean/account_page/widgets/billing/billing_history/api","modules/clean/account_page/widgets/billing/billing_history/types","modules/clean/static_urls"],(function(e,t,a,n,s,i,r,o,l,d,u,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p=(function(e){function t(t){var n=e.call(this,t)||this;return n.loadMoreBillingHistory=function(e){return a.__awaiter(n,void 0,void 0,(function(){var t;return a.__generator(this,(function(a){switch(a.label){case 0:return this.setState({isLoading:!0}),l.ProEventsLogger.log("de_billing_history_view_more_click"),e.preventDefault(),[4,d.getBillingHistory(i.getCurrentUser().id,this.state.numBlocksLoaded,this.state.filter,!1)];case 1:return t=a.sent(),this.setState((function(e){return{transactions:e.isInitialLoad?t.transactions:e.transactions.concat(t.transactions),hasMore:t.hasMore,isLoading:!1,numBlocksLoaded:e.numBlocksLoaded+1,isInitialLoad:!1}})),[2,!1]}}))}))},n.changeFilter=function(e){return a.__awaiter(n,void 0,void 0,(function(){var t,n;return a.__generator(this,(function(a){switch(a.label){case 0:return this.setState({isLoading:!0,filter:e}),l.ProEventsLogger.log("de_billing_history_change_filter_click"),[4,d.getBillingHistory(i.getCurrentUser().id,this.state.numBlocksLoaded,e,!0)];case 1:return t=a.sent(),this.state.isInitialLoad&&(n=o.getHistoryData(t.transactions),t.hasMore=n.length>3),this.setState((function(e){return{transactions:t.transactions,hasMore:t.hasMore,isLoading:!1,numBlocksLoaded:e.numBlocksLoaded,isInitialLoad:e.isInitialLoad}})),[2,!1]}}))}))},n.changeOrder=function(){n.setState((function(e){return{order:e.order===u.BillingHistoryOrder.ASCENDING?u.BillingHistoryOrder.DESCENDING:u.BillingHistoryOrder.ASCENDING}})),l.ProEventsLogger.log("de_billing_history_change_order_click")},n.handlePopoverSelection=function(e){n.state.filter!==e&&n.state.order!==e&&(e===u.BillingHistoryOrder.ASCENDING||e===u.BillingHistoryOrder.DESCENDING?n.changeOrder():n.changeFilter(e))},n.state={transactions:n.props.transactions?n.props.transactions.slice():[],hasMore:n.props.hasMore,isLoading:!1,numBlocksLoaded:0,isInitialLoad:!0,filter:"all_time",order:u.BillingHistoryOrder.ASCENDING},n}return a.__extends(t,e),t.prototype.render=function(){return n.default.createElement("div",{className:"account-page-block"},n.default.createElement("span",{className:"account-page-block__heading"},s.intl.formatMessage({defaultMessage:"Billing history"})),n.default.createElement("p",{className:"account-page-block__subtext"},s.intl.formatMessage({defaultMessage:"View invoices and receipts for all payments made on your Dropbox account."})),n.default.createElement("div",{className:"billing-table-container"},n.default.createElement(r.BillingHistoryTable,{billingHistoryRecords:this.getHistory(),amountLabel:s.intl.formatMessage({defaultMessage:"Amount"}),displayNoTransactionsOnEmptyRecords:!0,showEditInvoiceModal:this.props.showEditInvoiceModal,noTransactionLabel:s.intl.formatMessage({defaultMessage:"No transaction history"}),footer:this.buildFooter(),logAccountBillingTabEvents:!0,isTeam:!1,filter:this.state.filter,order:this.state.order,onSelection:this.handlePopoverSelection,filters:this.props.filters})))},t.prototype.getHistory=function(){var e=[];return this.state.transactions.length>0&&(e=o.getHistoryData(this.state.transactions),this.state.isInitialLoad&&(e=e.slice(0,3))),this.state.order===u.BillingHistoryOrder.ASCENDING?e:e.reverse()},t.prototype.buildFooter=function(){return this.state.isLoading?n.default.createElement("tr",{className:"billing-history-row"},n.default.createElement("td",{colSpan:4,className:"billing-history-col"},n.default.createElement("img",{src:c.static_url("/static/images/icons/ajax-loading-small-vfl3Wt7C_.gif"),alt:s.intl.formatMessage({defaultMessage:"Loading"})}))):this.state.hasMore?n.default.createElement("tr",{className:"billing-history-row"},n.default.createElement("td",{colSpan:4,className:"billing-history-col"},n.default.createElement("a",{href:"#",rel:"noopener noreferrer",onClick:this.loadMoreBillingHistory},s.intl.formatMessage({defaultMessage:"View more billing history"})))):void 0},t})((n=a.__importDefault(n)).default.Component);t.BillingHistory=p})),define("modules/clean/account_page/widgets/billing/views/license_keys",["require","exports","tslib","modules/core/i18n","modules/core/browser","react","modules/clean/react/css","modules/clean/account_page/components/account_table","modules/clean/account_page/components/key_value_block"],(function(e,t,a,n,s,i,r,o,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),s=a.__importStar(s);var d=(function(e){function t(t){var a=e.call(this,t)||this;return a.licenseRowsIncrement=3,a.handleRedeemClick=function(){s.redirect("/pro/redeem_key")},a.buildLicenseFooter=function(){if(a.state.showViewMore)return i.default.createElement("tr",{className:"license-footer-row"},i.default.createElement("td",{colSpan:4},i.default.createElement("a",{onClick:a.showMoreLicense,href:"",rel:"noopener noreferrer"},n.intl.formatMessage({defaultMessage:"View more license keys"}))))},a.showMoreLicense=function(e){e.preventDefault(),a.setState((function(e,t){var n=e.maxShow+a.licenseRowsIncrement;return{maxShow:n,showViewMore:n<t.licenseKeys.length}}))},a.buildStatus=function(e){return e.activated?n.intl.formatMessage({defaultMessage:"Activated on {activated_date}"},{activated_date:e.activated_date}):n.intl.formatMessage({defaultMessage:"Scheduled for future use"})},a.buildDuration=function(e){return e.duration?e.duration:n.intl.formatMessage({defaultMessage:"N/A"})},a.buildLicenseKeyTable=function(){var e=a.props.licenseKeys;if(0!==e.length)return i.default.createElement("div",{className:"license-table-container"},i.default.createElement(o.Table,{className:"license-table"},i.default.createElement(o.TableHead,null,i.default.createElement(o.HeaderRow,{className:"license-header-row"},i.default.createElement(o.HeaderCell,{className:"license-key-header"},n.intl.formatMessage({defaultMessage:"Key"})),i.default.createElement(o.HeaderCell,{className:"license-redeemed-header"},n.intl.formatMessage({defaultMessage:"Redeemed"})),i.default.createElement(o.HeaderCell,{className:"license-duration-header"},n.intl.formatMessage({defaultMessage:"Duration"})),i.default.createElement(o.HeaderCell,{className:"license-status-header"},n.intl.formatMessage({defaultMessage:"Status"})))),i.default.createElement(o.TableFooter,{className:"license-footer"},a.buildLicenseFooter()),i.default.createElement(o.TableBody,null,e.map((function(e,t){if(!(t>=a.state.maxShow))return i.default.createElement(o.BodyRow,{className:"license-body-row "+(e.activated?"activated":"unused"),key:e.key},i.default.createElement(o.BodyCell,{className:"license-key"},e.key),i.default.createElement(o.BodyCell,{className:"license-redeemded"},e.redeemed_date),i.default.createElement(o.BodyCell,{className:"license-duration"},a.buildDuration(e)),i.default.createElement(o.BodyCell,{className:"license-status"},a.buildStatus(e)))})))))},a.state={maxShow:3,showViewMore:!1},a}return a.__extends(t,e),t.prototype.componentDidMount=function(){this.setState((function(e,t){return{showViewMore:e.maxShow<t.licenseKeys.length}}))},t.prototype.render=function(){return i.default.createElement("div",{className:"license-keys"},i.default.createElement(l.KeyValueBlock,{className:"redeem-license-key",keyText:n.intl.formatMessage({defaultMessage:"License keys"}),linkText:n.intl.formatMessage({defaultMessage:"Redeem a license key"}),onLinkClick:this.handleRedeemClick,subtext:n.intl.formatMessage({defaultMessage:"License keys will be applied before any other form of payment method"})}),this.buildLicenseKeyTable())},t})((i=a.__importDefault(i)).default.Component);t.LicenseKeys=r.requireCssWithComponent(d,["/static/css/account/pagelet/license_keys-vflg0II5y.css"])})),define("modules/clean/account_page/widgets/billing/views/invoice_details",["require","exports","tslib","react","modules/core/i18n","modules/clean/account_page/components/key_value_block","modules/clean/payments/validation"],(function(e,t,a,n,s,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.country_code,a=e.has_invoice_details,o=s.intl.formatMessage({defaultMessage:"Add details to your invoice, such as company name and address."});t&&r.hasVat(t)&&(o=s.intl.formatMessage({defaultMessage:"Add details to your invoice, such as company name, address, and VAT ID."}));var l=a?s.intl.formatMessage({defaultMessage:"Update"}):s.intl.formatMessage({defaultMessage:"Add invoice details"});return n.default.createElement(i.KeyValueBlock,{keyText:s.intl.formatMessage({defaultMessage:"Invoice details"}),linkText:l,subtext:o,onLinkClick:this.props.onLinkClick})},t})((n=a.__importDefault(n)).default.Component);t.InvoiceDetails=o})),define("modules/clean/account_page/widgets/plan/action_creators",["require","exports","tslib","modules/clean/account_page/widgets/plan/api","modules/clean/account_page/util"],(function(e,t,a,n,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadDataIfNecessary=function(e,t){var i=this;return function(r,o){return a.__awaiter(i,void 0,void 0,(function(){var i;return a.__generator(this,(function(a){switch(a.label){case 0:return"never_loaded"===o().planTab.loadingState||e?(t||r({type:"plan_tab_load_info"}),[4,n.getPlanInfo(s.getCurrentUser().id)]):[3,2];case 1:return i=a.sent(),r({type:"plan_tab_info_loaded",planInfo:i}),[2,!0];case 2:return[2,!1]}}))}))}}})),define("modules/clean/account_page/widgets/plan/add_ons/action_creators",["require","exports","tslib","modules/clean/account_page/util","modules/clean/account_page/widgets/plan/add_ons/api"],(function(e,t,a,n,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadEvhInfoIfNecessary=function(e){var t=this;return function(i,r){return a.__awaiter(t,void 0,void 0,(function(){var t;return a.__generator(this,(function(a){switch(a.label){case 0:return"never_loaded"===r().planTab.evhLoadingState||e?(i({type:"load_evh_info"}),[4,s.getEvhInfo(n.getCurrentUser().id)]):[3,2];case 1:return t=a.sent(),i({type:"evh_info_loaded",evhInfo:t}),[2,!0];case 2:return[2,!1]}}))}))}}})),define("modules/clean/account_page/widgets/plan/add_ons/api",["require","exports","tslib","modules/clean/ajax_as_promised"],(function(e,t,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getEvhInfo=function(e){return a.__awaiter(this,void 0,Promise,(function(){return a.__generator(this,(function(t){return[2,n.WebRequest({url:"/account/ajax_get_evh_info",subject_user:e,dataType:"json"})]}))}))}})),define("modules/clean/account_page/widgets/plan/api",["require","exports","tslib","modules/clean/ajax_as_promised"],(function(e,t,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPlanInfo=function(e){return a.__awaiter(this,void 0,Promise,(function(){return a.__generator(this,(function(t){return[2,n.WebRequest({url:"/account/ajax_plan_tab_model",subject_user:e,dataType:"json"})]}))}))}})),define("modules/clean/account_page/widgets/plan/constants",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CHANGE_IND_PLAN_MODAL_UPDATED="change_inv_plan_modal:updated"})),define("modules/clean/account_page/widgets/plan/types",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(function(e){e[e.MONTHLY=1]="MONTHLY",e[e.YEARLY=2]="YEARLY",e[e.PLUS=3]="PLUS",e[e.PROFESSIONAL=4]="PROFESSIONAL",e[e.ADD_EVH=5]="ADD_EVH",e[e.REMOVE_EVH=6]="REMOVE_EVH"})(t.PerformPlanTransition||(t.PerformPlanTransition={}))})),define("modules/clean/account_page/widgets/plan/views/basic_plan_status",["require","exports","tslib","react","modules/core/browser","modules/core/i18n","modules/clean/static_urls","modules/clean/analytics","modules/clean/bem","modules/constants/trademark","modules/clean/account_page/widgets/plan/views/switch_plan_modal","modules/clean/stormcrow/experiment","modules/clean/stormcrow/stormcrow_exposure_logger","modules/clean/payments/skus/constants"],(function(e,t,a,n,s,i,r,o,l,d,u,c,p,m){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),s=a.__importStar(s);var _=l.bem("plan-status-section"),f=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.openBasicSwitchPlanModal=function(){u.SwitchPlanModalView.showInstance({productType:m.ProductPlanType.BASIC})},t.handleUpgradeClick=function(){p.logVariantExposure("growth_retention_account_changes_basic",t.props.expRetentionAccountChangesBasic),c.Experiment(t.props.expRetentionAccountChangesBasic).isActive?t.openBasicSwitchPlanModal():o.ProEventsLogger.log("de_general_tab_upgrade_to_plus_click",{},(function(){s.redirect("/upgrade?oqa=acc_general_upgrade")}))},t}return a.__extends(t,e),t.prototype.defaultUpgradePlanButton=function(){return n.default.createElement("div",{className:_("upgrade_btn")},n.default.createElement("button",{className:"button-primary",onClick:this.handleUpgradeClick},i.intl.formatMessage({defaultMessage:"Upgrade",description:"Upgrade Dropbox plan"})))},t.prototype.renderDropboxLogo=function(){return n.default.createElement("div",{className:_("icon")},n.default.createElement("img",{src:r.static_url("/static/images/logo_catalog/dropbox-business-icon_m1-vflczuza3.svg"),alt:i.intl.formatMessage({defaultMessage:"Dropbox logo",description:"Dropbox logo - alternate text"})}))},t.prototype.render=function(){var e=this.props,t=e.planName,a=e.plansUrl,s=e.limitedTeam,r=e.upgradePlanButton;return n.default.createElement("div",{className:_("")},this.renderDropboxLogo(),n.default.createElement("div",{className:_("description")},n.default.createElement("h1",{className:_("title")},t),s,n.default.createElement("a",{className:_("link"),href:a,target:"_blank",rel:"noopener noreferrer"},i.intl.formatMessage({defaultMessage:"See other plans",description:"Link to a page with all Dropbox plans"}))),r||this.defaultUpgradePlanButton())},t.defaultProps={planName:d.DROPBOX_BASIC,plansUrl:"/plans?oqa=acc_general_upgrade"},t})(n.default.Component);t.BasicPlanStatusSection=f})),define("modules/clean/account_page/widgets/plan/views/billing_summary",["require","exports","tslib","react","modules/core/i18n","modules/clean/analytics","modules/clean/payments/cash","modules/clean/payments/skus/constants","modules/clean/account_page/components/key_value_block","modules/clean/account_page/widgets/billing/payment_methods_util"],(function(e,t,a,n,s,i,r,o,l,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleCtaClick=function(e){e.preventDefault(),i.ProEventsLogger.log("de_plan_tab_change_billing_open_modal"),t.props.onCtaClick()},t}return a.__extends(t,e),t.prototype.isBillingScheduleToChange=function(){var e=this.props.subStatus;return!(!e.subState.billingSchedule||!e.finalSubState.billingSchedule)&&e.subState.billingSchedule.id!==e.finalSubState.billingSchedule.id},t.prototype.getBillingStrings=function(e,t){return e===o.ScheduleId.MONTHLY?{ctaText:s.intl.formatMessage({defaultMessage:"Save up to {save_percentage, number, ::percent .##} with yearly billing"},{save_percentage:.17}),subText:s.intl.formatMessage({defaultMessage:"billed monthly"}),billingSummary:s.intl.formatMessage({defaultMessage:"<b>{total}</b> per month"},{b:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.default.createElement("b",null,e)},total:r.Cash.formatWithTaxLabels(t.total,t)})}:{ctaText:s.intl.formatMessage({defaultMessage:"Switch to monthly billing"}),subText:s.intl.formatMessage({defaultMessage:"billed yearly"}),billingSummary:s.intl.formatMessage({defaultMessage:"<b>{total}</b> per month"},{b:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.default.createElement("b",null,e)},total:r.Cash.formatWithTaxLabels(t.total.divide(12),t)})}},t.prototype.render=function(){var e,t=this.props,a=t.subStatus,s=t.paymentInfo;return a.scheduledSubState&&a.subState.plan?d.shouldHideBillingSummary(s.gateway_id,a.subState.plan.productType)||d.shouldHideBillingChange(s.gateway_id,s.is_reseller_billing)?null:(a.currentBillingSummary&&a.subState.billingSchedule&&(e=this.getBillingStrings(a.subState.billingSchedule.id,a.currentBillingSummary)),this.isBillingScheduleToChange()&&a.nextBillingSummary&&a.scheduledSubState&&a.scheduledSubState.plan&&a.scheduledSubState.billingSchedule&&(e=this.getBillingStrings(a.scheduledSubState.billingSchedule.id,a.nextBillingSummary)),e?n.default.createElement(l.KeyValueBlock,{className:"billing-summary-key-value",keyText:e.billingSummary,linkText:e.ctaText,onLinkClick:this.handleCtaClick,subtext:e.subText}):null):null},t})((n=a.__importDefault(n)).default.Component);t.BillingSummary=u})),define("modules/clean/account_page/widgets/plan/views/cancel_changes_modal",["require","exports","tslib","react","modules/clean/ajax","modules/clean/account_page/widgets/plan/constants","modules/clean/account_page/constants","modules/clean/react/modal","modules/clean/analytics","modules/clean/payments/skus/constants","modules/clean/payments/skus/subscription_service","modules/constants/trademark","modules/core/i18n","modules/clean/dbmodal_stack","modules/clean/account_page/util","modules/core/notify","modules/clean/account_page/widgets/plan/views/change_confirmation_modal"],(function(e,t,a,n,s,i,r,o,l,d,u,c,p,m,_,f,g){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),s=a.__importStar(s);var h=(function(e){function t(t){var a=e.call(this,t)||this;return a.onAccept=function(){var e=a.props.cancellationType;a.cancelScheduledChange(e)},a.closeModals=function(){a.props.shouldShowRedesignedModal?a.setState({open:!1}):o.Modal.close()},new u.SubscriptionService,a.state={submitting:!1,open:!0},a}return a.__extends(t,e),t.showInstance=function(e){o.Modal.showInstance(n.default.createElement(t,a.__assign({},e)))},t.prototype.submittingRequest=function(){this.setState((function(e){return a.__assign(a.__assign({},e),{submitting:!0})}))},t.prototype.doneSubmittingRequest=function(){this.setState((function(e){return a.__assign(a.__assign({},e),{submitting:!1})}))},t.prototype.cancelScheduledChange=function(e){var t=this,a=this.props,n=a.transitionPerformed,o=a.subStatus;this.submittingRequest();var u=o.subState.billingSchedule.id===d.ScheduleId.MONTHLY?"monthly":"yearly",c="";o.finalSubState.billingSchedule&&(c=o.finalSubState.billingSchedule.id===d.ScheduleId.MONTHLY?"monthly":"yearly"),s.WebRequest({url:"/account/ajax_cancel_scheduled_change",data:{scheduled_change_type:e},subject_user:_.getCurrentUser().id,success:function(a){f.Notify.success(p.intl.formatMessage({defaultMessage:"You’ve cancelled your change!"})),e===r.CancellationType.SCHEDULE&&(l.ProEventsLogger.log("de_change_billing_cancel_change"),l.ProEventsLogger.log("scheduled_billing_change_prompt_click_confirmed",{cta:"cancel_change_confirm",currentBillingSchedule:u,nextBillingSchedule:c})),e===r.CancellationType.EVH_ADDON&&l.ProEventsLogger.log("de_evh_modal_cancel_change"),e===r.CancellationType.PLAN&&l.ProEventsLogger.log("scheduled_plan_change_prompt_click_confirmed",{cta:"cancel_change_confirm"}),e===r.CancellationType.IND_SUBSCRIPTION&&l.ProEventsLogger.log("scheduled_downgrade_to_basic_prompt_click_confirmed",{cta:"cancel_change_confirm"}),n&&n(),t.doneSubmittingRequest(),t.closeModals(),t.props.reOpenModalDialogAfterCancellation&&m.DBModalStack.trigger(i.CHANGE_IND_PLAN_MODAL_UPDATED,null)},error:function(){f.Notify.error(p.intl.formatMessage({defaultMessage:"Failed to cancel changes."})),t.doneSubmittingRequest(),t.closeModals(),t.props.reOpenModalDialogAfterCancellation&&m.DBModalStack.trigger(i.CHANGE_IND_PLAN_MODAL_UPDATED,null)}})},t.prototype.render=function(){var e,t=this.props,a=t.cancellationType,s=t.subStatus,i=t.shouldShowRedesignedModal,l=this.state,u=l.open,m=l.submitting;if(!s.subState.plan||!s.subState.billingSchedule)return n.default.createElement("noscript",null);var _=p.intl.formatMessage({defaultMessage:"Confirm cancelling change"});switch(a){case r.CancellationType.PLAN:e=s.finalSubState.billingSchedule.id===d.ScheduleId.YEARLY?p.intl.formatMessage({defaultMessage:"You’re cancelling your scheduled plan change. Your Dropbox {plan} plan will renew on <span>{date}</span> and you will be billed yearly."},{trademark_plus:c.TRADEMARK_PLUS,plan:s.subState.plan.displayName(),date:s.subState.formattedNextBillingDate,span:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i?n.default.createElement("strong",null,e):n.default.createElement("span",null,e)}}):p.intl.formatMessage({defaultMessage:"You’re cancelling your scheduled plan change. Your Dropbox {plan} plan will renew on <span>{date}</span> and you will be billed monthly."},{trademark_plus:c.TRADEMARK_PLUS,plan:s.subState.plan.displayName(),date:s.subState.formattedNextBillingDate,span:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i?n.default.createElement("strong",null,e):n.default.createElement("span",null,e)}});break;case r.CancellationType.SCHEDULE:e=s.subState.billingSchedule.id===d.ScheduleId.YEARLY?p.intl.formatMessage({defaultMessage:"You’re cancelling your scheduled billing change. Your Dropbox {plan} plan will renew on <span>{date}</span> and you will be billed yearly."},{plan:s.finalSubState.plan.displayName(),date:s.subState.formattedNextBillingDate,span:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i?n.default.createElement("strong",null,e):n.default.createElement("span",null,e)}}):p.intl.formatMessage({defaultMessage:"You’re cancelling your scheduled billing change. Your Dropbox {plan} plan will renew on <span>{date}</span> and you will be billed monthly."},{plan:s.finalSubState.plan.displayName(),date:s.subState.formattedNextBillingDate,span:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i?n.default.createElement("strong",null,e):n.default.createElement("span",null,e)}});break;case r.CancellationType.EVH_ADDON:e=p.intl.formatMessage({defaultMessage:"You’re cancelling your EVH changes. Your Dropbox {plan} plan will renew on {date} and you will be billed {schedule}."},{plan:s.finalSubState.plan.displayName(),date:s.subState.formattedNextBillingDate,schedule:s.finalSubState.billingSchedule.scheduleDescriptionAdjective});break;case r.CancellationType.IND_SUBSCRIPTION:_=p.intl.formatMessage({defaultMessage:"Confirmation"}),e=p.intl.formatMessage({defaultMessage:"By confirming, your downgrade to Dropbox Basic scheduled change will be cancelled."});break;case r.CancellationType.ALL:_=p.intl.formatMessage({defaultMessage:"Confirmation"}),e=p.intl.formatMessage({defaultMessage:"By confirming, all existing scheduled changes will be cancelled."});break;default:_=p.intl.formatMessage({defaultMessage:"Confirmation"}),e=p.intl.formatMessage({defaultMessage:"By confirming, the scheduled change will be cancelled."})}return i?n.default.createElement(g.ChangeConfirmationModal,{acceptButtonDisabled:m,acceptButtonText:p.intl.formatMessage({defaultMessage:"Confirm"}),dismissButtonText:p.intl.formatMessage({defaultMessage:"Don’t cancel"}),loadingContent:!1,onAccept:this.onAccept,onDismiss:this.closeModals,open:u,text:e,title:_,submitting:m}):n.default.createElement(o.Modal,{acceptButtonDisabled:m,acceptButtonText:p.intl.formatMessage({defaultMessage:"Confirm"}),autoClose:!1,dismissButtonText:p.intl.formatMessage({defaultMessage:"Don’t cancel"}),onAccept:this.onAccept,title:_,id:"cancel-changes-modal",submitting:m},n.default.createElement("p",null,e))},t})(n.default.Component);t.CancelChangesModalConfirmationView=h})),define("modules/clean/account_page/widgets/plan/views/cancel_plan",["require","exports","tslib","react","modules/core/uri","modules/core/i18n","modules/clean/display_format","modules/clean/payments/skus/constants","modules/clean/analytics","modules/clean/payments/skus/sku_content","modules/core/browser","spectrum/button","modules/clean/react/trials/components/shared/types","modules/clean/react/trials/components/shared/logging","modules/clean/account_page/components/key_value_block","modules/clean/stormcrow/experiment","modules/constants/trademark"],(function(e,t,a,n,s,i,r,o,l,d,u,c,p,m,_,f,g){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),u=a.__importStar(u);var h=(function(t){function h(){var n=null!==t&&t.apply(this,arguments)||this;return n.handleCancelPlanClick=function(t){t.preventDefault();var s=n.props.experiments.plusToProTrialVariant;l.ProEventsLogger.log("de_cancel_plan_subscription_click",{},(function(){return a.__awaiter(n,void 0,void 0,(function(){return a.__generator(this,(function(t){switch(t.label){case 0:return"ON"!==s?[3,2]:(m.logClick(p.FlowType.IN_TRIAL,p.ButtonType.CANCEL_PLAN,p.ScreenType.ACCOUNT_PLAN,{},void 0,!0),[4,new Promise((function(t,a){e(["modules/clean/account_page/widgets/plan/views/plus_to_pro_trial/offboarding/cancel_plus_with_pro_trial_info_modal"],t,a)})).then(a.__importStar)]);case 1:return(0,t.sent().showCancelPlusWithProTrialInfoModal)(this.cancelSurveyURL),[2];case 2:return this.props.onClick?this.props.onClick():u.redirect(this.cancelPageURL),[2]}}))}))}))},n}return a.__extends(h,t),Object.defineProperty(h.prototype,"quota",{get:function(){return this.props.usageBreakdown.quota||.01},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"cancelPageURL",{get:function(){return new s.URI({path:"/downgrade",query:{oqa:"acc_cancel"}}).toString()},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"cancelSurveyURL",{get:function(){return new s.URI({path:"/account/plan",query:{modal:"individual_cancel_survey"}}).toString()},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"cancelLink",{get:function(){var e,t=this.props,a=t.onClick,s=t.subStatus,r=(null===(e=null==s?void 0:s.subState.plan)||void 0===e?void 0:e.productType)===o.ProductPlanType.FAMILY_NONPAYER?i.intl.formatMessage({defaultMessage:"Leave plan",description:"Button for user to leave the family plan"}):i.intl.formatMessage({defaultMessage:"Cancel plan",description:"Button for user to cancel their current plan"});return a?n.default.createElement(c.Button,{variant:"secondary",size:"large",onClick:this.handleCancelPlanClick},r):n.default.createElement("a",{href:"#",onClick:this.handleCancelPlanClick},r)},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"cancelHeader",{get:function(){var e,t,a=this.props,n=a.subStatus,s=a.eligibleFor1tb;if(!(null===(e=null==n?void 0:n.subState.plan)||void 0===e?void 0:e.productType))return null;switch(null===(t=null==n?void 0:n.subState.plan)||void 0===t?void 0:t.productType){case o.ProductPlanType.FAMILY_NONPAYER:return i.intl.formatMessage({defaultMessage:"Leave {dropbox_family}",description:"Leave Dropbox Family plan"},{dropbox_family:g.DROPBOX_FAMILY});case o.ProductPlanType.FAMILY_PAYER:return i.intl.formatMessage({defaultMessage:"Cancel {dropbox_family}",description:"Cancel Dropbox Family plan"},{dropbox_family:g.DROPBOX_FAMILY});default:return i.intl.formatMessage({defaultMessage:"Cancel {plan} plan",description:"Cancel plan"},{plan:n.subState.plan.displayName(s)})}},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"cancelDescription",{get:function(){var e,t=this.props,a=t.basicSkuContent,n=t.subStatus;switch(null===(e=null==n?void 0:n.subState.plan)||void 0===e?void 0:e.productType){case o.ProductPlanType.FAMILY_NONPAYER:return i.intl.formatMessage({defaultMessage:"Your account will be downgraded to {dropbox_basic}, and you’ll lose access to {trademark_family} storage and features.",description:"description of what will happen when a user cancels their Dropbox plan"},{dropbox_basic:g.DROPBOX_BASIC,trademark_family:g.TRADEMARK_FAMILY});case o.ProductPlanType.FAMILY_PAYER:return i.intl.formatMessage({defaultMessage:"You and your family members will be downgraded to {dropbox_basic}, and you’ll lose access to the plan’s features.",description:"description of what will happen when a user cancels their Dropbox plan"},{dropbox_basic:g.DROPBOX_BASIC});default:var s=d.SkuContentClient.deserialize(a);return i.intl.formatMessage({defaultMessage:"If you cancel your plan, your account will drop from {quota} to {basic_space_short_form_gb} of space (plus any bonus space earned previously)",description:"description of what will happen when a user cancels their Dropbox plan"},{quota:r.format_bytes(this.quota),basic_space_short_form_gb:s.spaceShortFormGb()})}},enumerable:!0,configurable:!0}),h.prototype.render=function(){var e=this.props,t=e.subStatus,a=e.experiments.expRetentionAccountWayfinding;if(!t||!t.subState.plan||t.subState.plan.productType===o.ProductPlanType.FREE)return n.default.createElement("noscript",null);if(f.Experiment(a).isActive){var s=f.Experiment(a).variantIs("V1")?i.intl.formatMessage({defaultMessage:"Renews <b>{date}</b>",description:"when the users dropbox plan will renew"},{b:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.default.createElement("b",null,e)},date:t.formattedNextBillingDate}):i.intl.formatMessage({defaultMessage:"Renews on {date}",description:"when the users dropbox plan will renew"},{date:t.formattedNextBillingDate});return n.default.createElement(_.KeyValueBlock,{className:"cancel-plan-key-value",keyText:s,linkText:i.intl.formatMessage({defaultMessage:"Cancel plan",description:"Cancel Dropbox plan"}),onLinkClick:this.handleCancelPlanClick})}return n.default.createElement("div",{className:"cancel-plan"},n.default.createElement("span",{className:"cancel-plan__header"},this.cancelHeader),n.default.createElement("div",null,n.default.createElement("p",{className:"cancel-plan__desc"},this.cancelDescription),n.default.createElement("span",{className:"cancel-plan__downgrade-link"},this.cancelLink)))},h})(n.default.Component);t.CancelPlan=h})),define("modules/clean/account_page/widgets/plan/views/cancel_subs_warning_modal",["require","exports","tslib","modules/clean/ajax","modules/clean/react/css","modules/core/notify","react","modules/core/i18n","modules/clean/account_page/util","modules/clean/static_urls","modules/clean/account_page/constants","modules/clean/react/modal","spectrum/button","modules/clean/account_page/widgets/plan/views/change_confirmation_modal"],(function(e,t,a,n,s,i,r,o,l,d,u,c,p,m){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n);var _=(function(e){function t(t){var a=e.call(this,t)||this;return a.closeModals=function(){a.props.shouldShowRedesignedModal?a.setState({open:!1}):c.Modal.close()},a.onDismiss=function(e){e.preventDefault(),a.closeModals()},a.onAccept=function(){a.cancelScheduledChange()},a.state={submitting:!1,open:!0},a}return a.__extends(t,e),t.showInstance=function(e){c.Modal.showInstance(r.default.createElement(t.cancelChangesModalConfirmationView,a.__assign({},e)))},t.prototype.submittingRequest=function(){this.setState((function(e){return a.__assign(a.__assign({},e),{submitting:!0})}))},t.prototype.doneSubmittingRequest=function(){this.setState((function(e){return a.__assign(a.__assign({},e),{submitting:!1})}))},t.prototype.cancelScheduledChange=function(){var e=this,t=this.props,a=t.transitionPerformed,s=t.userIdOverride,r=null;r=s||l.getCurrentUser().id,this.submittingRequest(),n.WebRequest({url:"/account/ajax_cancel_scheduled_change",data:{scheduled_change_type:u.CancellationType.IND_SUBSCRIPTION},subject_user:r,success:function(t){i.Notify.success(o.intl.formatMessage({defaultMessage:"You’ve cancelled your change!"})),a&&a(),e.doneSubmittingRequest(),e.closeModals()},error:function(){i.Notify.error(o.intl.formatMessage({defaultMessage:"Failed to cancel changes."})),e.doneSubmittingRequest(),e.closeModals()}})},t.prototype.render=function(){var e=this.props,t=e.subStatus,a=e.shouldShowRedesignedModal,n=this.state,s=n.submitting,i=n.open;if(!t)return r.default.createElement("noscript",null);var l=r.default.createElement("div",{className:"loading-indicator"},r.default.createElement("img",{src:d.static_url("/static/images/icons/ajax-loading-small-vfl3Wt7C_.gif"),alt:o.intl.formatMessage({defaultMessage:"Loading"})})),u=s?l:r.default.createElement("div",null,r.default.createElement("div",{className:"cancel-subscription-warning-modal__cancel-btn"},r.default.createElement(p.Button,{variant:"primary",onClick:this.onAccept,disabled:s},o.intl.formatMessage({defaultMessage:"Cancel downgrade"}))),r.default.createElement("div",{className:"cancel-subscription-warning-modal__dismiss-btn"},r.default.createElement("a",{href:"#",onClick:this.onDismiss},o.intl.formatMessage({defaultMessage:"Dismiss"})))),_=o.intl.formatMessage({defaultMessage:"Plan downgrade scheduled"}),f=o.intl.formatMessage({defaultMessage:"Your plan is scheduled to be downgraded to Dropbox Basic on <span>{date}</span>. If you want to make any changes, first cancel your scheduled downgrade."},{date:t.subState.formattedNextBillingDate,span:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a?r.default.createElement("strong",null,e):r.default.createElement("span",null,e)}});return a?r.default.createElement(m.ChangeConfirmationModal,{acceptButtonDisabled:s,acceptButtonText:o.intl.formatMessage({defaultMessage:"Cancel downgrade"}),dismissButtonText:o.intl.formatMessage({defaultMessage:"Dismiss"}),loadingContent:!1,onAccept:this.onAccept,onDismiss:this.closeModals,open:i,text:f,title:_,submitting:s}):r.default.createElement(c.Modal,{acceptButtonDisabled:this.state.submitting,autoClose:!1,className:"cancel-subscription-warning-modal",buttonComponent:r.default.createElement(c.ModalButtons,null),submitting:this.state.submitting},r.default.createElement("div",null,r.default.createElement("p",{className:"cancel-subscription-warning-modal__title"},_),r.default.createElement("p",{className:"cancel-subscription-warning-modal__desc"},f),u))},t.cancelChangesModalConfirmationView=s.requireCssWithComponent(t,["/static/css/account/pagelet/cancel_subs_warning-vfl-s2mqh.css"]),t})((r=a.__importDefault(r)).default.Component);t.CancelChangesModalConfirmation=_})),define("modules/clean/account_page/widgets/plan/views/cancellable_notifications_view",["require","exports","tslib","react","react-dom-factories","modules/clean/react/css","modules/core/i18n","modules/clean/account_page/widgets/billing/payment_methods_util","modules/clean/teams/admin/widgets/billing_notifications/cancellable_item","modules/clean/account_page/constants","modules/clean/payments/skus/constants","modules/constants/trademark","modules/clean/account_page/widgets/plan/views/cancel_changes_modal","modules/clean/analytics","modules/clean/stormcrow/experiment","modules/clean/api_v2/user_client","modules/clean/account_page/util","modules/clean/ts_utils"],(function(e,t,a,n,s,i,r,o,l,d,u,c,p,m,_,f,g,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),s=a.__importStar(s);var y=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t.getFamilyPayerScheduledChange=function(){(new f.UserApiV2Client).ns("growth_plans").rpc("get_scheduled_change_family_manager",void 0,{subjectUserId:g.getCurrentUser().id}).then((function(e){t.setState({payerHasScheduledDowngrade:e.has_scheduled_plan_change,payerScheduledChangeDate:e.scheduled_change_date})}))},t.handleCancelSubscriptionAction=function(){t.handleCancelActions(d.CancellationType.IND_SUBSCRIPTION)},t.handleCancelPlanAction=function(){t.shouldLogScheduledProToPlusChange()&&m.ProEventsLogger.log("scheduled_plan_change_prompt_click",{cta:"cancel_change"}),t.handleCancelActions(d.CancellationType.PLAN)},t.handleCancelScheduleAction=function(){t.shouldLogScheduledBillingChange()&&m.ProEventsLogger.log("scheduled_billing_change_prompt_click",{cta:"cancel_change",currentBillingSchedule:t.props.subStatus.subState.billingSchedule.id===u.ScheduleId.MONTHLY?"monthly":"yearly",nextBillingSchedule:t.props.subStatus.scheduledSubState.billingSchedule.id===u.ScheduleId.MONTHLY?"monthly":"yearly"}),t.handleCancelActions(d.CancellationType.SCHEDULE)},t.handleCancelEvhAction=function(){t.handleCancelActions(d.CancellationType.EVH_ADDON)},t.handleCancelActions=function(e){var a=t.props,n=a.subStatus,s=a.transitionPerformed,i=a.reOpenModalDialogAfterCancellation,r=a.shouldShowRedesignedModal;n&&p.CancelChangesModalConfirmationView.showInstance({subStatus:n,transitionPerformed:s,cancellationType:e,reOpenModalDialogAfterCancellation:i,shouldShowRedesignedModal:r})},t}return a.__extends(t,e),t.prototype.componentDidMount=function(){var e,t;(null===(t=null===(e=this.props.subStatus)||void 0===e?void 0:e.subState.plan)||void 0===t?void 0:t.productType)===u.ProductPlanType.FAMILY_NONPAYER&&this.getFamilyPayerScheduledChange(),this.shouldLogScheduledProToPlusChange()&&m.ProEventsLogger.log("scheduled_plan_change_prompt_view"),this.shouldLogScheduledBillingChange()&&m.ProEventsLogger.log("scheduled_billing_change_prompt_view",{currentBillingSchedule:this.props.subStatus.subState.billingSchedule.id===u.ScheduleId.MONTHLY?"monthly":"yearly",nextBillingSchedule:this.props.subStatus.scheduledSubState.billingSchedule.id===u.ScheduleId.MONTHLY?"monthly":"yearly"})},t.prototype.shouldDisplayFamilyPayersScheduledChange=function(){var e,t;return(null===(t=null===(e=this.props.subStatus)||void 0===e?void 0:e.subState.plan)||void 0===t?void 0:t.productType)===u.ProductPlanType.FAMILY_NONPAYER&&!0===this.state.payerHasScheduledDowngrade&&void 0!==this.state.payerScheduledChangeDate},t.prototype.renderCancelSubscriptionNotification=function(){var e=this.props,t=e.subStatus,a=e.scheduledForDowngrade;if(t)return a?n.default.createElement(l.CancellableItemView,{title:r.intl.formatMessage({defaultMessage:"Scheduled plan change"}),description:r.intl.formatMessage({defaultMessage:"Dropbox Basic"}),handleAction:this.handleCancelSubscriptionAction,useCTA:!0}):void 0},t.prototype.shouldRenderDowngradePlanNotif=function(){var e=this.props,t=e.subStatus,a=e.scheduledForDowngrade;if(!t||a)return!1;var n=t.scheduledSubState;if(!n)return!1;var s=t.subState.plan,i=n.plan;return!(!s||!i)&&(s.productType!==i.productType||s.productType===i.productType&&s.productSpec!==i.productSpec)},t.prototype.shouldRenderBillingChangeNotif=function(){var e=this.props,t=e.subStatus,a=e.scheduledForDowngrade;if(!t||a)return!1;var n=t.scheduledSubState;return!!(n&&n.billingSchedule&&t.subState.billingSchedule)&&t.subState.billingSchedule.id!==n.billingSchedule.id},t.prototype.shouldLogScheduledProToPlusChange=function(){if(this.shouldRenderDowngradePlanNotif()){var e=this.props.subStatus.subState.plan,t=this.props.subStatus.scheduledSubState.plan;return e.productType===u.ProductPlanType.PROFESSIONAL&&t.productType===u.ProductPlanType.PLUS}return!1},t.prototype.shouldLogScheduledBillingChange=function(){return this.shouldRenderBillingChangeNotif()},t.prototype.renderDowngradePlanNotification=function(){if(this.shouldRenderDowngradePlanNotif()){var e=this.props.subStatus.scheduledSubState.plan,t=r.intl.formatMessage({defaultMessage:"Dropbox {scheduled_plan}"},{scheduled_plan:e.displayName()});return n.default.createElement(l.CancellableItemView,{title:r.intl.formatMessage({defaultMessage:"Scheduled plan change"}),description:t,handleAction:this.handleCancelPlanAction,useCTA:!0,className:"cancel-plan-schedule"})}},t.prototype.renderFamilyMemberScheduledChange=function(){if(this.shouldDisplayFamilyPayersScheduledChange())return n.default.createElement(l.CancellableItemView,{title:r.intl.formatMessage({defaultMessage:"Your plan will change from {dropbox_family} to {dropbox_basic}",description:"Notification for family member that their plan will downgrade to basic"},{dropbox_family:c.DROPBOX_FAMILY,dropbox_basic:c.DROPBOX_BASIC}),className:"cancel-plan-schedule"})},t.prototype.renderScheduledChange=function(){if(this.shouldRenderBillingChangeNotif()){var e=this.props.subStatus.scheduledSubState.billingSchedule.scheduleDescriptionAdjective;return n.default.createElement(l.CancellableItemView,{title:r.intl.formatMessage({defaultMessage:"Scheduled billing period"}),description:r.intl.formatMessage({defaultMessage:"{billing} billing"},{billing:e.charAt(0).toUpperCase()+e.slice(1)}),handleAction:this.handleCancelScheduleAction,useCTA:!0,className:"cancel-billing-schedule"})}},t.prototype.renderEvhChange=function(){var e=this.props,t=e.subStatus,a=e.scheduledForDowngrade;if(t&&!a){var s=t.scheduledSubState;if(s)return t.subState.addons.skus.length>0&&1===t.subState.quantityForEvhAddOn()&&0===s.quantityForEvhAddOn()?n.default.createElement(l.CancellableItemView,{title:r.intl.formatMessage({defaultMessage:"Scheduled add-on change"}),description:r.intl.formatMessage({defaultMessage:"Remove extended version history"}),handleAction:this.handleCancelEvhAction,useCTA:!0,className:"cancel-evh-schedule"}):void 0}},t.prototype.appendAllCancellationTypes=function(e){e.push(this.renderCancelSubscriptionNotification()),e.push(this.renderDowngradePlanNotification()),e.push(this.renderScheduledChange()),e.push(this.renderEvhChange())},t.prototype.render=function(){var e=this.props,t=e.displaySingleChangeCancellationItem,i=e.scheduledForDowngrade,l=e.subStatus,c=e.paymentInfo,p=e.hasLicenseKey,m=e.displayNewTotal,f=e.expRetentionAccountWayfinding;if(!l)return n.default.createElement("noscript",null);if(!c||o.shouldHideBillingChange(c.gateway_id,c.is_reseller_billing))return n.default.createElement("noscript",null);var g=[];if(!l.finalSubState.plan&&!_.Experiment(f).isActive)return n.default.createElement("noscript",null);if(t)switch(t){case d.CancellationType.IND_SUBSCRIPTION:g.push(this.renderCancelSubscriptionNotification());break;case d.CancellationType.PLAN:g.push(this.renderDowngradePlanNotification());break;case d.CancellationType.SCHEDULE:g.push(this.renderScheduledChange());break;case d.CancellationType.EVH_ADDON:g.push(this.renderEvhChange());break;case d.CancellationType.FAMILY_NONPAYER:g.push(this.renderFamilyMemberScheduledChange());break;case d.CancellationType.ALL:this.appendAllCancellationTypes(g);break;case d.CancellationType.LICENSES:break;default:h.enforceExhaustive(t)}if(!(g=g.filter((function(e){return void 0!==e}))).length)return n.default.createElement("noscript",null);var y="";i||!m||this.shouldDisplayFamilyPayersScheduledChange()||(y=r.intl.formatMessage({defaultMessage:"Your new {schedule} total will be {total}."},{schedule:u.productScheduleToProductScheduleDescription(l.finalSubState.plan.schedule),total:l.nextBillingSummary.total.toString()}));var M=this.shouldDisplayFamilyPayersScheduledChange()?this.state.payerScheduledChangeDate:l.subState.formattedNextBillingDate,b=n.default.createElement("div",{className:"cancellable-scheduled-notifications cancellable-scheduled-notifications__header"},r.intl.formatMessage({defaultMessage:"Changes are scheduled for <strong>{date}</strong>."},{date:M,strong:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s.strong.apply(s,a.__spreadArrays([{}],e))}})," ",y);return n.default.createElement("div",{className:"cancellable-scheduled-notifications personal-cancellable-scheduled-notifications"},b,!p&&n.default.createElement("div",{className:"cancellable-scheduled-notifications cancellable-scheduled-notifications__items"},g))},t})(n.default.Component);t.CancellableNotificationsViewControl=y,t.CancellableNotificationsView=i.requireCssWithComponent(y,["/static/css/teams/admin/widgets/billing_notifications/cancellable_scheduled_notifications-vflm6KwNt.css"])})),define("modules/clean/account_page/widgets/plan/views/change_confirmation_modal",["require","exports","tslib","react","spectrum/modal","dig-components/buttons","modules/core/i18n","modules/clean/bem","modules/clean/static_urls","modules/clean/react/css"],(function(e,t,a,n,s,i,r,o,l,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n);var u=o.bem("change-confirmation-modal"),c=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleAccept=function(){t.props.onAccept()},t.handleDismiss=function(){t.props.onDismiss()},t}return a.__extends(t,e),t.prototype.render=function(){var e,t=this.props,a=t.acceptButtonDisabled,o=t.acceptButtonText,d=t.dismissButtonText,c=t.loadingContent,p=t.open,m=t.renderUpdateLink,_=t.renderVat,f=t.text,g=t.title,h=t.submitting;return e=c?n.default.createElement("div",{className:u("loading-indicator")},n.default.createElement("img",{src:l.static_url("/static/images/icons/ajax-loading-small-vfl3Wt7C_.gif"),alt:r.intl.formatMessage({defaultMessage:"Loading",description:"Alternate text for a loading spinner gif"})})):n.default.createElement("div",{className:u("")},n.default.createElement("div",{className:u("body")},n.default.createElement("div",{className:u("title")},g),n.default.createElement("div",{className:u("vat")}," ",_&&_()),n.default.createElement("div",{className:u("description")},f)),n.default.createElement("div",{className:u("footer")},n.default.createElement("div",{className:u("link")},m),n.default.createElement("div",{className:u("btns-wrapper")},n.default.createElement(i.Button,{className:u("btn-cancel"),variant:"opacity",disabled:h,onClick:this.handleDismiss},d),n.default.createElement(i.Button,{className:u("btn-submit"),variant:"primary",disabled:a,onClick:this.handleAccept},o)))),n.default.createElement(s.Modal,{ariaLabel:r.intl.formatMessage({defaultMessage:"Change Confirmation Modal",description:"Aria label for the change confirmation modal"}),className:"ChangeConfirmationModal",open:p,displayCloseButton:!1,overlayClickClose:!1,onRequestClose:this.handleDismiss,width:560},e)},t})(n.default.Component);t.ChangeConfirmationModal=d.requireCssWithComponent(c,["/static/css/account/pagelet/change_confirmation_modal-vflBDYkV2.css","/static/css/dig-components/index.web-vflAfUkoe.css"])})),define("modules/clean/account_page/widgets/plan/views/change_plan_modal",["require","exports","tslib","modules/core/browser","modules/core/notify","react","modules/clean/ajax","modules/clean/react/css","modules/clean/react/badge","modules/clean/teams/admin/widgets/admin_priced_list/admin_priced_list","modules/clean/teams/admin/widgets/admin_priced_list/admin_priced_list_item","modules/clean/account_page/widgets/plan/constants","modules/constants/individual_invoice_modal","modules/clean/account_page/widgets/plan/views/cancel_changes_modal","modules/clean/payments/validation","modules/clean/account_page/widgets/plan/views/cancellable_notifications_view","modules/clean/account_page/constants","modules/clean/payments/cash","modules/clean/dbmodal_stack","modules/clean/account_page/widgets/plan/views/individual_inline_payment_method","dig-components/typography","modules/clean/react/modal","modules/clean/analytics","modules/clean/payments/skus/constants","modules/clean/payments/skus/subscription_change_plan","modules/clean/payments/skus/subscription_status","modules/core/i18n","modules/clean/account_page/util","modules/clean/static_urls","modules/clean/react/arbor/aspen/elements/arbor_inputs","modules/clean/react/payments/error/browser_update_required_modal","modules/clean/react/payments/update_individual_billing/update_individual_billing_modal_loader","modules/clean/react/payments/update_individual_billing/update_individual_store_creator","modules/clean/account_page/widgets/plan/views/update_billing_info_link","modules/clean/account_page/widgets/plan/views/change_confirmation_modal","modules/clean/stormcrow/experiment","classnames","modules/clean/api_v2/user_client","modules/clean/account_page/widgets/plan/views/montana/common","modules/clean/payments/three_ds_helper","modules/clean/account_page/widgets/billing/payment_method_constants","modules/core/exception","modules/clean/family/constants","modules/core/uri","modules/clean/account_page/widgets/plan/views/disband_family_confirmation_modal","modules/clean/payments/skus/sku_content"],(function(e,t,a,n,s,i,r,o,l,d,u,c,p,m,_,f,g,h,y,M,b,S,v,L,T,w,D,P,C,E,k,Y,N,x,A,I,R,O,B,F,U,j,H,V,W,q){"use strict";var z,G;Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),i=a.__importDefault(i),r=a.__importStar(r),R=a.__importDefault(R),j=a.__importStar(j),(function(e){e.DEFAULT="default",e.CONFIRM="confirm"})(z=t.ChangePlanMode||(t.ChangePlanMode={})),(function(e){e[e.MONTHLY=1]="MONTHLY",e[e.YEARLY=2]="YEARLY",e[e.PLUS=3]="PLUS",e[e.PROFESSIONAL=4]="PROFESSIONAL",e[e.FAMILY_PAYER=7]="FAMILY_PAYER"})(G=t.PerformPlanTransition||(t.PerformPlanTransition={}));var J=(function(e){function t(o){var l=e.call(this,o)||this;return l.onLoadTransitionsError=function(){s.Notify.error(D.intl.formatMessage({defaultMessage:"Failed to load modal.",description:"Failed to load data required for the modal allowing users to change plans"})),l.closeModals()},l.onChangePlanConfirmation=function(){var e,t,a,n,s=l.state,i=s.subStatus,r=s.basicSkuQuotaGb,o=l.getSubChangePlan();(null===(t=null===(e=null==i?void 0:i.subState)||void 0===e?void 0:e.plan)||void 0===t?void 0:t.productType)===L.ProductPlanType.FAMILY_PAYER&&(null===(n=null===(a=null==o?void 0:o.finalSubState)||void 0===a?void 0:a.plan)||void 0===n?void 0:n.productType)!==L.ProductPlanType.FAMILY_PAYER&&r?W.showDisbandModal({confirmChangePlan:l.onAccept,basicSkuQuotaGb:r}):l.onAccept()},l.onAccept=function(){var e,t,i=l.getSubChangePlan();if(i){var o;switch(i.subState.planSku.productType){case L.ProductPlanType.PLUS:t=G.PLUS;break;case L.ProductPlanType.PROFESSIONAL:t=G.PROFESSIONAL;break;case L.ProductPlanType.FAMILY_PAYER:t=G.FAMILY_PAYER}switch(i.finalSubState.planSku.productType){case L.ProductPlanType.PLUS:case L.ProductPlanType.STANDARD:o={radio:"plus"},e=G.PLUS;break;case L.ProductPlanType.PROFESSIONAL:o={radio:"professional"},e=G.PROFESSIONAL;break;case L.ProductPlanType.FAMILY_PAYER:o={radio:"family_payer"},e=G.FAMILY_PAYER}l.setState((function(e){return{showErrors:!0}}));var d=l.state,u=d.vat,c=d.paymentMethod,p=d.threeDsData,m=d.handle3DsMessage;if(c&&c.country_code&&l.vatValidator(c.country_code,u))if(e&&t)if(l.setState((function(e){return{submitting:!0}})),I.Experiment(l.props.expMontana).isActive&&l.props.shouldApplyMontanaRetentionPolicy&&e===G.PLUS&&t===G.PROFESSIONAL&&B.MontanaLogger.logEvent("cancel_click",a.__assign({featureType:"change_plan",cta:"confirm_change"},o)),I.Experiment(l.props.expMontana).isActive&&l.props.shouldApplyMontanaRetentionPolicy&&i.subState.billingSchedule.id===L.ScheduleId.YEARLY&&e===G.PLUS&&t===G.PROFESSIONAL){var _=(new O.UserApiV2Client).ns("retention_policy").rpc("get_retention_policies_for_user",void 0,{subjectUserId:P.getCurrentUser().id}),f=function(){s.Notify.error(D.intl.formatMessage({defaultMessage:"There was an issue, please contact Customer Support.",description:"There was an internal error we dont want to explain to the user"})),l.setState((function(e){return{submitting:!1}}))};_.then((function(t){var a=t.available_policies;if(a&&a.length){for(var r=-1,o=0;o<a.length;o++)if(2===a[o].policy_id){r=o;break}if(-1!==r)(new O.UserApiV2Client).ns("retention_policy").rpc("apply_retention_policy_for_user",{policy_id:2,expected_price:JSON.parse(a[r].serialized_subscription_change_plan).tvm.expected_price},{subjectUserId:P.getCurrentUser().id}).then((function(t){if(s.Notify.success(D.intl.formatMessage({defaultMessage:"You’ve changed your plan, and will be refunded the difference!",description:"Shown when users changed their plan"})),l.removeShowModalParams(),l.logChangePlan(e),l.props.transitionPerformed&&l.props.transitionPerformed(),i.finalSubState.planSku.productType===L.ProductPlanType.PROFESSIONAL)return n.redirect("/professional_onboarding");l.closeModals(),n.reload()}),(function(e){f()}));else f()}else f()}),(function(e){f()}))}else{v.ProEventsLogger.log("de_change_plan_modal_confirm_change_click");var g={transition_change_type:e,browser_info:F.collectBrowserInfo(),three_ds_data:p};u&&(g.vat=u,v.ProEventsLogger.log("vat_provided_on_upgrade")),r.WebRequest({url:"/account/perform_personal_transition",data:g,subject_user:l.getUserId(),success:function(t){var a=JSON.parse(t);if(a.redirect)return n.redirect(a.redirect);if(s.Notify.success(D.intl.formatMessage({defaultMessage:"You’ve changed your plan!",description:"Shown when user changed their plan"})),l.removeShowModalParams(),l.logChangePlan(e),l.props.transitionPerformed&&l.props.transitionPerformed(),i.finalSubState.planSku.productType===L.ProductPlanType.PROFESSIONAL)return n.redirect("/professional_onboarding");if(i.finalSubState.planSku.productType===L.ProductPlanType.FAMILY_PAYER){var r=V.URI.parse(H.FAMILY_MANAGEMENT_URI_PATH).setQuery({invite_member:"true"}).toString();return n.redirect(r)}l.closeModals()},error:function(e,t,a){l.setState((function(e){return{submitting:!1}}));var n=!1,i=null;try{i=JSON.parse(a)}catch(e){}finally{m&&i&&(n=!0,m(i))}n||s.Notify.error(D.intl.formatMessage({defaultMessage:"There was an error changing the plan!",description:"We couldnt change the users plan. We dont want to explain the error."}))}}),l.updateThreeDsData("")}else s.Notify.error(D.intl.formatMessage({defaultMessage:"There was an error changing the plan!",description:"We couldnt change the users plan. We dont want to explain the error."}))}},l.updateThreeDsData=function(e){l.setState({threeDsData:e})},l.onDismiss=function(){var e=l.props,t=e.expMontana,a=e.shouldApplyMontanaRetentionPolicy,n=e.shouldShowRedesignedModal;I.Experiment(t).isActive&&a?B.MontanaLogger.logEvent("cancel_dismiss",{featureType:"change_plan"}):v.ProEventsLogger.log("de_change_plan_modal_cancel_click"),n&&l.setState({open:!1})},l.closeModals=function(){var e=l.props.shouldShowRedesignedModal;S.Modal.close(),e&&l.setState({open:!1})},l.renderVat=function(){var e=null;if(!l.vatDisplayEnabled)return e;var t=l.state,a=t.vat,n=t.paymentMethod,s=t.showErrors,r=n&&n.country_code?n.country_code:void 0;if(r){var o=_.getVatPrefix(r),d=D.intl.formatMessage({defaultMessage:"Please enter a valid VAT number, e.g. {examples}.",description:"Prompt for users to enter a valid VAT number"},{examples:_.getVatExamples(r).join(", ")});e=i.default.createElement(E.ArborTextInput,{name:"vat",placeholderText:o,labelText:D.intl.formatMessage({defaultMessage:"VAT number (optional)",description:"This prompts users to enter a VAT number"}),isValid:!s||l.vatValidator(r,a),errorText:d,value:a,onChange:l.onVatChange})}return e},l.onVatChange=function(e,t,a){var n=a;l.setState((function(e){return{vat:n,loadingChangeSummary:!0,showErrors:!1}}));var s=l.state.paymentMethod;s&&s.country_code&&l.repriceTransitions(_.validateVat(s.country_code,n)?n:"")},l.renderPaymentMethod=function(){var e=l.state.paymentMethod;if(!l.isPlanScheduledToChange())return i.default.createElement("div",{className:"upgrade-payment-method-link"},i.default.createElement(M.IndividualInlinePaymentMethodView,{paymentMethod:e,paymentErrorMessage:D.intl.formatMessage({defaultMessage:"Please update your billing information to change your plan.",description:"User does not have a valid payment method"}),renderUpdateLink:i.default.createElement(x.UpdateBillingInfo,{updateBillingCTA:l.updateBillingInfo})}))},l.updateBillingInfo=function(e){e.stopPropagation(),e.preventDefault(),I.Experiment(l.props.expMontana).isActive&&l.props.shouldApplyMontanaRetentionPolicy?B.MontanaLogger.logEvent("cancel_click",{featureType:"change_plan",cta:"update_billing_information"}):v.ProEventsLogger.log("de_update_billing_info_click"),S.Modal.close(),y.DBModalStack.register(N.BILLING_INFO_UPDATED,(function(){t.showInstance(l.props)})),l.props.browserUpdateRequired?k.BrowserUpdateModalLoader.showInstance():Y.IndividualUpdateBillingModalLoader.showInstance()},l.handleCancelScheduleAction=function(e){l.handleCancelActions(g.CancellationType.SCHEDULE),e.preventDefault()},l.handleCancelPlanAction=function(e){e.preventDefault(),l.handleCancelActions(g.CancellationType.PLAN)},l.handleCancelActions=function(e){var t=l.state.subStatus,a=l.props,n=a.transitionPerformed,s=a.shouldShowRedesignedModal;return t&&m.CancelChangesModalConfirmationView.showInstance({subStatus:t,transitionPerformed:n,cancellationType:e,reOpenModalDialogAfterCancellation:!s,shouldShowRedesignedModal:s}),!1},l.transitionPerformedClosure=function(e){if(l.props.transitionPerformed)return l.props.transitionPerformed()},l.state={loadingContent:!0,schedule:L.ScheduleId.MONTHLY,subChangePlans:[],submitting:!1,type:L.ProductPlanType.STANDARD,showErrors:!1,vat:"",loadingChangeSummary:!1,open:!0},l}return a.__extends(t,e),t.prototype.getUrlOption=function(e){var t=e,a=n.get_href().match(/option=([a-zA-Z_]*)/);if(a&&a.length>1){var s=a[1];"plus"===s&&(t=e===L.ProductPlanType.PROFESSIONAL?L.ProductPlanType.PLUS:e),"pro"===s&&(t=L.ProductPlanType.PROFESSIONAL)}return t},t.showInstance=function(e){S.Modal.showInstance(i.default.createElement(t.ChangePlanModal,a.__assign({},e)))},t.prototype.componentDidMount=function(){this.loadPlanTransitions()},t.prototype.onLoadPlanTransitions=function(e){var t=this;this.setState((function(a){var n,s=w.SubscriptionStatus.deserialize(e.serializedSubStatus),i=e.paymentMethod;i.gateway_id===U.BRAINTREE&&(n=new F.ThreeDsHandler({updateThreeDsData:t.updateThreeDsData,submitThreeDsChallenge:t.onAccept,triggerThreeDsChallenge:function(){},submitThreeDsFingerprint:t.onAccept,triggerThreeDsFingerprint:function(){},isDesktop:!1,isSeleniumChangesTest:!1}).handle3DsMessage);var r=s.finalSubState;if(!r.billingSchedule||!r.plan)throw"A base plan is required, in order to change it.";var o=s.subState.billingSchedule.id,l=e.serializedSubChangePlans.map((function(e){return T.SubscriptionChangePlan.deserialize(e)})),d=l.map((function(e){return e}));d.push(s);var u=t.getUrlOption(s.subState.plan.productType),c=e.is_montana_plan||!1;if(!B.MontanaLogger.isInitialized()&&I.Experiment(t.props.expMontana).isActive){var p={billingScheduleId:o,planType:s.subState.plan.productType};B.MontanaLogger.initialize(p)}t.props.shouldShowRedesignedModal&&(u=s.subState.planSku.productType===L.ProductPlanType.PLUS||s.subState.planSku.productType===L.ProductPlanType.STANDARD?L.ProductPlanType.PROFESSIONAL:L.ProductPlanType.PLUS);return{loadingContent:!1,subStatus:s,paymentMethod:i,schedule:o,subChangePlans:l,allSubStatuses:d,type:u,isMontanaPlan:c,handle3DsMessage:n,basicSkuQuotaGb:q.SkuContentClient.deserialize(e.basicSkuContent).spaceShortFormGb()}}))},t.prototype.loadPlanTransitions=function(){var e=this;this.retrieveViewModel((function(t){e.onLoadPlanTransitions(t)}),this.onLoadTransitionsError)},t.prototype.onRepriceTransitions=function(e){this.setState((function(t){var a=w.SubscriptionStatus.deserialize(e.serializedSubStatus),n=e.serializedSubChangePlans.map((function(e){return T.SubscriptionChangePlan.deserialize(e)})),s=n.map((function(e){return e}));s.push(a);return{subStatus:a,subChangePlans:n,allSubStatuses:s,loadingChangeSummary:!1,basicSkuQuotaGb:q.SkuContentClient.deserialize(e.basicSkuContent).spaceShortFormGb()}}))},t.prototype.onRepriceError=function(){s.Notify.error(D.intl.formatMessage({defaultMessage:"Request failed",description:"Request failed. Upon showing users this text, the change plan modal will close."})),this.closeModals()},t.prototype.repriceTransitions=function(e){var t=this;this.retrieveViewModel((function(e){t.onRepriceTransitions(e)}),this.onRepriceError,e)},t.prototype.getUserId=function(){return this.props.userIdOverride?this.props.userIdOverride:P.getCurrentUser().id},t.prototype.retrieveViewModel=function(e,t,a){var n=this,s=this.state,i=s.withVat,o=s.withoutVat,l=a?{vat:a}:void 0,d=a?i:o;d?e(d):r.WebRequest({url:"/account/ajax_change_plan",data:l,subject_user:this.getUserId(),success:function(t){var s=JSON.parse(t);n.setState((function(e){return a?{withVat:s}:{withoutVat:s}})),e(s)},error:t})},t.prototype.getSubChangePlan=function(e){return void 0===e&&(e=this.state.type),this.state.subChangePlans.filter((function(t){var a=t.finalSubState;return!(!a.plan||!a.billingSchedule)&&a.plan.productType===e})).pop()},Object.defineProperty(t.prototype,"hasTypeChanged",{get:function(){var e=this.state.subStatus;return e&&e.finalSubState.plan&&e.finalSubState.plan.productType!==this.state.type},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasCurrentPlanChanged",{get:function(){return this.hasTypeChanged},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subStatusScheduleId",{get:function(){var e=this.state.subStatus;return e&&e.finalSubState.billingSchedule?e.finalSubState.billingSchedule.id:L.ScheduleId.MONTHLY},enumerable:!0,configurable:!0}),t.prototype.logChangePlan=function(e){var t=this.state.subStatus;if(t&&t.subState.billingSchedule)switch(e){case G.PROFESSIONAL:return v.ProEventsLogger.log("de_change_plan_modal_change_plan_to_pro");case G.FAMILY_PAYER:return v.ProEventsLogger.log("de_change_plan_modal_change_plan_to_family_payer");case G.PLUS:v.ProEventsLogger.log("de_change_plan_modal_change_plan_to_plus");break;default:j.reportException({err:new Error("Unexpected plan transition: "+e),severity:"non-critical"})}},t.prototype.removeShowModalParams=function(){var e=n.get_href().match(/modal=([a-zA-Z_]*)/);e&&e.length>1&&("plan"===e[1]&&window.history.replaceState({},document.title,n.get_href().split("?")[0]))},t.prototype.changeProductPlanAndScheduleType=function(e,t){switch(e){case L.ProductPlanType.PROFESSIONAL:v.ProEventsLogger.log("de_change_plan_modal_professional_section_click");break;case L.ProductPlanType.FAMILY_PAYER:v.ProEventsLogger.log("de_change_plan_modal_family_payer_section_click");break;case L.ProductPlanType.PLUS:v.ProEventsLogger.log("de_change_plan_modal_plus_section_click");break;default:j.reportException({err:new Error("Unexpected ProductPlanType: "+e),severity:"non-critical"})}this.setState((function(a){return{type:e,schedule:t}}))},t.prototype.getPlanDescription=function(e){var t=e.content&&e.content.spaceShortFormTb(),a=this.state.isMontanaPlan;switch(e.productType){case L.ProductPlanType.STANDARD:case L.ProductPlanType.PLUS:return t?a?D.intl.formatMessage({defaultMessage:"Smart Sync, stress-free sharing, offline folders on mobile, and {plan_space} storage.",description:"Features of Dropbox Plus plan"},{plan_space:t}):D.intl.formatMessage({defaultMessage:"Stress-free sharing, offline folders on mobile, and {plan_space} storage.",description:"Features of Dropbox Plus plan"},{plan_space:t}):a?D.intl.formatMessage({defaultMessage:"Smart Sync, stress-free sharing, offline folders on mobile.",description:"Features of Dropbox Plus plan"}):D.intl.formatMessage({defaultMessage:"Stress-free sharing and offline folders on mobile.",description:"Features of Dropbox Plus plan"});case L.ProductPlanType.PROFESSIONAL:return t?a?D.intl.formatMessage({defaultMessage:"Everything in Plus, with Showcase, shared link controls, and {plan_space} storage.",description:"Features of Dropbox Professional plan"},{plan_space:t}):D.intl.formatMessage({defaultMessage:"Smart Sync, Showcase, shared link controls, and {plan_space} storage.",description:"Features of Dropbox Professional plan"},{plan_space:t}):a?D.intl.formatMessage({defaultMessage:"Everything in Plus, with Showcase, shared link controls.",description:"Features of Dropbox Professional plan"},{plan_space:t}):D.intl.formatMessage({defaultMessage:"Smart Sync, Showcase, and shared link controls.",description:"Features of Dropbox Professional plan"});case L.ProductPlanType.FAMILY_PAYER:return D.intl.formatMessage({defaultMessage:"{count, plural, one{Up to {count} member, easy family sharing, and {plan_space} storage.} other{Up to {count} members, easy family sharing, and {plan_space} storage.}}",description:"Features of Dropbox Family plan"},{count:H.MAX_LICENSES,plan_space:t})}return""},t.prototype.changeProductPlanAndScheduleTypeClosure=function(e,t){var a=this;return function(){a.changeProductPlanAndScheduleType(e,t)}},t.prototype.renderPlanItems=function(){var e=this,t=this.state,a=t.type,n=t.allSubStatuses,s=t.subStatus,r=[L.ProductPlanType.STANDARD,L.ProductPlanType.PLUS,L.ProductPlanType.PROFESSIONAL,L.ProductPlanType.FAMILY_PAYER];if(n&&s)return n.filter((function(e){return!!(e.finalSubState.plan&&s.subState.plan&&s.finalSubState.plan&&s.subState.planSku&&s.finalSubState.planSku&&s.subState.billingSchedule&&e.finalSubState.billingSchedule)})).sort((function(e,t){return e.finalSubState.plan&&t.finalSubState.plan?r.indexOf(e.finalSubState.plan.productType)-r.indexOf(t.finalSubState.plan.productType):0})).map((function(t){var n=t.finalSubState.plan,r=t.finalSubState.billingSchedule;if(n&&r&&!(s&&s.subState&&s.subState.plan&&s.subState.plan.isLegacyPlan&&n.isAdvancePlan)&&s.scheduledSubState&&s.scheduledSubState.billingSchedule&&t&&t.subState.billingSchedule&&t.finalSubState.plan&&t.finalSubState.billingSchedule&&s.subState.billingSchedule&&s.subState.plan){var o,d,c=!1,p=s.isOnTrial?s.finalSubState.plan:s.subState.plan;p&&n.productType===p.productType&&(o=D.intl.formatMessage({defaultMessage:"(current plan)",description:"This text is appended to the users current plan option e.g. Dropbox Plus"}),c=!0),n.productType!==L.ProductPlanType.FAMILY_PAYER&&(d=i.default.createElement("span",null,i.default.createElement("br",null),i.default.createElement("a",{href:"/plans",target:"_blank",rel:"noreferrer noopener"},D.intl.formatMessage({defaultMessage:"See plan details",description:"This is a link redirecting to a page listing all Dropbox plans"}))));var m=D.intl.formatMessage({defaultMessage:"Dropbox {plan_name}",description:"e.g. Dropbox Plus"},{plan_name:n.displayName()}),_=void 0;e.props.mode===z.CONFIRM&&n.productType===L.ProductPlanType.PROFESSIONAL?_={variant:l.BadgeVariant.NEW,color:l.BadgeColor.NEON_GREEN}:n.productType===L.ProductPlanType.FAMILY_PAYER&&(_={variant:l.BadgeVariant.BETA,color:l.BadgeColor.NEON_GREEN});var f=p&&n.productType===p.productType?e.getPlanDescription(p):e.getPlanDescription(n);return i.default.createElement(u.AdminPricedListItem,{className:"test-plan-item-"+n.productType+" "+(c?"test-current-plan-item":""),key:n.code,isSelected:a===n.productType,title:m,titleWarningText:void 0,titleSecondaryText:o,description:f,detailsLink:d,price:n.displayCost,unit:n.billingSchedule.id===L.ScheduleId.MONTHLY?D.intl.formatMessage({defaultMessage:"per month",description:"appended to the price of a Dropbox plan"}):D.intl.formatMessage({defaultMessage:"per year",description:"appended to the price of a Dropbox plan"}),onClick:e.changeProductPlanAndScheduleTypeClosure(n.productType,r.id),disableItem:e.isPlanScheduledToChange(),badge:_})}}))},t.prototype.renderBillingSection=function(){return i.default.createElement("div",null,i.default.createElement(d.AdminPricedList,null,this.renderPlanItems()),this.renderVat())},t.prototype.vatValidator=function(e,t){return!t||_.validateVat(e,t)},t.prototype.isScheduledToChange=function(){return this.isPlanScheduledToChange()||this.isBillingScheduleToChange()||this.isEvhScheduledToChange()},t.prototype.isEvhScheduledToChange=function(){var e=this.state.subStatus;return!(!e||!e.scheduledSubState)&&e.subState.quantityForEvhAddOn()!==e.scheduledSubState.quantityForEvhAddOn()},t.prototype.isPlanScheduledToChange=function(){var e=this.state.subStatus;return!!(e&&e.subState.plan&&e.finalSubState.plan)&&e.subState.plan.productType!==e.finalSubState.plan.productType},t.prototype.isBillingScheduleToChange=function(){var e=this.state.subStatus;return!!(e&&e.subState.billingSchedule&&e.finalSubState.billingSchedule)&&e.subState.billingSchedule.id!==e.finalSubState.billingSchedule.id},t.prototype.getPlanNameWithEvhText=function(e){var t=this.state.subStatus;return t&&t.scheduledSubState&&t.scheduledSubState.quantityForEvhAddOn()>0?e+" "+D.intl.formatMessage({defaultMessage:"+ extended version history",description:"Text is appended to a plan name. e.g. Dropbox Plus"}):e},t.prototype.renderScheduleTransitionText=function(){var e=this.state.subStatus,t=this.getSubChangePlan();if(e&&e.subState.plan){var a=i.default.createElement("a",{href:"#",onClick:this.handleCancelScheduleAction},D.intl.formatMessage({defaultMessage:"Cancel change",description:"Cancel change scheduled in the future"})),n=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.default.createElement("a",{"aria-label":D.intl.formatMessage({defaultMessage:"CancelLink",description:"an aria label"}),href:"#",onClick:P.logClickAndRedirect("de_cancel_link_click","/help/billing/cancel-dropbox-plus",{from:"change_plan_modal"})},e)},s=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.default.createElement("a",{"aria-label":D.intl.formatMessage({defaultMessage:"LegalLink",description:"an aria label"}),href:"#",onClick:P.logClickAndRedirect("de_legal_link_click","/help/billing/plus-refund",{from:"change_plan_modal"})},e)};if(this.isPlanScheduledToChange())return i.default.createElement("span",{className:"plan-transition"},D.intl.formatMessage({defaultMessage:"You’ve already requested a change to your plan. If you want to choose a different plan or billing period, first cancel your pending change.",description:"Disallow multiple changes to a users plan."})," ",a);if((!t||e.subState.planSku.productType===t.finalSubState.planSku.productType)&&e.subState.billingSchedule&&e.currentBillingSummary){if(!this.isScheduledToChange())return i.default.createElement("span",{className:"plan-transition"},D.intl.formatMessage({defaultMessage:"Your Dropbox {plan} plan will renew on {date}. Your current {schedule} total is {recurring_total}.",description:"A summary detailing the changes to a users plan and billing"},{plan:this.getPlanNameWithEvhText(e.subState.plan.displayName()),schedule:e.subState.billingSchedule.scheduleDescriptionAdjective,recurring_total:h.Cash.formatWithTaxLabels(e.currentBillingSummary.total,e.currentBillingSummary),date:e.subState.formattedNextBillingDate}));if(e.scheduledSubState&&e.scheduledSubState.plan)return i.default.createElement("div",null,i.default.createElement("span",{className:"change-summary"},D.intl.formatMessage({defaultMessage:"Change summary",description:"Header for a summary detailing the changes to a users plan and billing"})),i.default.createElement("p",{className:"plan-transition"},D.intl.formatMessage({defaultMessage:"Starting on {date}, we’ll bill you once a {schedule_noun} for your Dropbox {plan}. Your new {schedule} total will be {scheduled_total}.",description:"A summary detailing the changes to a users plan and billing"},{plan:this.getPlanNameWithEvhText(e.scheduledSubState.plan.displayName()),date:e.subState.formattedNextBillingDate,schedule:e.scheduledSubState.billingSchedule.scheduleDescriptionAdjective,schedule_noun:e.scheduledSubState.billingSchedule.scheduleDescriptionNoun,scheduled_total:h.Cash.formatWithTaxLabels(e.nextBillingSummary.total,e.nextBillingSummary),strong:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.default.createElement("strong",null,e)}})))}if(t&&t.finalSubState.plan){var r=void 0!==t.tvm;if(t&&t.tvm&&r)return i.default.createElement("div",null,i.default.createElement("span",{className:"change-summary"},D.intl.formatMessage({defaultMessage:"Change summary",description:"Header for a summary detailing the changes to a users plan and billing"})),i.default.createElement("p",{className:"plan-transition"},D.intl.formatMessage({defaultMessage:"You’re upgrading your plan to Dropbox {plan}. <strong>We’ll charge you {prorated_price} now</strong>, which is prorated for the current billing period. Starting on {date} and until you <cancelLink>cancel</cancelLink>, we’ll bill you once a {schedule_noun} and your new {schedule} total will be {scheduled_total}. If you cancel, previous charges won’t be refunded <legalLink>unless it’s legally required</legalLink>.",description:"A summary detailing the changes to a users plan and billing"},{plan:this.getPlanNameWithEvhText(t.finalSubState.plan.displayName()),prorated_price:h.Cash.formatWithTaxLabels(t.tvm.getTotalPrice(),t.nextBillingSummary),date:t.subState.formattedNextBillingDate,schedule_noun:t.finalSubState.billingSchedule.scheduleDescriptionNoun,schedule:t.finalSubState.billingSchedule.scheduleDescriptionAdjective,scheduled_total:h.Cash.formatWithTaxLabels(t.nextBillingSummary.total,t.nextBillingSummary),strong:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.default.createElement("strong",null,e)},cancelLink:n,legalLink:s})));if(!r){var o=D.intl.formatMessage({defaultMessage:"Starting on {date}, your plan will be downgraded to Dropbox {plan} and your new {schedule} total will be {scheduled_total}. Charges will continue until you <cancelLink>cancel</cancelLink>, and previous charges won’t be refunded <legalLink>unless it’s legally required</legalLink>.",description:"A summary detailing the changes to a users plan and billing"},{plan:this.getPlanNameWithEvhText(t.finalSubState.plan.displayName()),date:e.subState.formattedNextBillingDate,schedule:t.finalSubState.billingSchedule.scheduleDescriptionAdjective,scheduled_total:h.Cash.formatWithTaxLabels(t.nextBillingSummary.total,t.nextBillingSummary),strong:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.default.createElement("strong",null,e)},cancelLink:n,legalLink:s});return I.Experiment(this.props.expMontana).isActive&&this.props.shouldApplyMontanaRetentionPolicy&&(o=D.intl.formatMessage({defaultMessage:"Starting as soon as you confirm below, your plan will be downgraded to Dropbox {plan} and your new {schedule} total will be {scheduled_total}. Charges will continue until you <cancelLink>cancel</cancelLink>, and previous charges won’t be refunded <legalLink>unless it’s legally required</legalLink>.",description:"A summary detailing the changes to a users plan and billing"},{plan:this.getPlanNameWithEvhText(t.finalSubState.plan.displayName()),schedule:t.finalSubState.billingSchedule.scheduleDescriptionAdjective,scheduled_total:h.Cash.formatWithTaxLabels(t.nextBillingSummary.total,t.nextBillingSummary),strong:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.default.createElement("strong",null,e)},cancelLink:n,legalLink:s})),i.default.createElement("div",null,i.default.createElement("span",{className:"change-summary"},D.intl.formatMessage({defaultMessage:"Change summary",description:"Header for a summary detailing the changes to a users plan and billing"})),i.default.createElement("p",{className:"plan-transition"},o))}}}},t.prototype.renderChangeFooter=function(){var e;return this.state.loadingChangeSummary?i.default.createElement("div",{className:"loading-indicator"},i.default.createElement("img",{src:C.static_url("/static/images/icons/ajax-loading-small-vfl3Wt7C_.gif"),alt:D.intl.formatMessage({defaultMessage:"Loading",description:"Loading summary of changes to a users plan"})})):(this.isPlanScheduledToChange()||(e=this.renderPaymentMethod()),i.default.createElement("div",{className:"plan-footer u-font-meta"},this.renderScheduleTransitionText(),e))},Object.defineProperty(t.prototype,"acceptButtonDisabled",{get:function(){var e=this.state.paymentMethod,t=this.state,a=t.loadingContent,n=t.loadingChangeSummary,s=t.submitting;return!(!(a||n||s)&&e)||!this.hasUserSelectedDifferentPlan()},enumerable:!0,configurable:!0}),t.prototype.isValidVatCountry=function(){var e=this.state.paymentMethod;return e&&e.country_code&&_.hasVat(e.country_code)},t.prototype.isUserOnPlus=function(){var e=this.state.subStatus;return e&&e.subState&&e.subState.plan&&e.subState.plan.productType===L.ProductPlanType.PLUS},t.prototype.hasUserSelectedDifferentPlan=function(){return!this.isPlanScheduledToChange()&&this.hasTypeChanged},Object.defineProperty(t.prototype,"vatDisplayEnabled",{get:function(){var e=this.state,t=e.loadingContent,a=e.submitting;return p.INDIVIDUAL_INVOICE_MODAL&&!t&&!a&&this.isValidVatCountry()&&this.isUserOnPlus()&&this.hasUserSelectedDifferentPlan()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"changesSummaryContent",{get:function(){var e=this,t=this.state,n=t.subStatus,s=t.paymentMethod,r=this.getSubChangePlan();if(n&&n.subState.plan){var o="change-confirmation-modal__link";if(n.subState.plan.productType!==n.finalSubState.plan.productType)return D.intl.formatMessage({defaultMessage:"You’ve already requested a change to your plan. If you want to choose a different plan, first cancel your pending change. <cancelChangeLink>Cancel change</cancelChangeLink>",description:"Disallow multiple changes to a users plan"},{cancelChangeLink:function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];return i.default.createElement(b.Link,{href:"#","aria-label":D.intl.formatMessage({defaultMessage:"Cancel change",description:"Cancel change. this is just an aria label"}),className:o,onClick:e.handleCancelPlanAction,variant:"primary",hasNoUnderline:!0},t)}});var l={br:i.default.createElement("br",null),strong:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.default.createElement("strong",null,e)},cancelLink:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.default.createElement(b.Link,{href:"#","aria-label":D.intl.formatMessage({defaultMessage:"Cancel link",description:"Link to cancel plan. this is just an aria label"}),className:o,onClick:P.logClickAndRedirect("de_cancel_link_click","/help/billing/cancel-dropbox-plus",{from:"change_plan_modal"}),variant:"primary",hasNoUnderline:!0},e)},legalLink:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.default.createElement(b.Link,{href:"#","aria-label":D.intl.formatMessage({defaultMessage:"Legal link",description:"Link about Dropbox refunding users for a plan. this is just an aria label"}),className:o,onClick:P.logClickAndRedirect("de_legal_link_click","/help/billing/plus-refund",{from:"change_plan_modal"}),variant:"primary",hasNoUnderline:!0},e)}};return r&&r.tvm?D.intl.formatMessage({defaultMessage:"We’ll charge you <strong>{prorated_price}</strong> now, which is prorated for the current billing period.{br}{br}{IndividualInlinePaymentMethodView}{br}{br}Charges will continue until you <cancelLink>cancel</cancelLink>, and previous charges won’t be refunded <legalLink>unless it’s legally required</legalLink>.",description:"A summary detailing the changes to a users plan and billing"},a.__assign(a.__assign({prorated_price:h.Cash.formatWithTaxLabels(r.tvm.getTotalPrice(),r.nextBillingSummary)},l),{IndividualInlinePaymentMethodView:i.default.createElement(M.IndividualInlinePaymentMethodView,{paymentMethod:s,renderUpdateLink:i.default.createElement(x.UpdateBillingInfo,{updateBillingCTA:this.updateBillingInfo}),isRedesignedModal:!0,nextBillingDate:r.subState.formattedNextBillingDate,scheduleId:r.finalSubState.billingSchedule.id,totalPrice:h.Cash.formatWithTaxLabels(r.nextBillingSummary.total,r.nextBillingSummary)})})):D.intl.formatMessage({defaultMessage:"{IndividualInlinePaymentMethodView}{br}{br}Charges will continue until you <cancelLink>cancel</cancelLink>, and previous charges won’t be refunded <legalLink>unless it’s legally required</legalLink>.",description:"A summary detailing the changes to a users plan and billing"},a.__assign(a.__assign({},l),{IndividualInlinePaymentMethodView:i.default.createElement(M.IndividualInlinePaymentMethodView,{paymentMethod:s,renderUpdateLink:i.default.createElement(x.UpdateBillingInfo,{updateBillingCTA:this.updateBillingInfo}),isRedesignedModal:!0,nextBillingDate:n.subState.formattedNextBillingDate,scheduleId:r.finalSubState.billingSchedule.id,totalPrice:h.Cash.formatWithTaxLabels(r.nextBillingSummary.total,r.nextBillingSummary)})}))}},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e,n=this,s=this.props,r=s.transitionPerformed,o=s.paymentInfo,l=s.mode,d=s.expMontana,u=s.shouldShowRedesignedModal,p=this.state,m=p.subStatus,_=p.loadingContent,h=p.submitting,M=p.type,b=p.open,v=D.intl.formatMessage({defaultMessage:"Change plan",description:"Change Dropbox plan"}),T=D.intl.formatMessage({defaultMessage:"Cancel",description:"Text to dismiss the change plan modal"}),w=D.intl.formatMessage({defaultMessage:"Confirm change",description:"Text to confirm changing the users plan"});if(_)v="",w="",T="",e=i.default.createElement("div",{className:"loading-indicator"},i.default.createElement("div",{className:"loading-indicator__text"},D.intl.formatMessage({defaultMessage:"Loading account details...",description:"Shown when loading account details"})),i.default.createElement("img",{src:C.static_url("/static/images/icons/ajax-loading-small-vfl3Wt7C_.gif"),alt:D.intl.formatMessage({defaultMessage:"Loading",description:"Loading"})}));else{var P=void 0;if(m&&r){y.DBModalStack.clear(),y.DBModalStack.register(c.CHANGE_IND_PLAN_MODAL_UPDATED,(function(){t.showInstance(a.__assign(a.__assign({},n.props),{transitionPerformed:n.transitionPerformedClosure}))})),P=i.default.createElement(f.CancellableNotificationsView,{subStatus:m,transitionPerformed:this.transitionPerformedClosure,displaySingleChangeCancellationItem:g.CancellationType.ALL,reOpenModalDialogAfterCancellation:!0,paymentInfo:o,displayNewTotal:!1})}e=i.default.createElement("div",null,P,this.renderBillingSection(),this.renderChangeFooter()),l===z.CONFIRM&&m&&(v=D.intl.formatMessage({defaultMessage:"Confirm plan",description:"Confirm choice of Dropbox plan"}),m.finalSubState.plan.productType===M?(w=null,T=D.intl.formatMessage({defaultMessage:"Confirm",description:"Confirm"})):(w=D.intl.formatMessage({defaultMessage:"Upgrade plan",description:"Upgrade Dropbox plan"}),T=null))}if(u)return v=this.isPlanScheduledToChange()?D.intl.formatMessage({defaultMessage:"Change plan",description:"Change Dropbox plan"}):M===L.ProductPlanType.PLUS?D.intl.formatMessage({defaultMessage:"You’re switching to Dropbox Plus",description:"Tells the user they are switching to Dropbox Plus plan"}):D.intl.formatMessage({defaultMessage:"You’re switching to Dropbox Professional",description:"Tells the user they are switching to Dropbox Professional plan"}),i.default.createElement(A.ChangeConfirmationModal,{acceptButtonDisabled:this.acceptButtonDisabled,acceptButtonText:D.intl.formatMessage({defaultMessage:"Confirm",description:"Confirm"}),dismissButtonText:D.intl.formatMessage({defaultMessage:"Cancel",description:"Cancel"}),loadingContent:_,onAccept:this.onAccept,onDismiss:this.onDismiss,open:b,renderUpdateLink:i.default.createElement(x.UpdateBillingInfo,{updateBillingCTA:this.updateBillingInfo,isRedesignedModal:!0}),renderVat:this.renderVat,text:this.changesSummaryContent,title:v,submitting:h});var E=R.default("change-plan-modal",{"change-plan-modal--montana":I.Experiment(d).isActive});return i.default.createElement(S.Modal,{acceptButtonDisabled:this.acceptButtonDisabled,acceptButtonText:w,className:E,dismissButtonText:T,autoClose:!1,onAccept:this.onChangePlanConfirmation,onDismiss:this.onDismiss,submitting:h,title:v},e)},t.ChangePlanModal=o.requireCssWithComponent(t,["/static/css/teams/admin/widgets/change_plan_modal/change_plan_modal-vfly6hkyq.css"]),t})(i.default.Component);t.ChangePlanModalView=J})),define("modules/clean/account_page/widgets/plan/views/change_schedule_modal",["require","exports","tslib","modules/core/browser","react","classnames","dig-components/typography","modules/clean/ajax","modules/clean/analytics","modules/clean/account_page/widgets/billing/payment_methods_util","modules/clean/account_page/widgets/plan/constants","modules/clean/account_page/widgets/plan/views/cancel_changes_modal","modules/clean/account_page/widgets/plan/views/change_plan_modal","modules/clean/account_page/widgets/plan/views/cancellable_notifications_view","modules/clean/account_page/widgets/plan/views/individual_inline_payment_method","modules/clean/account_page/widgets/plan/views/montana/common","modules/clean/account_page/widgets/plan/views/update_billing_info_link","modules/clean/account_page/util","modules/clean/account_page/widgets/plan/views/change_confirmation_modal","modules/clean/dbmodal_stack","modules/clean/payments/cash","modules/clean/payments/skus/constants","modules/clean/payments/skus/subscription_change_plan","modules/clean/payments/skus/subscription_status","modules/clean/react/css","modules/clean/react/modal","modules/clean/react/payments/error/browser_update_required_modal","modules/clean/react/payments/update_individual_billing/update_individual_billing_modal_loader","modules/clean/react/payments/update_individual_billing/update_individual_store_creator","modules/clean/static_urls","modules/clean/stormcrow/experiment","modules/clean/teams/admin/widgets/admin_priced_list/admin_priced_list","modules/clean/teams/admin/widgets/admin_priced_list/admin_priced_list_item","modules/clean/teams/admin/widgets/admin_priced_list/admin_priced_list_item_variant","modules/core/i18n","modules/clean/account_page/constants","modules/core/notify"],(function(e,t,a,n,s,i,r,o,l,d,u,c,p,m,_,f,g,h,y,M,b,S,v,L,T,w,D,P,C,E,k,Y,N,x,A,I,R){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),s=a.__importDefault(s),i=a.__importDefault(i);var O=(function(e){function t(s){var i=e.call(this,s)||this;return i.closeModals=function(){i.props.shouldShowRedesignedModal?i.setState({open:!1}):w.Modal.close()},i.onAccept=function(){var e,t,s,r=i.getSubChangePlan();r&&(r.finalSubState.billingSchedule.id===S.ScheduleId.MONTHLY&&(s={radio:"monthly"},t=p.PerformPlanTransition.YEARLY,e=p.PerformPlanTransition.MONTHLY),r.finalSubState.billingSchedule.id===S.ScheduleId.YEARLY&&(s={radio:"yearly"},t=p.PerformPlanTransition.MONTHLY,e=p.PerformPlanTransition.YEARLY),k.Experiment(i.props.expMontana).isActive&&i.props.isMontanaDowngradeFlow&&f.MontanaLogger.logEvent("cancel_click",a.__assign({featureType:"yearly_billing",cta:"confirm_change"},s)),e&&t?(i.setState((function(e){return e.submitting=!0,e})),o.WebRequest({url:"/account/perform_personal_transition",data:{transition_change_type:e},subject_user:h.getCurrentUser().id,success:function(e){var t=JSON.parse(e);if(t.redirect)return n.redirect(t.redirect);R.Notify.success(A.intl.formatMessage({defaultMessage:"You’ve changed your billing period!"})),i.logChangeSchedule(),i.props.transitionPerformed&&i.props.transitionPerformed(),i.closeModals()},error:function(){R.Notify.error(A.intl.formatMessage({defaultMessage:"There was an error changing the billing period!"})),i.setState((function(e){return e.submitting=!1,e}))}})):R.Notify.error(A.intl.formatMessage({defaultMessage:"There was an error changing the billing period!"})))},i.updateBillingInfo=function(e){k.Experiment(i.props.expMontana).isActive&&i.props.isMontanaDowngradeFlow?f.MontanaLogger.logEvent("cancel_click",{featureType:"yearly_billing",cta:"update_billing_information"}):l.ProEventsLogger.log("de_update_billing_info_click"),i.closeModals(),M.DBModalStack.register(C.BILLING_INFO_UPDATED,(function(){t.showInstance(i.props)})),i.props.browserUpdateRequired?D.BrowserUpdateModalLoader.showInstance():P.IndividualUpdateBillingModalLoader.showInstance()},i.handleCancelScheduleAction=function(){return i.handleCancelActions(I.CancellationType.SCHEDULE),!1},i.handleCancelActions=function(e){var t=i.state.subStatus,a=i.props,n=a.transitionPerformed,s=a.shouldShowRedesignedModal;return t&&c.CancelChangesModalConfirmationView.showInstance({subStatus:t,transitionPerformed:n,cancellationType:e,reOpenModalDialogAfterCancellation:!s,shouldShowRedesignedModal:s}),!1},i.transitionPerformedClosure=function(e){if(i.props.transitionPerformed)return i.props.transitionPerformed()},i.onDismissModal=function(){var e=i.props,t=e.expMontana,a=e.isMontanaDowngradeFlow,n=e.shouldShowRedesignedModal;k.Experiment(t).isActive&&a?f.MontanaLogger.logEvent("cancel_dismiss",{featureType:"yearly_billing"}):l.ProEventsLogger.log("de_cancel_billing_change_modal"),n&&i.setState({open:!1})},i.state={loadingContent:!0,schedule:S.ScheduleId.MONTHLY,subChangePlans:[],submitting:!1,type:S.ProductPlanType.STANDARD,hasLicenseKey:!1,isPriceVersionChange:!1,open:!0},i}return a.__extends(t,e),Object.defineProperty(t.prototype,"isProfessionalTrialPlan",{get:function(){var e=this.state.subStatus;return!(!e||!e.subState.plan)&&e.subState.plan.productType===S.ProductPlanType.PROFESSIONAL_TRIAL},enumerable:!0,configurable:!0}),t.showInstance=function(e){w.Modal.showInstance(s.default.createElement(t.ChangeScheduleModal,a.__assign({},e)))},t.prototype.componentDidMount=function(){this.loadPlanTransitions()},t.prototype.loadPlanTransitions=function(){var e=this;o.WebRequest({url:"/account/ajax_change_plan_schedule",subject_user:h.getCurrentUser().id,success:function(t){var n=JSON.parse(t);e.setState((function(t){var s=a.__assign({},t);s.loadingContent=!1,s.subStatus=L.SubscriptionStatus.deserialize(n.serializedSubStatus),s.paymentMethod=n.paymentMethod,s.hasLicenseKey=n.hasLicenseKey,s.isPriceVersionChange=n.isPriceVersionChange;var i=s.subStatus.finalSubState;if(!i.billingSchedule||!i.plan)throw"A base plan is required, in order to change it.";var r=s.subStatus.subState.billingSchedule.id;if(s.hasLicenseKey?s.schedule=s.subStatus.scheduledSubState.billingSchedule.id:s.schedule=r,s.subStatus.subState.plan){var o=s.subStatus.subState.plan.productType,l=k.Experiment(e.props.expMontana).isActive,d=r===S.ScheduleId.MONTHLY,u=o===S.ProductPlanType.STANDARD||o===S.ProductPlanType.PLUS;if(l&&d&&u&&(s.schedule=S.ScheduleId.YEARLY),!f.MontanaLogger.isInitialized()&&l){var c={billingScheduleId:r,planType:o};f.MontanaLogger.initialize(c)}}if(s.subChangePlans=n.serializedSubChangePlans.map((function(e){return v.SubscriptionChangePlan.deserialize(e)})),s.allSubStatuses=s.subChangePlans.map((function(e){return e})),s.allSubStatuses.push(s.subStatus),s.type=s.subStatus.subState.plan.productType,e.props.shouldShowRedesignedModal){d=s.subStatus.subState.billingSchedule.id===S.ScheduleId.MONTHLY;s.type=i.plan.productType,s.schedule=d?S.ScheduleId.YEARLY:S.ScheduleId.MONTHLY}return s}))},error:function(){R.Notify.error(A.intl.formatMessage({defaultMessage:"Failed to load modal."})),e.closeModals()}})},t.prototype.getSubChangePlan=function(e,t){return void 0===e&&(e=this.state.type),void 0===t&&(t=this.state.schedule),this.state.subChangePlans.filter((function(a){var n=a.finalSubState;return!(!n.plan||!n.billingSchedule)&&(n.plan.productType===e&&n.billingSchedule.id===t)})).pop()},Object.defineProperty(t.prototype,"hasTypeChanged",{get:function(){var e=this.state.subStatus;return e&&e.finalSubState.plan&&e.finalSubState.plan.productType!==this.state.type},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasScheduleChanged",{get:function(){var e=this.state.subStatus;return e&&e.finalSubState.billingSchedule&&e.finalSubState.billingSchedule.id!==this.state.schedule},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasCurrentPlanChanged",{get:function(){return this.hasTypeChanged||this.hasScheduleChanged},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subStatusScheduleId",{get:function(){var e=this.state.subStatus;return e&&e.finalSubState.billingSchedule?e.finalSubState.billingSchedule.id:S.ScheduleId.MONTHLY},enumerable:!0,configurable:!0}),t.prototype.logChangeSchedule=function(){var e=this.state.subStatus;e&&e.subState.billingSchedule&&l.ProEventsLogger.log("de_change_billing_change_schedule",{from:e.subState.billingSchedule.id===S.ScheduleId.MONTHLY?"monthly":"yearly",to:e.subState.billingSchedule.id===S.ScheduleId.MONTHLY?"yearly":"monthly"})},t.prototype.changeProductPlanAndScheduleType=function(e,t){this.setState((function(a){return a.type=e,a.schedule=t,a}))},t.prototype.changeProductPlanAndScheduleTypeClosure=function(e,t){var a=this;return function(){a.changeProductPlanAndScheduleType(e,t)}},t.prototype.getScheduleDescription=function(e,t,a,n,s){var i=this.state.subStatus;if(!(e.finalSubState.billingSchedule&&e.finalSubState.plan&&i&&i.scheduledSubState&&i.scheduledSubState.plan&&i.subState.plan))return"";var r=i.scheduledSubState.plan.displayName();switch(e.finalSubState.billingSchedule.id){case S.ScheduleId.YEARLY:return s?A.intl.formatMessage({defaultMessage:"You’ll pay {price_per_year} ({price_per_month}/month) once a year"},{price_per_year:a.toString(),price_per_month:a.divide(12).toString()}):this.state.isPriceVersionChange?A.intl.formatMessage({defaultMessage:"Dropbox {plan_name} is {price_per_year} per year."},{plan_name:r,price_per_year:a.toString()}):A.intl.formatMessage({defaultMessage:"Dropbox {plan_name} is {price_per_year} per year. You’ll save {savePercentage, number, ::percent} over monthly billing."},{plan_name:r,price_per_year:a.toString(),savePercentage:n});case S.ScheduleId.MONTHLY:return s?A.intl.formatMessage({defaultMessage:"Today, you pay {monthly_price} each month ({annual_monthly_price} each year)"},{monthly_price:t.toString(),annual_monthly_price:t.multiply(12).toString()}):A.intl.formatMessage({defaultMessage:"Dropbox {plan_name} is {price_per_month} per month. You’ll spend {price_per_year} per year."},{plan_name:r,price_per_month:t.toString(),price_per_year:a.toString()})}return""},t.prototype.getBillingItemTitle=function(e){switch(e){case S.ScheduleId.YEARLY:return A.intl.formatMessage({defaultMessage:"Billed yearly"});case S.ScheduleId.MONTHLY:return A.intl.formatMessage({defaultMessage:"Billed monthly"})}return""},t.prototype.getOriginalStatusForCurrentStatus=function(e,t){var a=this,n=this.state,s=n.allSubStatuses,i=n.subStatus;if(s&&i)return s.filter((function(n){return!!(n.finalSubState.plan&&i.finalSubState.plan&&n.finalSubState.billingSchedule)&&((n.subState.plan.productType===e||a.isProfessionalTrialPlan)&&n.finalSubState.billingSchedule.id===t)})).pop()},t.prototype.renderBillingScheduleItems=function(){var e=this,t=this.state,a=t.allSubStatuses,n=t.subStatus,i=t.schedule,r=t.hasLicenseKey;if(a&&n)return a.filter((function(e){return!!(e.finalSubState.plan&&n.subState.plan&&n.finalSubState.plan)})).sort((function(e,t){return e.finalSubState.billingSchedule&&t.finalSubState.billingSchedule?e.finalSubState.billingSchedule.id-t.finalSubState.billingSchedule.id:0})).map((function(t){var a=t.finalSubState.plan,o=t.finalSubState.billingSchedule;if(a&&o&&n.subState.billingSchedule&&n.subState.plan&&t.finalSubState.billingSchedule){var l=e.getOriginalStatusForCurrentStatus(n.subState.plan.productType,t.finalSubState.billingSchedule.id);if(l&&l.finalSubState.billingSchedule&&t.subState.billingSchedule){var d=a.displayCost,u=a.displayCost,c=a.displayCost,p=A.intl.formatMessage({defaultMessage:"per year"});o.id===S.ScheduleId.MONTHLY&&(u=u.multiply(12).round(2),p=A.intl.formatMessage({defaultMessage:"per month"}));var m=0;if(o.id===S.ScheduleId.YEARLY){var _=e.getOriginalStatusForCurrentStatus(n.subState.plan.productType,S.ScheduleId.MONTHLY);if(_&&_.finalSubState&&_.finalSubState.planSku){var f=_.finalSubState.planSku.displayCost.multiply(12).round(2);m=1-u.amount/f.amount}}var g,h,y=o.id===i;e.isPlanScheduledToChange()&&!e.isProfessionalTrialPlan&&(h=s.default.createElement("span",null,s.default.createElement("br",null),s.default.createElement("a",{href:"/plans",target:"_blank",rel:"noreferrer noopener"},A.intl.formatMessage({defaultMessage:"See other plans"}))));var M=n.subState.billingSchedule;r&&n.scheduledSubState&&n.scheduledSubState.billingSchedule&&(M=n.scheduledSubState.billingSchedule),M.id===o.id&&(g=A.intl.formatMessage({defaultMessage:"(current billing period)"}));var b=k.Experiment(e.props.expMontana).isActive&&n.subState.billingSchedule.id===S.ScheduleId.MONTHLY&&(n.subState.plan.productType===S.ProductPlanType.STANDARD||n.subState.plan.productType===S.ProductPlanType.PLUS);return b?s.default.createElement(x.AdminPricedListItemVariant,{key:a.code,isSelected:y,title:e.getBillingItemTitle(o.id),description:e.getScheduleDescription(l,c,u,m,b),price:d,detailsLink:h,onClick:e.changeProductPlanAndScheduleTypeClosure(a.productType,o.id),disableItem:e.isBillingScheduleToChange(),showMontanaPlusMonthlyVariant:b,schedule:o.id,isCurrentSchedule:n.subState.billingSchedule.id===o.id,pricePerMonth:c,pricePerYear:u}):s.default.createElement(N.AdminPricedListItem,{key:a.code,isSelected:y,title:e.getBillingItemTitle(o.id),titleWarningText:void 0,titleSecondaryText:g,description:e.getScheduleDescription(l,c,u,m,b),price:d,detailsLink:h,unit:p,onClick:e.changeProductPlanAndScheduleTypeClosure(a.productType,o.id),disableItem:e.isBillingScheduleToChange(),recommended:k.Experiment(e.props.expMontana).isActive&&o.id===S.ScheduleId.YEARLY})}}}))},t.prototype.renderBillingSection=function(){return s.default.createElement("div",null,s.default.createElement(Y.AdminPricedList,null,this.renderBillingScheduleItems()))},t.prototype.renderPaymentMethod=function(){var e=this.state.paymentMethod;if(e&&!this.isBillingScheduleToChange())return s.default.createElement("div",{className:"upgrade-payment-method-link"},s.default.createElement(_.IndividualInlinePaymentMethodView,{paymentMethod:e,renderUpdateLink:s.default.createElement(g.UpdateBillingInfo,{updateBillingCTA:this.updateBillingInfo})}))},t.prototype.isPlanScheduledToChange=function(){var e=this.state.subStatus;return!!(e&&e.subState.plan&&e.finalSubState.plan)&&e.subState.plan.productType!==e.finalSubState.plan.productType},t.prototype.isScheduledToChange=function(){return this.isPlanScheduledToChange()||this.isBillingScheduleToChange()||this.isEvhScheduledToChange()},t.prototype.isEvhScheduledToChange=function(){var e=this.state.subStatus;return!(!e||!e.scheduledSubState)&&e.subState.quantityForEvhAddOn()!==e.scheduledSubState.quantityForEvhAddOn()},t.prototype.isBillingScheduleToChange=function(){var e=this.state,t=e.subStatus;return!e.hasLicenseKey&&(!!(t&&t.subState.billingSchedule&&t.finalSubState.billingSchedule)&&t.subState.billingSchedule.id!==t.finalSubState.billingSchedule.id)},t.prototype.getPlanNameWithEvhText=function(e){var t=this.state.subStatus;return t&&t.scheduledSubState&&t.scheduledSubState.quantityForEvhAddOn()>0?e+" "+A.intl.formatMessage({defaultMessage:"+ extended version history"}):e},t.prototype.renderScheduleTransitionText=function(){var e=this.state.subStatus,t=this.getSubChangePlan();if(e&&e.subState.plan){var a=s.default.createElement("a",{href:"#",onClick:this.handleCancelScheduleAction},A.intl.formatMessage({defaultMessage:"Cancel change"})),n=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s.default.createElement("a",{"aria-label":A.intl.formatMessage({defaultMessage:"CancelLink"}),href:"#",onClick:h.logClickAndRedirect("de_cancel_link_click","/help/billing/cancel-dropbox-plus",{from:"change_billing_modal"})},e)},i=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s.default.createElement("a",{"aria-label":A.intl.formatMessage({defaultMessage:"LegalLink"}),href:"#",onClick:h.logClickAndRedirect("de_legal_link_click","/help/billing/plus-refund",{from:"change_billing_modal"})},e)};if(this.isBillingScheduleToChange())return s.default.createElement("span",{className:"plan-transition"},A.intl.formatMessage({defaultMessage:"You’ve already requested a change to your billing period. If you want to choose a different billing period, first cancel your pending change."})," ",a);if(this.isProfessionalTrialPlan&&!this.hasScheduleChanged)return s.default.createElement("div",null,s.default.createElement("span",{className:"change-summary"},A.intl.formatMessage({defaultMessage:"Change summary"})),s.default.createElement("p",{className:"plan-transition"},d.getProfessionalTrialScheduleDescription(e)));if((!t||this.isBillingScheduleToChange())&&e.currentBillingSummary){if(this.isScheduledToChange()&&e.scheduledSubState&&e.scheduledSubState.plan){var r=A.intl.formatMessage({defaultMessage:"Starting on {date}, we’ll bill you once a month for your Dropbox {plan_name} plan. Your new monthly total will be {scheduled_total}."},{plan_name:this.getPlanNameWithEvhText(e.scheduledSubState.plan.displayName()),date:e.subState.formattedNextBillingDate,scheduled_total:b.Cash.formatWithTaxLabels(e.nextBillingSummary.total,e.nextBillingSummary),strong:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s.default.createElement("strong",null,e)}});return e.scheduledSubState.billingSchedule.id===S.ScheduleId.YEARLY&&(r=A.intl.formatMessage({defaultMessage:"Starting on {date}, we’ll bill you once a year for your Dropbox {plan_name} plan. Your new yearly total will be {scheduled_total}."},{plan_name:this.getPlanNameWithEvhText(e.scheduledSubState.plan.displayName()),date:e.subState.formattedNextBillingDate,scheduled_total:b.Cash.formatWithTaxLabels(e.nextBillingSummary.total,e.nextBillingSummary),strong:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s.default.createElement("strong",null,e)}})),s.default.createElement("div",null,s.default.createElement("span",{className:"change-summary"},A.intl.formatMessage({defaultMessage:"Change summary"})),s.default.createElement("p",{className:"plan-transition"},r))}return s.default.createElement("div",null,s.default.createElement("p",{className:"plan-transition"},A.intl.formatMessage({defaultMessage:"Your Dropbox {plan} plan will renew on {date}. Your current {schedule} total is {recurring_total}."},{plan:this.getPlanNameWithEvhText(e.subState.plan.displayName()),schedule:e.subState.billingSchedule.scheduleDescriptionAdjective,recurring_total:b.Cash.formatWithTaxLabels(e.currentBillingSummary.total,e.currentBillingSummary),date:e.subState.formattedNextBillingDate})))}if(e.scheduledSubState&&e.scheduledSubState.plan){if(!t||!t.finalSubState.plan){r=A.intl.formatMessage({defaultMessage:"Starting on {date}, we’ll bill you once a month for your Dropbox {plan_name} plan. Your new monthly total will be {scheduled_total}. Charges will continue until you <cancelLink>cancel</cancelLink>, and previous charges won’t be refunded <legalLink>unless it’s legally required</legalLink>."},{plan_name:this.getPlanNameWithEvhText(e.scheduledSubState.plan.displayName()),date:e.subState.formattedNextBillingDate,scheduled_total:b.Cash.formatWithTaxLabels(e.nextBillingSummary.total,e.nextBillingSummary),strong:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s.default.createElement("strong",null,e)},cancelLink:n,legalLink:i});return e.finalSubState.billingSchedule.id===S.ScheduleId.YEARLY&&(r=A.intl.formatMessage({defaultMessage:"Starting on {date}, we’ll bill you once a year for your Dropbox {plan_name} plan. Your new yearly total will be {scheduled_total}. Charges will continue until you <cancelLink>cancel</cancelLink>, and previous charges won’t be refunded <legalLink>unless it’s legally required</legalLink>."},{plan_name:this.getPlanNameWithEvhText(e.scheduledSubState.plan.displayName()),date:e.subState.formattedNextBillingDate,scheduled_total:b.Cash.formatWithTaxLabels(e.nextBillingSummary.total,e.nextBillingSummary),strong:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s.default.createElement("strong",null,e)},cancelLink:n,legalLink:i})),s.default.createElement("div",null,s.default.createElement("span",{className:"change-summary"},A.intl.formatMessage({defaultMessage:"Change summary"})),s.default.createElement("p",{className:"plan-transition"},r))}return s.default.createElement("div",null,s.default.createElement("span",{className:"change-summary"},A.intl.formatMessage({defaultMessage:"Change summary"})),s.default.createElement("p",{className:"plan-transition"},A.intl.formatMessage({defaultMessage:"Starting on {date}, we’ll bill you once a {schedule_noun} for your Dropbox {plan_name} plan. Your new {schedule} total will be {scheduled_total}. Charges will continue until you <cancelLink>cancel</cancelLink>, and previous charges won’t be refunded <legalLink>unless it’s legally required</legalLink>."},{plan_name:this.getPlanNameWithEvhText(e.scheduledSubState.plan.displayName()),date:e.subState.formattedNextBillingDate,schedule:t.finalSubState.billingSchedule.scheduleDescriptionAdjective,schedule_noun:t.finalSubState.billingSchedule.scheduleDescriptionNoun,scheduled_total:b.Cash.formatWithTaxLabels(t.nextBillingSummary.total,t.nextBillingSummary),strong:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s.default.createElement("strong",null,e)},cancelLink:n,legalLink:i})))}}},t.prototype.renderFooter=function(){return this.renderScheduleChangeFooter()},t.prototype.renderScheduleChangeFooter=function(){var e;return this.isBillingScheduleToChange()||(e=this.renderPaymentMethod()),s.default.createElement("div",{className:"plan-footer u-font-meta"},this.renderScheduleTransitionText(),e)},Object.defineProperty(t.prototype,"changesSummaryContent",{get:function(){var e=this,t=this.state,a=t.subStatus,n=t.paymentMethod,i=this.getSubChangePlan();if(a&&a.subState.plan){var o="change-confirmation-modal__link";if(a.subState.plan.scheduleId!==a.finalSubState.plan.scheduleId&&!this.isProfessionalTrialPlan)return A.intl.formatMessage({defaultMessage:"You’ve already requested a change to your billing period. If you want to choose a different billing period, first cancel your pending change. <cancelChangeLink>Cancel change</cancelChangeLink>"},{cancelChangeLink:function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];return s.default.createElement(r.Link,{href:"#","aria-label":A.intl.formatMessage({defaultMessage:"Cancel change"}),className:o,onClick:e.handleCancelScheduleAction,variant:"primary",hasNoUnderline:!0},t)}});return A.intl.formatMessage({defaultMessage:"{IndividualInlinePaymentMethodView}{br}{br}Charges will continue until you <cancelLink>cancel</cancelLink>, and previous charges won’t be refunded <legalLink>unless it’s legally required</legalLink>."},{br:s.default.createElement("br",null),strong:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s.default.createElement("strong",null,e)},cancelLink:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s.default.createElement(r.Link,{href:"#","aria-label":A.intl.formatMessage({defaultMessage:"Cancel link"}),className:o,onClick:h.logClickAndRedirect("de_cancel_link_click","/help/billing/cancel-dropbox-plus",{from:"change_plan_modal"}),variant:"primary",hasNoUnderline:!0},e)},legalLink:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s.default.createElement(r.Link,{href:"#","aria-label":A.intl.formatMessage({defaultMessage:"Legal link"}),className:o,onClick:h.logClickAndRedirect("de_legal_link_click","/help/billing/plus-refund",{from:"change_plan_modal"}),variant:"primary",hasNoUnderline:!0},e)},IndividualInlinePaymentMethodView:s.default.createElement(_.IndividualInlinePaymentMethodView,{paymentMethod:n,renderUpdateLink:s.default.createElement(g.UpdateBillingInfo,{updateBillingCTA:this.updateBillingInfo}),isRedesignedModal:!0,nextBillingDate:a.subState.formattedNextBillingDate,scheduleId:i.finalSubState.billingSchedule.id,totalPrice:b.Cash.formatWithTaxLabels(i.nextBillingSummary.total,i.nextBillingSummary)})})}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"acceptButtonDisabled",{get:function(){var e=this.state.paymentMethod,t=this.state,a=t.loadingContent,n=t.submitting;return!(!a&&!n&&e)||(!this.hasScheduleChanged||this.isBillingScheduleToChange())},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e,a,n=this,r=this.state,o=r.subStatus,l=r.schedule,d=r.loadingContent,c=r.submitting,p=r.hasLicenseKey,_=r.open,f=this.props,h=f.transitionPerformed,b=f.paymentInfo,v=f.expMontana,L=f.shouldShowRedesignedModal,T=k.Experiment(v).isActive;if(d)e=s.default.createElement("div",{className:"loading-indicator"},s.default.createElement("img",{src:E.static_url("/static/images/icons/ajax-loading-small-vfl3Wt7C_.gif"),alt:A.intl.formatMessage({defaultMessage:"Loading"})}));else{var D=void 0;if(o&&h&&!this.isProfessionalTrialPlan){M.DBModalStack.clear(),M.DBModalStack.register(u.CHANGE_IND_PLAN_MODAL_UPDATED,(function(){t.showInstance({transitionPerformed:n.transitionPerformedClosure})})),D=s.default.createElement(m.CancellableNotificationsView,{subStatus:o,transitionPerformed:this.transitionPerformedClosure,displaySingleChangeCancellationItem:I.CancellationType.ALL,reOpenModalDialogAfterCancellation:!0,paymentInfo:b,hasLicenseKey:p,displayNewTotal:!1})}e=s.default.createElement("div",null,D,this.renderBillingSection(),this.renderFooter()),a=T&&this.subStatusScheduleId===S.ScheduleId.MONTHLY?A.intl.formatMessage({defaultMessage:"Change to yearly billing"}):A.intl.formatMessage({defaultMessage:"Change billing period"})}var P=i.default("change-plan-modal",{"change-plan-modal--montana":T});return L?(a=this.isBillingScheduleToChange()&&!this.isProfessionalTrialPlan?A.intl.formatMessage({defaultMessage:"Change billing period"}):l===S.ScheduleId.YEARLY?A.intl.formatMessage({defaultMessage:"You’re switching to yearly billing"}):A.intl.formatMessage({defaultMessage:"You’re switching to monthly billing"}),s.default.createElement(y.ChangeConfirmationModal,{acceptButtonDisabled:this.acceptButtonDisabled,acceptButtonText:A.intl.formatMessage({defaultMessage:"Confirm"}),dismissButtonText:A.intl.formatMessage({defaultMessage:"Cancel"}),loadingContent:d,onAccept:this.onAccept,onDismiss:this.onDismissModal,open:_,renderUpdateLink:s.default.createElement(g.UpdateBillingInfo,{updateBillingCTA:this.updateBillingInfo,isRedesignedModal:!0}),text:this.changesSummaryContent,title:a,submitting:c})):s.default.createElement(w.Modal,{acceptButtonDisabled:this.acceptButtonDisabled,acceptButtonText:A.intl.formatMessage({defaultMessage:"Confirm change"}),className:P,dismissButtonText:A.intl.formatMessage({defaultMessage:"Cancel"}),onDismiss:this.onDismissModal,autoClose:!1,onAccept:this.onAccept,submitting:c,title:a,autoFocusPrimaryInput:!1},e)},t.ChangeScheduleModal=T.requireCssWithComponent(t,["/static/css/teams/admin/widgets/change_plan_modal/change_plan_modal-vfly6hkyq.css"]),t})(s.default.Component);t.ChangeScheduleModalView=O})),define("modules/clean/account_page/widgets/plan/views/churn_survey/churn_survey_wrapper",["require","exports","tslib","react","modules/core/i18n","modules/clean/bem","spectrum/button","modules/clean/account_page/widgets/plan/views/churn_survey/churn_survey_reasons_wrapper"],(function(e,t,a,n,s,i,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n);var l=i.bem("churn-survey"),d=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.render=function(){return n.createElement("div",{className:l("")},n.createElement("div",{className:l("header")},s.intl.formatMessage({defaultMessage:"Before you go"})),n.createElement("div",{className:l("subheader")},s.intl.formatMessage({defaultMessage:"What’s your main reason for canceling Dropbox?"})),n.createElement(o.ChurnSurveyReasonsWrapper,{reasons:this.props.reasons,selectedReasonVal:this.props.selectedReasonVal,handleSelectReason:this.props.handleSelectReason,onOtherInputChange:this.props.onOtherInputChange,isBiz:this.props.isBiz}),n.createElement("div",{className:l("btns-wrapper")},n.createElement(r.Button,{className:l("btn-skip"),variant:"borderless",onClick:this.props.handleSkipSurvey},s.intl.formatMessage({defaultMessage:"Skip"})),n.createElement(r.Button,{className:l("btn-submit"),variant:"primary",disabled:void 0===this.props.selectedReasonVal,onClick:this.props.handleSubmitSurvey},s.intl.formatMessage({defaultMessage:"Continue canceling"}))))},t})(n.PureComponent);t.ChurnSurvey=d})),define("modules/clean/account_page/widgets/plan/views/churn_survey/churn_survey_reasons_wrapper",["require","exports","tslib","react","modules/clean/react/survey/types/survey_types","modules/core/i18n","spectrum/input","spectrum/label","modules/clean/bem","classnames","spectrum/button","modules/core/browser","modules/clean/analytics"],(function(e,t,a,n,s,i,r,o,l,d,u,c,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),d=a.__importDefault(d),c=a.__importStar(c);var m=l.bem("churn-survey"),_={reason:i.intl.formatMessage({defaultMessage:"Other",description:"None of the listed survey options were fitting"}),value:"other"},f={reason:i.intl.formatMessage({defaultMessage:"Other",description:"None of the listed survey options were fitting"}),value:s.SurveyReason.OTHER},g=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleSupportRedirect=function(){p.ProEventsLogger.log("not_satisfied_modal_click",{cta:"contact_dbx_support"},(function(){c.redirect("/support")}))},t.handlePlansRedirect=function(){p.ProEventsLogger.log("not_satisfied_modal_click",{cta:"compare_plans"},(function(){c.redirect("/plans")}))},t}return a.__extends(t,e),t.prototype.render=function(){var e=this,t=this.props.isBiz?_:f;return n.createElement("div",{className:m("reasons-wrapper")},this.props.reasons.map((function(t){var a=e.props.selectedReasonVal===t.value;return n.createElement("div",{key:t.value},n.createElement(u.Button,{className:d.default(m("reason"),m("reason",t.value),{selected:a,"explicit-unselected":void 0!==e.props.selectedReasonVal&&e.props.selectedReasonVal!==t.value}),variant:"secondary",key:t.value,onClick:e.props.handleSelectReason.bind(e,t.value)},t.reason),t.value===s.SurveyReason.NOT_SATISFIED&&a&&n.createElement("div",{className:m("not-satisfied-response")},i.intl.formatMessage({defaultMessage:"We can help make things right. <a>Contact Dropbox support</a>",description:"Prompts the user to contact Support to fix their problem"},{a:function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];return n.createElement("a",{href:"#","aria-label":i.intl.formatMessage({defaultMessage:"Contact Dropbox support",description:"Links to customer support page"}),className:m("not-satisfied-response-support"),onClick:e.handleSupportRedirect},t)}}),n.createElement("br",null),i.intl.formatMessage({defaultMessage:"There may be a better fit. <a>Compare plans</a>",description:"Prompts the user to look at alternative plans"},{a:function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];return n.createElement("a",{href:"#","aria-label":i.intl.formatMessage({defaultMessage:"Compare plans",description:"Links to a page of Dropbox plans"}),className:m("not-satisfied-response-compare"),onClick:e.handlePlansRedirect},t)}})))})),this.props.selectedReasonVal!==t.value&&n.createElement(u.Button,{className:d.default(m("reason"),{"explicit-unselected":void 0!==this.props.selectedReasonVal}),variant:"secondary",key:t.value,onClick:this.props.handleSelectReason.bind(this,t.value)},t.reason),this.props.selectedReasonVal===t.value&&n.createElement("div",{className:m("other-wrapper")},n.createElement(o.Label,{htmlFor:"other-input",className:m("other-subheader")},i.intl.formatMessage({defaultMessage:"Other",description:"None of the other survey options were fitting"})),n.createElement(r.TextArea,{id:"other-input",className:m("other-input"),placeholder:i.intl.formatMessage({defaultMessage:"Tell us why you want to cancel (optional)",description:"Prompts the user to explain why they are canceling their subscription"}),onChange:this.props.onOtherInputChange})))},t})(n.PureComponent);t.ChurnSurveyReasonsWrapper=g})),define("modules/clean/account_page/widgets/plan/views/disband_family_confirmation_modal",["require","exports","tslib","react","dig-components/modal","dig-components/typography","dig-components/controls","modules/core/i18n","modules/clean/react/modal","modules/clean/react/css","dig-components/buttons","modules/constants/trademark"],(function(e,t,a,n,s,i,r,o,l,d,u,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),t.DisbandFamilyConfirmationModalView=function(e){var t=n.default.useState(!1),a=t[0],d=t[1],p=n.default.useState(!1),m=p[0],_=p[1],f=function(){l.Modal.close()};return n.default.createElement(s.Modal,{open:!0,className:"disband-family-confirmation-modal",overlayClassName:"disband-family-confirmation-modal-overlay",width:"small",onRequestClose:f},n.default.createElement(s.Modal.Header,{hasBottomSpacing:"title-standard"},n.default.createElement(i.Title,{isBold:!0},o.intl.formatMessage({defaultMessage:"Are you sure you want to change plans?"}))),n.default.createElement(s.Modal.Body,null,n.default.createElement(i.Text,null,o.intl.formatMessage({defaultMessage:"{dropbox_family} will be canceled, and active members of your {family_plan} plan will have their accounts downgraded to {dropbox_basic}"},{dropbox_family:c.DROPBOX_FAMILY,family_plan:c.TRADEMARK_FAMILY,dropbox_basic:c.DROPBOX_BASIC})),n.default.createElement("div",null,n.default.createElement(i.Text,{isBold:!0},o.intl.formatMessage({defaultMessage:"If you still want to change plans, please acknowledge the following:"}))),n.default.createElement("div",{className:"disband-confirmation-checkbox-container"},n.default.createElement(r.Checkbox,{onChange:function(){d(!a)},checked:a,className:"disband-confirmation-checkbox downgrade-acknowledged"}),n.default.createElement(i.Text,null,o.intl.formatMessage({defaultMessage:"By proceeding, {family_plan} plan members will be downgraded to a {basic_space_quota} {dropbox_basic} plan."},{family_plan:c.TRADEMARK_FAMILY,dropbox_basic:c.DROPBOX_BASIC,basic_space_quota:e.basicSkuQuotaGb}))),n.default.createElement("div",{className:"disband-confirmation-checkbox-container"},n.default.createElement(r.Checkbox,{onChange:function(){_(!m)},checked:m,className:"disband-confirmation-checkbox over-quota-acknowledged"}),n.default.createElement(i.Text,null,o.intl.formatMessage({defaultMessage:"If members are using more than {basic_space_quota} of storage, Dropbox will stop syncing, additional files can’t be uploaded, and files can’t be restored to earlier versions."},{basic_space_quota:e.basicSkuQuotaGb}))),n.default.createElement(s.Modal.Footer,null,n.default.createElement(u.Button,{variant:"opacity",onClick:f},o.intl.formatMessage({defaultMessage:"Cancel"})),n.default.createElement(u.Button,{className:"disband-family-confirmation-modal-confirm",variant:"primary",onClick:function(){e.confirmChangePlan()},disabled:!a||!m},o.intl.formatMessage({defaultMessage:"Confirm"})))))},t.DisbandFamilyConfirmationModal=d.requireCssWithComponent(t.DisbandFamilyConfirmationModalView,["/static/css/dig-components/index.web-vflAfUkoe.css","/static/css/account/pagelet/disband_family_confirmation_modal-vflgELKDL.css"]),t.showDisbandModal=function(e){l.Modal.showInstance(n.default.createElement(t.DisbandFamilyConfirmationModal,a.__assign({},e)))}})),define("modules/clean/account_page/widgets/plan/views/loading_view",["require","exports","tslib","react","modules/core/i18n","modules/clean/static_urls"],(function(e,t,a,n,s,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),t.LoadingView=function(e){return n.createElement("div",{className:e.className},n.createElement("img",a.__assign({src:i.static_url("/static/images/icons/ajax-loading-small-blue-vflVk_QNP.gif"),alt:s.intl.formatMessage({defaultMessage:"Loading"})},e.imageProps)))}})),define("modules/clean/account_page/widgets/plan/views/individual_cancel_survey_modal",["require","exports","tslib","external/lodash","react","spectrum/button","spectrum/modal","spectrum/input","spectrum/label","spectrum/radio_button","modules/clean/analytics","modules/clean/csrf","modules/clean/payments/skus/constants","modules/clean/react/modal","modules/clean/react/survey/types/survey_types","modules/constants/trademark","modules/core/exception","modules/core/i18n","modules/core/uri","modules/core/browser","modules/clean/account_page/widgets/plan/views/montana/common","modules/clean/ux_analytics_utils","modules/clean/ux_analytics_modal_tracking","modules/clean/api_v2/user_client","modules/core/notify","modules/clean/account_page/util","modules/clean/ts_utils"],(function(e,t,a,n,s,i,r,o,l,d,u,c,p,m,_,f,g,h,y,M,b,S,v,L,T,w,D){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),s=a.__importDefault(s),M=a.__importStar(M),t.ROOT_DOWNGRADE_URI=new y.URI({path:"/downgrade",query:{oqa:"acc_cancel"}});var P=function(e,t){var a,n,s=null!==(n=null===(a=null==t?void 0:t.content)||void 0===a?void 0:a.dropboxDisplayName())&&void 0!==n?n:"",i=null==t?void 0:t.productType;switch(e){case _.SurveyReason.TOO_EXPENSIVE:switch(i){case p.ProductPlanType.FAMILY_PAYER:return h.intl.formatMessage({defaultMessage:"Too expensive",description:"A possible reason the customer is choosing to cancel subscription"});default:return h.intl.formatMessage({defaultMessage:"I found {current_plan} too expensive for the value I received",description:"A possible reason the customer is choosing to cancel subscription"},{current_plan:s})}case _.SurveyReason.TECH_ISSUES:switch(i){case p.ProductPlanType.FAMILY_PAYER:case p.ProductPlanType.FAMILY_NONPAYER:return h.intl.formatMessage({defaultMessage:"Having issues with the product",description:"A possible reason the customer is choosing to cancel subscription"});default:return h.intl.formatMessage({defaultMessage:"I wasn’t satisfied with or had issues with the features",description:"A possible reason the customer is choosing to cancel subscription"})}case _.SurveyReason.BETTER_ALTERNATIVE:return h.intl.formatMessage({defaultMessage:"I found another product I liked better",description:"A possible reason the customer is choosing to cancel subscription"});case _.SurveyReason.TEMPORARY_NEED:switch(i){case p.ProductPlanType.FAMILY_PAYER:return h.intl.formatMessage({defaultMessage:"Don’t use it enough",description:"A possible reason the customer is choosing to cancel subscription"});default:return h.intl.formatMessage({defaultMessage:"I needed {current_plan} temporarily",description:"A possible reason the customer is choosing to cancel subscription"},{current_plan:s})}case _.SurveyReason.NOT_SATISFIED:return h.intl.formatMessage({defaultMessage:"Not satisfied with the product",description:"A possible reason the customer is choosing to cancel subscription"});case _.SurveyReason.OTHER:return h.intl.formatMessage({defaultMessage:"Other (please fill in reason below)",description:"The reason the customer is canceling their subscription is not a shown option"});case _.SurveyReason.SWITCH_TO_BUSINESS:return h.intl.formatMessage({defaultMessage:"I am switching to {dropbox_business}",description:"A possible reason the customer is choosing to cancel subscription"},{dropbox_business:f.TRADEMARK_BUSINESS});case _.SurveyReason.MAJOR_LIFE_CHANGE:return h.intl.formatMessage({defaultMessage:"I’ve had a major personal or professional life change since initial purchase",description:"A possible reason the customer is choosing to cancel subscription"});case _.SurveyReason.NEED_DIFFERENT_PLAN:return h.intl.formatMessage({defaultMessage:"Need different features",description:"A possible reason the customer is choosing to cancel subscription"});case _.SurveyReason.USING_ANOTHER_SERVICE:return h.intl.formatMessage({defaultMessage:"Using another service",description:"A possible reason the customer is choosing to cancel subscription"});case _.SurveyReason.NOT_ENOUGH_STORAGE:return h.intl.formatMessage({defaultMessage:"Using too much of my family’s storage",description:"A possible reason the customer is choosing to cancel subscription"});case _.SurveyReason.COVID_19:return h.intl.formatMessage({defaultMessage:"Impacted by COVID-19",description:"A possible reason the customer is choosing to cancel subscription"});default:return D.enforceExhaustive(e)}},C=(function(e){function D(a){var r=e.call(this,a)||this;r.state={additionalInfo:"",downgradeReasonId:"",isOpen:!0,isSubmitting:!1},r.onPrimaryAction=function(){if(!r.state.isSubmitting){var e=r.state,a=e.additionalInfo,n=e.downgradeReasonId,s=r.reasonsMappedByValue[n];if(s){var i;switch(r.planType){case p.ProductPlanType.FAMILY_PAYER:case p.ProductPlanType.FAMILY_NONPAYER:i=t.ROOT_DOWNGRADE_URI;break;default:i=s.uri}r.formRef.action=i.toString(),r.setState({isSubmitting:!0},(function(){r.props.expMontanaActive?(b.MontanaLogger.logEvent("cancel_click",{featureType:"survey",cta:"submit"}),(new L.UserApiV2Client).ns("montana").rpc("submit_cancel_survey_response",{additional_info:a,downgrade_reason_id:n},{subjectUserId:w.getCurrentUser().id}).then((function(e){r.closeModal()}),(function(e){g.reportStack("There was an issue submit cancel survey response.",{exc_extra:{selectedOption:n,err:e},severity:"critical"}),T.Notify.error(h.intl.formatMessage({defaultMessage:"There was an issue, please contact Customer Support.",description:"Directs a customer to contact Customer Support to resolve an issue they are experiencing"}))}))):u.ProEventsLogger.log("individual_cancel_survey_modal_submit",{additionalInfo:a,downgradeReasonId:n},(function(){r.formRef.submit()}))}))}else g.reportStack("Could not find the selected survey option.",{exc_extra:{selectedOption:n},severity:"critical"})}},r.onSecondaryAction=function(){r.props.expMontanaActive?b.MontanaLogger.logEvent("cancel_dismiss",{featureType:"survey",cta:"skip"}):u.ProEventsLogger.log("individual_cancel_survey_modal_close"),r.closeModal()},r.onSkipSurvey=function(){u.ProEventsLogger.log("individual_cancel_survey_modal_skip",{},(function(){M.redirect(t.ROOT_DOWNGRADE_URI)}))},r.onCloseAction=function(){r.props.expMontanaActive?b.MontanaLogger.logEvent("cancel_dismiss",{featureType:"survey"}):u.ProEventsLogger.log("individual_cancel_survey_modal_close"),r.closeModal()},r.handleFeedbackChange=function(e){return r.setState({additionalInfo:e.target.value})},r.handleReasonChange=function(e){return r.setState({downgradeReasonId:e.target.value})},r.closeModal=function(){S.dispatchModalClosed(),r.setState({isOpen:!1},(function(){var e=r.props,t=e.expMontanaActive,a=e.onClose,n=e.exitModalFlow;m.Modal.close(),!t&&a&&a(),t&&n&&(n(),M.reload())}))},r.saveFormRef=function(e){return r.formRef=e},r.renderPrimaryAction=function(e){var t,a=r.state.isSubmitting,n=r.formRef&&r.formRef.checkValidity();if(r.props.expMontanaActive)t=h.intl.formatMessage({defaultMessage:"Submit",description:"Submits the survey answers"});else switch(r.planType){case p.ProductPlanType.FAMILY_PAYER:t=h.intl.formatMessage({defaultMessage:"Continue canceling",description:"Continues canceling the user's subscription"});break;case p.ProductPlanType.FAMILY_NONPAYER:t=h.intl.formatMessage({defaultMessage:"Continue leaving",description:"Continues removing the user from the family plan"});break;default:t=h.intl.formatMessage({defaultMessage:"Continue with cancellation",description:"Continues canceling the user's subscription"})}return s.default.createElement(i.Button,{disabled:!a&&!n,onClick:e,className:"individual-cancel-survey-modal__primary-button"},t)},r.renderSecondaryAction=function(e){var t;return t=r.props.expMontanaActive?h.intl.formatMessage({defaultMessage:"Skip",description:"Skips the survey and continues with the subscription cancellation"}):r.planType===p.ProductPlanType.FAMILY_NONPAYER?h.intl.formatMessage({defaultMessage:"Don’t leave",description:"The user aborts leaving their family plan"}):h.intl.formatMessage({defaultMessage:"Don’t cancel",description:"Aborts the subscription cancellation"}),s.default.createElement(i.Button,{onClick:e,variant:"secondary"},t)};var o,l=a.subStatus,d=a.expMontanaActive;if(r.reasonsMappedByValue=(o=l.subState.plan,n.keyBy([{value:_.SurveyReason.TOO_EXPENSIVE,reason:P(_.SurveyReason.TOO_EXPENSIVE,o),uri:new y.URI({path:"/downgrade/reply/save-money",query:{next:t.ROOT_DOWNGRADE_URI.toString(),oqa:"SVY_BTN_MNY"}})},{value:_.SurveyReason.TECH_ISSUES,reason:P(_.SurveyReason.TECH_ISSUES,o),uri:new y.URI({path:"/downgrade/reply/tech-issues",query:{next:t.ROOT_DOWNGRADE_URI.toString(),oqa:"SVY_BTN_TECH"}})},{value:_.SurveyReason.BETTER_ALTERNATIVE,reason:P(_.SurveyReason.BETTER_ALTERNATIVE,o),uri:new y.URI({path:"/downgrade/reply/better-alternative",query:{next:t.ROOT_DOWNGRADE_URI.toString(),oqa:"SVY_BTN_ALT"}})},{value:_.SurveyReason.TEMPORARY_NEED,reason:P(_.SurveyReason.TEMPORARY_NEED,o),uri:new y.URI({path:"/downgrade/reply/temporary-need",query:{next:t.ROOT_DOWNGRADE_URI.toString(),oqa:"SVY_BTN_TEMP"}})},{value:_.SurveyReason.NOT_SATISFIED,reason:P(_.SurveyReason.NOT_SATISFIED,o),uri:t.ROOT_DOWNGRADE_URI},{value:_.SurveyReason.OTHER,reason:P(_.SurveyReason.OTHER,o),uri:t.ROOT_DOWNGRADE_URI},{value:_.SurveyReason.SWITCH_TO_BUSINESS,reason:P(_.SurveyReason.SWITCH_TO_BUSINESS,o),uri:new y.URI({path:"/downgrade",query:{oqa:"acc_cancel_107"}})},{value:_.SurveyReason.MAJOR_LIFE_CHANGE,reason:P(_.SurveyReason.MAJOR_LIFE_CHANGE,o),uri:new y.URI({path:"/downgrade",query:{oqa:"acc_cancel_108"}})},{value:_.SurveyReason.NEED_DIFFERENT_PLAN,reason:P(_.SurveyReason.NEED_DIFFERENT_PLAN,o),uri:t.ROOT_DOWNGRADE_URI},{value:_.SurveyReason.USING_ANOTHER_SERVICE,reason:P(_.SurveyReason.USING_ANOTHER_SERVICE,o),uri:t.ROOT_DOWNGRADE_URI},{value:_.SurveyReason.NOT_ENOUGH_STORAGE,reason:P(_.SurveyReason.NOT_ENOUGH_STORAGE,o),uri:t.ROOT_DOWNGRADE_URI},{value:_.SurveyReason.COVID_19,reason:P(_.SurveyReason.COVID_19,o),uri:t.ROOT_DOWNGRADE_URI}],"value")),r.surveyReasonsToDisplay=r.generateSurveyReasons(),d&&!b.MontanaLogger.isInitialized()){var c={billingScheduleId:l.subState.billingSchedule.id,planType:l.subState.plan.productType};b.MontanaLogger.initialize(c)}return r}return a.__extends(D,e),Object.defineProperty(D.prototype,"planType",{get:function(){var e;return null===(e=this.props.subStatus.subState.plan)||void 0===e?void 0:e.productType},enumerable:!0,configurable:!0}),Object.defineProperty(D.prototype,"description",{get:function(){var e=this.props,t=e.firstName,a=e.expMontanaActive;if(t){if(a)return h.intl.formatMessage({defaultMessage:"Hey {first_name}, would you mind telling us why you canceled your plan today?",description:"A prompt for the user to include details for why they are canceling their subscription"},{first_name:t});switch(this.planType){case p.ProductPlanType.FAMILY_PAYER:return h.intl.formatMessage({defaultMessage:"Hey {first_name}, we’re sorry you’re thinking of canceling {dropbox_family}. Would you tell us why? We might be able to help.",description:"A prompt for the user to include details for why they are canceling their subscription"},{first_name:t,dropbox_family:f.DROPBOX_FAMILY});case p.ProductPlanType.FAMILY_NONPAYER:return h.intl.formatMessage({defaultMessage:"Hey {first_name}, we’re sorry you’re thinking of leaving {dropbox_family}. Would you tell us why? We might be able to help.",description:"A prompt for the user to include details for why they are leaving their family plan"},{first_name:t,dropbox_family:f.DROPBOX_FAMILY});default:return h.intl.formatMessage({defaultMessage:"Hey {first_name}, we’re sorry you’re thinking of leaving us. Would you tell us why? We might be able to help!",description:"A prompt for the user to include details for why they are canceling their subscription"},{first_name:t})}}return h.intl.formatMessage({defaultMessage:"Hey, we’re sorry you’re thinking of leaving us. Would you tell us why? We might be able to help!",description:"A prompt for the user to include details for why they are canceling their subscription"})},enumerable:!0,configurable:!0}),D.prototype.generateSurveyReasons=function(){var e,t=this;switch(this.planType){case p.ProductPlanType.FAMILY_PAYER:e=n.shuffle([_.SurveyReason.TOO_EXPENSIVE,_.SurveyReason.TEMPORARY_NEED,_.SurveyReason.TECH_ISSUES,_.SurveyReason.NEED_DIFFERENT_PLAN,_.SurveyReason.USING_ANOTHER_SERVICE,_.SurveyReason.COVID_19]).concat(_.SurveyReason.OTHER);break;case p.ProductPlanType.FAMILY_NONPAYER:e=n.shuffle([_.SurveyReason.TECH_ISSUES,_.SurveyReason.NEED_DIFFERENT_PLAN,_.SurveyReason.USING_ANOTHER_SERVICE,_.SurveyReason.NOT_ENOUGH_STORAGE]).concat(_.SurveyReason.OTHER);break;default:e=n.shuffle([_.SurveyReason.TOO_EXPENSIVE,_.SurveyReason.TECH_ISSUES,_.SurveyReason.BETTER_ALTERNATIVE,_.SurveyReason.TEMPORARY_NEED,_.SurveyReason.SWITCH_TO_BUSINESS,_.SurveyReason.MAJOR_LIFE_CHANGE]).concat(_.SurveyReason.OTHER)}return e.map((function(e){return t.reasonsMappedByValue[e]}))},D.prototype.render=function(){var e,t,a,n=this;switch(e=this.props.expMontanaActive?h.intl.formatMessage({defaultMessage:"Share your thoughts with us",description:"Prompts the user to share their decision to leave by completing the survey"}):this.planType===p.ProductPlanType.FAMILY_NONPAYER?h.intl.formatMessage({defaultMessage:"Are you sure you want to leave?",description:"Questions the user if they really want to leave their family plan"}):h.intl.formatMessage({defaultMessage:"Are you sure you want to cancel?",description:"Questions the user if they really want to cancel their subscription"}),this.planType){case p.ProductPlanType.FAMILY_PAYER:t=h.intl.formatMessage({defaultMessage:"I’m canceling because…",description:"A placeholder text prompt for the user to explain why they are canceling their subscription"});break;case p.ProductPlanType.FAMILY_NONPAYER:t=h.intl.formatMessage({defaultMessage:"I’m leaving because…",description:"A placeholder text prompt for the user to explain why they are leaving their family plan"});break;default:t=h.intl.formatMessage({defaultMessage:"Reason for canceling (optional)",description:"A placeholder text prompt for the user to explain why they are canceling their subscription"})}switch(this.planType){case p.ProductPlanType.FAMILY_PAYER:a=h.intl.formatMessage({defaultMessage:"Please select a reason for canceling:",description:"Prompts the user to choose an option for why they are canceling their subscription"});break;case p.ProductPlanType.FAMILY_NONPAYER:a=h.intl.formatMessage({defaultMessage:"Please select a reason for leaving:",description:"Prompts the user to choose an option for why they are leaving their family plan"});break;default:a=h.intl.formatMessage({defaultMessage:"Please select one reason for canceling",description:"Prompts the user to choose an option for why they are canceling their subscription"})}var i=this.props.expMontanaActive?void 0:h.intl.formatMessage({defaultMessage:"Skip",description:"Skips the survey"}),u=this.props.expMontanaActive?void 0:this.onSkipSurvey;return s.default.createElement(r.UtilityModal,{appElement:document.getElementById("embedded-app")||document.body,ariaLabel:h.intl.formatMessage({defaultMessage:"Cancel plan",description:"Cancel current Dropbox plan"}),className:"individual-cancel-survey-modal",displayCloseButton:!0,link:i,onLink:u,onPrimaryAction:this.onPrimaryAction,onReady:S.dispatchModalOpened,onRequestClose:this.onCloseAction,onSecondaryAction:this.onSecondaryAction,open:this.state.isOpen,primaryAction:this.renderPrimaryAction,secondaryAction:this.renderSecondaryAction,shouldRequestCloseOnActions:!1,shouldFocusAfterRender:!0,title:e,width:640},s.default.createElement(v.UXAnalyticsModalTracking,{id:"individual-cancel-survey-modal"}),s.default.createElement("form",{className:"individual-cancel-survey-modal__survey-container",ref:this.saveFormRef,method:"post"},s.default.createElement("input",{type:"hidden",name:"t",value:c.readCsrfToken()||""}),s.default.createElement("p",null,this.description),s.default.createElement("p",null,s.default.createElement("strong",null,a)),s.default.createElement("p",null,this.surveyReasonsToDisplay.map((function(e){var t=e.value,a=e.reason;return s.default.createElement("div",{className:"individual-cancel-survey-modal__radio-survey-option",key:t+"-option"},s.default.createElement(d.RadioButton,{key:t+"-option",name:"downgrade_reason_id","aria-checked":n.state.downgradeReasonId===t,checked:n.state.downgradeReasonId===t,onChange:n.handleReasonChange,value:t,required:!0},a))}))),s.default.createElement("div",null,this.planType!==p.ProductPlanType.FAMILY_PAYER&&this.planType!==p.ProductPlanType.FAMILY_NONPAYER?s.default.createElement(l.Label,{htmlFor:"individual_cancel_survey_modal_additional_info"},s.default.createElement("strong",null,h.intl.formatMessage({defaultMessage:"Let us know more about why you’re canceling:",description:"Prompts the user to explain why they are canceling their subscription"}))):null,s.default.createElement(o.TextArea,{className:"individual-cancel-survey-modal__additional-info",fullWidth:!0,onChange:this.handleFeedbackChange,name:"additional_info",id:"individual_cancel_survey_modal_additional_info",placeholder:t,value:this.state.additionalInfo}))))},D})(s.default.Component);t.IndividualCancelSurveyModal=C})),define("modules/clean/account_page/widgets/plan/views/individual_inline_payment_method",["require","exports","tslib","react","modules/core/i18n","modules/clean/account_page/widgets/billing/payment_method_constants","modules/clean/payments/skus/constants"],(function(e,t,a,n,s,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.renderCreditCard=function(){var e=this.props,t=e.paymentMethod,a=e.isRedesignedModal,i=e.nextBillingDate,o=e.scheduleId,l=e.totalPrice;if(t){var d=t.account.slice(-4),u=void 0;return a?(u=o===r.ScheduleId.YEARLY?s.intl.formatMessage({defaultMessage:"Starting <strong>{date}</strong>, we’ll charge you <strong>{scheduled_total}</strong> per year on your card ending in <strong>{last4}</strong>."},{last4:d,date:i,scheduled_total:l,strong:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.default.createElement("strong",null,e)}}):s.intl.formatMessage({defaultMessage:"Starting <strong>{date}</strong>, we’ll charge you <strong>{scheduled_total}</strong> per month on your card ending in <strong>{last4}</strong>."},{last4:d,date:i,scheduled_total:l,strong:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.default.createElement("strong",null,e)}}),n.default.createElement("span",null,u," ")):(u=s.intl.formatMessage({defaultMessage:"We’ll charge your card ending in {last4}.",description:"Letting the user know which credit card will be debited by indicating the last 4 digits."},{last4:d}),n.default.createElement("span",null,u," ",this.props.renderUpdateLink))}return n.default.createElement("span",null)},t.prototype.renderDirectDebit=function(){var e=this.props,t=e.paymentMethod,a=e.isRedesignedModal,i=e.nextBillingDate,o=e.scheduleId,l=e.totalPrice;if(t){var d=t.account.slice(-4),u=void 0;return a?(u=o===r.ScheduleId.YEARLY?s.intl.formatMessage({defaultMessage:"Starting <strong>{date}</strong>, we’ll charge you <strong>{scheduled_total}</strong> per year on your IBAN ending in <strong>{last4}</strong>."},{last4:d,date:i,scheduled_total:l,strong:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.default.createElement("strong",null,e)}}):s.intl.formatMessage({defaultMessage:"Starting <strong>{date}</strong>, we’ll charge you <strong>{scheduled_total}</strong> per month on your IBAN ending in <strong>{last4}</strong>."},{last4:d,date:i,scheduled_total:l,strong:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.default.createElement("strong",null,e)}}),n.default.createElement("span",null,u," ")):(u=s.intl.formatMessage({defaultMessage:"We’ll charge your IBAN ending in {last4}.",description:"Letting the user know which debit account will be debited by indicating the last 4 digits."},{last4:d}),n.default.createElement("span",null,u," ",this.props.renderUpdateLink))}return n.default.createElement("span",null)},t.prototype.renderPaypal=function(){var e=this.props,t=e.renderUpdateLink,a=e.isRedesignedModal,i=e.nextBillingDate,o=e.scheduleId,l=e.totalPrice;if(a){var d=o===r.ScheduleId.YEARLY?s.intl.formatMessage({defaultMessage:"Starting <strong>{date}</strong>, we’ll charge you <strong>{scheduled_total}</strong> per year on your Paypal account."},{date:i,scheduled_total:l,strong:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.default.createElement("strong",null,e)}}):s.intl.formatMessage({defaultMessage:"Starting <strong>{date}</strong>, we’ll charge you <strong>{scheduled_total}</strong> per month on your Paypal account."},{date:i,scheduled_total:l,strong:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.default.createElement("strong",null,e)}});return n.default.createElement("span",null,d," ")}return n.default.createElement("span",null,s.intl.formatMessage({defaultMessage:"We’ll charge your PayPal account."})," ",t)},t.prototype.render=function(){var e=this.props,t=e.paymentMethod,a=e.paymentErrorMessage;if(!t&&a)return n.default.createElement("span",null,a," ",this.props.renderUpdateLink);if(!t)return n.default.createElement("span",null);switch(t.gateway_id){case i.BRAINTREE:return this.renderCreditCard();case i.ADYEN_SEPA_GATEWAY:return this.renderDirectDebit();case i.PAYPAL:case i.PAYPAL_REFERENCE_TRANSACTION:return this.renderPaypal();default:return n.default.createElement("span",null)}},t})((n=a.__importDefault(n)).default.Component);t.IndividualInlinePaymentMethodView=o})),define("modules/clean/account_page/widgets/plan/views/plan_card",["require","exports","tslib","react","modules/core/i18n","modules/clean/bem","classnames","spectrum/button","dig-components/buttons","modules/clean/static_urls"],(function(e,t,a,n,s,i,r,o,l,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),r=a.__importDefault(r);var u=i.bem("plan-card");t.PlanCard=function(e){var t,a,i,c;return e.isInSwitchPlanModal?(a=d.static_url("/static/images/growth/checkmark-vfljJCDEB.svg"),i=d.static_url("/static/images/growth/cross-vflscuyg9.svg"),c=e.primaryCta?n.createElement(l.Button,{className:u("btn-primary"),variant:"primary",onClick:e.primaryCta.onClick},e.primaryCta.primaryText):n.createElement(l.Button,{className:u("btn-primary"),variant:"outline",disabled:!0},s.intl.formatMessage({defaultMessage:"Current plan"}))):(a=d.static_url("/static/images/payments/plans/check-blue-vflIlMMsE.svg"),i=d.static_url("/static/images/payments/plans/cross-gray-vflwIK7NX.svg"),c=e.primaryCta?n.createElement(o.Button,{className:u("btn-primary"),variant:"primary",onClick:e.primaryCta.onClick},e.primaryCta.primaryText):null),n.createElement("div",{className:r.default(u(""),{highlighted:e.isHighlighted})},n.createElement("div",{className:r.default(u("highlight-bar"),{unhighlighted:!e.isHighlighted})}),n.createElement("div",{className:u("wrapper")},n.createElement("div",{className:u("content")},n.createElement("div",{className:u("plan-display-name")},e.planDisplayName),n.createElement("div",{className:r.default(u("price"),(t={},t[u("price","not-billed")]=e.isNotBilled,t))},e.pricePerMonth),!e.isNotBilled&&n.createElement(n.Fragment,null,n.createElement("div",{className:u("per-month")},e.isBusiness?s.intl.formatMessage({defaultMessage:"per person per month",description:"The price of a Dropbox business plan is shown above this text"}):s.intl.formatMessage({defaultMessage:"per month",description:"The price of a Dropbox plan is shown above this text"})),n.createElement("div",{className:u("billing-period")},e.isBilledMonthly?s.intl.formatMessage({defaultMessage:"billed monthly",description:"The price (per month) of a Dropbox plan is shown above this text"}):s.intl.formatMessage({defaultMessage:"billed yearly",description:"The price (per month) of a Dropbox plan is shown above this text"}))),n.createElement("div",{className:u("feature-wrapper")},e.features.map((function(e,t){return n.createElement("div",{className:u("feature-row"),key:t},e.is_included?n.createElement("img",{className:u("check-icon"),src:a,alt:s.intl.formatMessage({defaultMessage:"Included"})}):n.createElement("img",{className:u("cross-icon"),src:i,alt:s.intl.formatMessage({defaultMessage:"Not included"})}),e.display_text)})))),c))}})),define("modules/clean/account_page/widgets/plan/views/plan_status",["require","exports","tslib","modules/core/browser","react","modules/clean/viewer","modules/core/uri","modules/core/i18n","modules/clean/account_page/components/button_block","modules/core/exception","modules/core/exception","modules/clean/react/payments/update_individual_billing/update_individual_billing_modal_loader","modules/clean/account_page/widgets/billing/payment_methods_util","modules/clean/account_page/widgets/billing/payment_method_constants","modules/clean/static_urls","modules/clean/react/payments/error/browser_update_required_modal","modules/clean/payments/cash","modules/clean/account_page/widgets/plan/views/change_plan_modal","modules/clean/account_page/widgets/plan/views/change_schedule_modal","modules/clean/account_page/widgets/plan/views/cancel_subs_warning_modal","modules/clean/payments/skus/constants","modules/clean/analytics","modules/constants/trademark","classnames","spectrum/button","spectrum/tertiary_link","modules/clean/stormcrow/experiment","modules/clean/api_v2/user_client","modules/clean/account_page/util","modules/clean/payments/skus/sku_content","modules/clean/account_page/widgets/plan/views/basic_plan_status","modules/clean/ts_utils","modules/clean/stormcrow/stormcrow_exposure_logger"],(function(e,t,a,n,s,i,r,o,l,d,u,c,p,m,_,f,g,h,y,M,b,S,v,L,T,w,D,P,C,E,k,Y,N){"use strict";var x,A;Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),s=a.__importDefault(s),d=a.__importStar(d),L=a.__importDefault(L),(function(e){e[e.Cancel=0]="Cancel",e[e.Change=1]="Change",e[e.Manage=2]="Manage",e[e.Upgrade=3]="Upgrade"})(x||(x={})),(function(e){e.BUTTON="button",e.QUERY_PARAM="query_param"})(A||(A={}));var I=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isOverQuota=function(){return t.usage>t.quota},t.logSeePlanDetails=function(){S.ProEventsLogger.log("de_plan_tab_details_click")},t.cancelPlanClick=function(){t.props.isPersonalUser?n.redirect("/account/plan?modal=individual_cancel_survey"):n.redirect("/team/cancel")},t.openChangeBillingPeriodModal=function(e){return function(a){a&&a.preventDefault();var n=t.props,s=n.browserUpdateRequired,i=n.expMontana,r=n.onUpdate,o=n.paymentInfo,l=n.scheduledForDowngrade,d=n.subStatus,u=n.shouldShowRedesignedModal;N.logVariantExposure("growth_retention_account_changes",t.props.expRetentionAccountChanges),l?M.CancelChangesModalConfirmation.showInstance({transitionPerformed:r,subStatus:d,shouldShowRedesignedModal:u}):(y.ChangeScheduleModalView.showInstance({transitionPerformed:r,paymentInfo:o,browserUpdateRequired:s,expMontana:i,shouldShowRedesignedModal:u}),S.ProEventsLogger.log(e))}},t.onChangeBillingPeriodClick=t.openChangeBillingPeriodModal("de_plan_tab_change_billing_open_modal"),t.onSwitchToYearlyBillingClick=t.openChangeBillingPeriodModal("click_savings_banner"),t.onSavingsBannerClose=function(e){e.preventDefault(),(new P.UserApiV2Client).ns("montana").rpc("mark_savings_banner_as_dismissed",void 0,{subjectUserId:C.getCurrentUser().id}).then((function(){S.ProEventsLogger.log("dismiss_savings_banner"),t.props.onSavingsBannerDismissed()}))},t.onUpdateBillingClick=function(e){e.preventDefault(),t.props.browserUpdateRequired?f.BrowserUpdateModalLoader.showInstance():c.IndividualUpdateBillingModalLoader.showInstance()},t.redirectToUpgrade=function(){S.ProEventsLogger.log("de_plan_tab_upgrade_to_plus_click");var e=t.isOverQuota()?"acc_plan_upgrade_overquota_btn":"acc_plan_upgrade",a=new r.URI({path:"/upgrade",query:{oqa:e}}).toString();n.redirect(a)},t.purchaseNowClick=function(){S.ProEventsLogger.log("de_plan_tab_purchase_now_click"),n.redirect("/pro/convert")},t.cancelTrialClick=function(){S.ProEventsLogger.log("de_plan_tab_cancel_trial_click");var e=t.props.modalCallbacks;if(e&&e.openIndividualCancelSurvey)return e.openIndividualCancelSurvey();n.redirect("/account/plan?modal=individual_cancel_survey")},t.contactSupportClick=function(){S.ProEventsLogger.log("de_plan_tab_contact_support_click"),n.redirect("/support")},t.addPaymentClick=function(){S.ProEventsLogger.log("de_plan_tab_add_payment_method_click"),c.IndividualUpdateBillingModalLoader.showInstance()},t.logOpenChangePlanModal=function(){var e=t.props.subStatus;if(e&&e.subState.plan&&e.subState.plan.productClass===b.ProductClass.PLAN){var a=e.subState.plan.productType;switch(a){case b.ProductPlanType.FREE:case b.ProductPlanType.BASIC:S.ProEventsLogger.log("de_plan_tab_change_plan_open_modal_from_basic");break;case b.ProductPlanType.STANDARD:case b.ProductPlanType.TRIAL:case b.ProductPlanType.PLUS:case b.ProductPlanType.PLUS_TRIAL:case b.ProductPlanType.PLUS_WITH_SS:case b.ProductPlanType.PLUS_WITH_SS_TRIAL:S.ProEventsLogger.log("de_plan_tab_change_plan_open_modal_from_plus");break;case b.ProductPlanType.PROFESSIONAL:case b.ProductPlanType.PROFESSIONAL_TRIAL:S.ProEventsLogger.log("de_plan_tab_change_plan_open_modal_from_pro");break;case b.ProductPlanType.FAMILY_NONPAYER:d.reportException({err:new Error("Family members should not access the change plan modal"),severity:"critical"});break;case b.ProductPlanType.FAMILY_PAYER:S.ProEventsLogger.log("de_plan_tab_change_plan_open_modal_from_family_payer");break;case b.ProductPlanType.NEW_STANDARD:case b.ProductPlanType.STANDARD_TRIAL:S.ProEventsLogger.log("de_plan_tab_change_plan_open_modal_from_business_advanced");break;case b.ProductPlanType.ADVANCED:case b.ProductPlanType.ADVANCED_TRIAL:S.ProEventsLogger.log("de_plan_tab_change_plan_open_modal_from_business_advanced");break;case b.ProductPlanType.LEGACY:case b.ProductPlanType.BASIC_PLUS:case b.ProductPlanType.ENTERPRISE:case b.ProductPlanType.MOBILE:case b.ProductPlanType.PREMIUM:case b.ProductPlanType.SERVER:case b.ProductPlanType.SERVER_TRIAL:case b.ProductPlanType.STARTER:break;default:Y.enforceExhaustive(a)}}else d.reportException({err:new Error("Change plan modal opened without a plan"),severity:"non-critical"})},t.openChangePlanModal=function(e,a){void 0===a&&(a=A.BUTTON),e&&e.preventDefault(),t.props.isLoggedInUser||(t.props.isPersonalUser?n.redirect("/account/plan"):n.redirect("/team/admin/billing/manage"));var s=t.props,i=s.browserUpdateRequired,r=s.scheduledForDowngrade,o=s.paymentInfo,l=s.tryFreeTrial,d=s.plusToProTrialVariant,u=s.modalCallbacks,c=s.shouldShowRedesignedModal;if(r)M.CancelChangesModalConfirmation.showInstance({transitionPerformed:t.props.onUpdate,subStatus:t.props.subStatus,userIdOverride:t.getUserForModal(),shouldShowRedesignedModal:c});else{if("ON"===d&&u&&u.openTrialConvertModal)return u.openTrialConvertModal();if(a!==A.QUERY_PARAM&&l&&u&&u.openTrialStartModal)return u.openTrialStartModal();if(a===A.BUTTON&&N.logVariantExposure("growth_retention_account_changes",t.props.expRetentionAccountChanges),a!==A.QUERY_PARAM&&c&&u&&u.openSwitchPlanModal)return u.openSwitchPlanModal();h.ChangePlanModalView.showInstance({browserUpdateRequired:i,transitionPerformed:t.props.onUpdate,paymentInfo:o,userIdOverride:t.getUserForModal(),expMontana:t.props.expMontana}),t.logOpenChangePlanModal()}},t.renderContactSupportLink=function(){return s.default.createElement("div",{className:"plan-status-section__contact_support_link"},s.default.createElement("a",{href:"#",onClick:t.contactSupportClick},o.intl.formatMessage({defaultMessage:"Contact support to change plan",description:"Link for users to contact customer support"})))},t.renderPlanDetailsButton=function(){var e=t.props,a=e.handlePlanDetailsExpand,n=e.shouldShowPlanDetails?o.intl.formatMessage({defaultMessage:"Hide details",description:"Button that hides features of a Dropbox plan"}):o.intl.formatMessage({defaultMessage:"What’s included?",description:"Button that shows features of a Dropbox plan"});return s.default.createElement(w.TertiaryLink,{onClick:a},n)},t.renderPlanDetailsList=function(){var e=t.props,a=e.plusSkuContent,n=e.subStatus;if(a&&n){var i=E.SkuContentClient.deserialize(a),r=[o.intl.formatMessage({defaultMessage:"{storage_space} of storage",description:"short description of how much space a Dropbox plan has"},{storage_space:i.spaceLongFormRounded()}),o.intl.formatMessage({defaultMessage:"{count, plural, one{{count}-day version history and file recovery} other{{count}-day version history and file recovery}}",description:"short description of extended version history, a feature in a paid plan"},{count:n.vacuumingPolicyMaxDays}),o.intl.formatMessage({defaultMessage:"Sync all your files automatically across all your devices",description:"feature of a Dropbox plan"})].map((function(e,t){return s.default.createElement("li",{className:"feature-item",key:t},e)}));return s.default.createElement("ul",{className:"features-list"},r)}},t.renderBillingDisabledMessage=function(){var e=t.props,a=e.paymentInfo,n=e.scheduledForDowngrade,i=e.hasUnusedLicenseKey,r=e.showChangeBillingPeriod;if(a&&r&&!i){var o=a.gateway_id,l=a.is_reseller_billing,d=a.end_date,u=a.deactivated,c=a.is_on_trial,m=a.reseller_name,_=a.reseller_link;if((!a.schedule_switchable&&!n||p.shouldHideBillingChange(o,l))&&!t.isTrialPlan()){var f=p.getBillingDisabledMessage({gatewayId:o,isResellerBilling:l,resellerName:m,resellerLink:_,dropboxPlan:v.TRADEMARK_PLUS,endDate:d,deactivated:u,isOnTrial:c});return s.default.createElement("span",{className:"plan-status-section__message"},f)}}},t.renderPlanStatusExpWayfinding=function(e,a,n){return s.default.createElement("div",{className:"plan-status__exp-retention-account-wayfinding"},s.default.createElement("div",{className:"current-plan-badge"},o.intl.formatMessage({defaultMessage:"CURRENT PLAN",description:"Used in a small, brightly colored badge to highlight the users current plan"})),s.default.createElement("div",{className:"plan-status-section"},t.renderDropboxLogo(),s.default.createElement("div",{className:"plan-status-section__description"},s.default.createElement("h1",{className:"plan-status-section__title"},e),n,t.renderBillingDisabledMessage(),t.renderPlanDetailsButton()),a),t.props.shouldShowPlanDetails&&t.renderPlanDetailsList())},t.renderBillingPeriod=function(){var e=t.props,a=e.paymentInfo,n=e.scheduledForDowngrade,i=e.hasUnusedLicenseKey;if(!t.isFamilyNonPayerPlan()&&a&&t.props.showChangeBillingPeriod&&!i){var r=a.gateway_id,l=a.is_reseller_billing,d=a.end_date,u=a.deactivated,c=a.is_on_trial,m=a.reseller_name,_=a.reseller_link;if(!a.schedule_switchable&&!n&&!t.isProfessionalTrial()||p.shouldHideBillingChange(r,l)){var f=p.getBillingDisabledMessage({gatewayId:r,isResellerBilling:l,resellerName:m,resellerLink:_,dropboxPlan:v.TRADEMARK_PLUS,endDate:d,deactivated:u,isOnTrial:c});return s.default.createElement("span",{className:"plan-status-section__message"},f)}if(!t.isPlusTrial())return a.is_in_grace_period?s.default.createElement("a",{href:"#",className:"plan-status-section__link",onClick:t.onUpdateBillingClick},o.intl.formatMessage({defaultMessage:"Please update your billing information",description:"Link for users to update their billing information"})):s.default.createElement("a",{href:"#",className:"plan-status-section__link","data-test":"change-billing-link",onClick:t.onChangeBillingPeriodClick},o.intl.formatMessage({defaultMessage:"Change billing period",description:"Link for users to update their billing period"}))}},t.changePlanClick=function(){t.props.subStatus.subState.plan.isEnterprise?n.redirect("/team/admin/help?role=work"):n.redirect("/team/admin/billing/manage?show_switch_plan")},t.managePlanClick=function(){n.redirect("/team/admin/billing/manage")},t.createTrialCtaButtons=function(e,a){return void 0===e&&(e=!0),void 0===a&&(a=!1),a?s.default.createElement("div",{className:"plan-status-section__upgrade_btn trial-cta"},s.default.createElement("button",{className:"mc-button mc-button-secondary cancel-button",onClick:t.cancelTrialClick},o.intl.formatMessage({defaultMessage:"Cancel trial",description:"Button to cancel the users trial"}))):e?s.default.createElement("div",{className:"plan-status-section__upgrade_btn trial-cta"},s.default.createElement("button",{className:"button-primary purchase-button",onClick:t.purchaseNowClick},o.intl.formatMessage({defaultMessage:"Purchase Now",description:"Button to purchase a Dropbox plan"})),s.default.createElement("button",{className:"mc-button mc-button-secondary cancel-button",onClick:t.cancelTrialClick},o.intl.formatMessage({defaultMessage:"Cancel trial",description:"Button to cancel the users trial"}))):s.default.createElement("div",{className:"plan-status-section__upgrade_btn trial-cta"},s.default.createElement("button",{className:"button-primary purchase-button",onClick:t.purchaseNowClick},o.intl.formatMessage({defaultMessage:"Purchase Now",description:"Button to purchase a Dropbox plan"})))},t.redirectToPlansPage=function(){S.ProEventsLogger.log("de_plan_tab_see_other_plans_family_member_click"),n.redirect(t.plansURL)},t.logUpgradeOverquotaBtn=function(e){S.GrowthEventsLogger.log("acc_plan_upgrade_overquota_btn",{action:e,button_text:"Upgrade now",destination_url:"http://www.dropbox.com/upgrade",location:"in_product",quota_status:"over",upsell_type:"modal"})},t.onUpgradePlanButtonClick=function(){t.logUpgradeOverquotaBtn("click"),t.redirectToUpgrade()},t}return a.__extends(t,e),t.prototype.componentDidMount=function(){var e=r.URI.parse(n.get_href()).getQuery().modal;e&&("plan"===e&&this.isChangePlanSupported()?this.openChangePlanModal(void 0,A.QUERY_PARAM):"downgrade"===e&&this.props.scheduledForDowngrade&&M.CancelChangesModalConfirmation.showInstance({transitionPerformed:this.props.onUpdate,subStatus:this.props.subStatus,userIdOverride:this.getUserForModal()}))},t.prototype.isChangePlanSupported=function(){var e,t=this.props,a=t.subStatus,n=t.eligibleFor1tb,s=t.isExternallyBilled,i=t.paymentInfo;if(!this.isInStandardSchedule())return!1;if(n)return!1;if(i&&(null===(e=null==a?void 0:a.subState.plan)||void 0===e?void 0:e.productClass)===b.ProductClass.PLAN){var r=a.subState.plan.productType;if(p.shouldHideBillingChange(i.gateway_id,s))return!1;switch(r){case b.ProductPlanType.PROFESSIONAL:case b.ProductPlanType.PLUS:case b.ProductPlanType.STANDARD:case b.ProductPlanType.FAMILY_PAYER:return!0;case b.ProductPlanType.FAMILY_NONPAYER:case b.ProductPlanType.FREE:case b.ProductPlanType.BASIC:case b.ProductPlanType.TRIAL:case b.ProductPlanType.PLUS_TRIAL:case b.ProductPlanType.PLUS_WITH_SS:case b.ProductPlanType.PLUS_WITH_SS_TRIAL:case b.ProductPlanType.PROFESSIONAL_TRIAL:case b.ProductPlanType.NEW_STANDARD:case b.ProductPlanType.STANDARD_TRIAL:case b.ProductPlanType.ADVANCED:case b.ProductPlanType.ADVANCED_TRIAL:case b.ProductPlanType.LEGACY:case b.ProductPlanType.BASIC_PLUS:case b.ProductPlanType.ENTERPRISE:case b.ProductPlanType.MOBILE:case b.ProductPlanType.PREMIUM:case b.ProductPlanType.SERVER:case b.ProductPlanType.SERVER_TRIAL:case b.ProductPlanType.STARTER:return!1;default:Y.enforceExhaustive(r)}}return!1},Object.defineProperty(t.prototype,"usage",{get:function(){return this.props.usageBreakdown.usage},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"quota",{get:function(){return this.props.usageBreakdown.quota||.01},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"plansURL",{get:function(){var e=this.props,t=e.isLoggedInUser,a={oqa:"acc_plan_upgrade"};return e.isTransactionInformationPage&&!t&&(a.trigger="nr"),new r.URI({path:"/plans",query:a}).toString()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"evhDisplayName",{get:function(){var e=this.props.evhInfo;return e.purchased?e.is_unlimited_evh?o.intl.formatMessage({defaultMessage:"unlimited version history",description:"appended to a Dropbox plan name e.g. Dropbox Plus"}):o.intl.formatMessage({defaultMessage:"extended version history",description:"appended to a Dropbox plan name e.g. Dropbox Plus"}):""},enumerable:!0,configurable:!0}),t.prototype.renderCancelPlanButton=function(){return this.props.isLoggedInUser&&!this.props.isLoggedInAsTransactionOwner?this.renderLoginInstructions(x.Cancel):s.default.createElement("div",{className:"plan-status-section__upgrade_btn"},s.default.createElement("button",{className:"mc-button-secondary",onClick:this.cancelPlanClick},o.intl.formatMessage({defaultMessage:"Cancel plan",description:"Button to cancel plan"})))},t.prototype.isPlusPlan=function(){var e=this.props.subStatus;return!(!e||!e.subState.plan)&&(e.subState.plan.productType===b.ProductPlanType.STANDARD||e.subState.plan.productType===b.ProductPlanType.PLUS)},t.prototype.isProfessionalPlan=function(){var e=this.props.subStatus;return!(!e||!e.subState.plan)&&(e.subState.plan.productType===b.ProductPlanType.PROFESSIONAL||e.subState.plan.productType===b.ProductPlanType.PROFESSIONAL_TRIAL)},t.prototype.isFamilyPayerPlan=function(){var e,t;return(null===(t=null===(e=this.props.subStatus)||void 0===e?void 0:e.subState.plan)||void 0===t?void 0:t.productType)===b.ProductPlanType.FAMILY_PAYER},t.prototype.isFamilyNonPayerPlan=function(){var e,t;return(null===(t=null===(e=this.props.subStatus)||void 0===e?void 0:e.subState.plan)||void 0===t?void 0:t.productType)===b.ProductPlanType.FAMILY_NONPAYER},t.prototype.isFamilyPlan=function(){return this.isFamilyPayerPlan()||this.isFamilyNonPayerPlan()},t.prototype.isFreePlusPlan=function(){var e=this.props.subStatus;return!(!e||!e.subState.plan)&&e.subState.plan.productType===b.ProductPlanType.FREE},t.prototype.isInStandardSchedule=function(){var e=this.props.subStatus;if(e&&e.subState&&e.subState.billingSchedule){var t=e.subState.billingSchedule.id;return t===b.ScheduleId.MONTHLY||t===b.ScheduleId.YEARLY}return!1},t.prototype.pendingScheduledChange=function(){return this.isPlanScheduledToChange()||this.isBillingScheduleToChange()||this.isEvhScheduledToChange()},t.prototype.isTaurusPlan=function(){var e=this.props.subStatus;if(e&&e.subState.plan){var t=e.subState.plan.productType;return t===b.ProductPlanType.PLUS||t===b.ProductPlanType.PLUS_TRIAL||t===b.ProductPlanType.PROFESSIONAL||t===b.ProductPlanType.PROFESSIONAL_TRIAL||t===b.ProductPlanType.PLUS_WITH_SS||t===b.ProductPlanType.PLUS_WITH_SS_TRIAL}return!1},t.prototype.isPlanScheduledToChange=function(){var e=this.props,t=e.subStatus;return!!e.scheduledForDowngrade||!!(t&&t.subState.plan&&t.finalSubState.plan)&&t.subState.plan.productType!==t.finalSubState.plan.productType},t.prototype.isEvhScheduledToChange=function(){var e=this.props.subStatus;return!(!e||!e.scheduledSubState)&&e.subState.quantityForEvhAddOn()!==e.scheduledSubState.quantityForEvhAddOn()},t.prototype.isBillingScheduleToChange=function(){var e=this.props.subStatus;return!!(e&&e.subState.billingSchedule&&e.finalSubState.billingSchedule)&&e.subState.billingSchedule.id!==e.finalSubState.billingSchedule.id},t.prototype.shouldDisplayChangePlan=function(){var e=this.getGatewayId();return e!==m.NOT_APPLICABLE&&!p.shouldHidePaymentMethod(e)&&!this.props.hasUnusedLicenseKey},t.prototype.getGatewayId=function(){var e=this.props.paymentInfo;return e?e.gateway_id:m.NOT_APPLICABLE},t.prototype.isTrialPlan=function(){return this.isPlusTrial()||this.isProfessionalTrial()},t.prototype.isPlusTrial=function(){var e=this.props.subStatus;return!(!e||!e.subState.plan)&&(e.subState.plan.productType===b.ProductPlanType.TRIAL||e.subState.plan.productType===b.ProductPlanType.PLUS_TRIAL)},t.prototype.isProfessionalTrial=function(){var e=this.props.subStatus;return!(!e||!e.subState.plan)&&e.subState.plan.productType===b.ProductPlanType.PROFESSIONAL_TRIAL},t.prototype.isLicensePlan=function(){var e=this.props,t=e.hasLicenseKey,a=e.paymentInfo;return!!a&&(t||p.isLicenseKey(a.gateway_id))},t.prototype.renderLoginInstructions=function(e){var t,a;return a=this.props.userEmail?this.props.userEmail:o.intl.formatMessage({defaultMessage:"the account user",description:"this text is used when we dont have the user email. The full text is `Please login as the account user to cancel your plan`"}),t=e===x.Cancel?o.intl.formatMessage({defaultMessage:"Please login as {email}{br}to cancel your plan.",description:"Prompts user to login in order to cancel their plan"},{br:s.default.createElement("br",null),email:a}):e===x.Change?o.intl.formatMessage({defaultMessage:"Please login as {email}{br}to change your plan.",description:"Prompts user to login in order to change their plan"},{br:s.default.createElement("br",null),email:a}):e===x.Manage?o.intl.formatMessage({defaultMessage:"Please login as {email}{br}to manage your plan.",description:"Prompts user to login in order to manage their plan"},{br:s.default.createElement("br",null),email:a}):e===x.Upgrade?o.intl.formatMessage({defaultMessage:"Please login as {email}{br}to upgrade your plan.",description:"Prompts user to login in order to upgrade their plan"},{br:s.default.createElement("br",null),email:a}):o.intl.formatMessage({defaultMessage:"Please login as {email}.",description:"Prompts user to login"},{email:a}),s.default.createElement("div",{className:"plan-status-section__login-msg"},t)},t.prototype.getUserForModal=function(){var e=this.props,t=e.isPersonalUser,a=e.useSpecifiedRole,n=e.isLoggedInAsTransactionOwner,s=null;if(a&&n){var r=i.Viewer.get_viewer();s=t?r.personal_user?r.personal_user.id:null:r.work_user?r.work_user.id:null,u.assert(null!=s,"Could not find user for specified role; modal will fail")}return s},t.prototype.renderDropboxLogo=function(){return s.default.createElement("div",{className:"plan-status-section__icon u-mar-right-s"},s.default.createElement("img",{src:_.static_url("/static/images/logo_catalog/dropbox-business-icon_m1-vflczuza3.svg"),alt:""}))},t.prototype.getTeamName=function(){return this.props.isLoggedInAsTransactionOwner&&i.Viewer.get_viewer().team_name?i.Viewer.get_viewer().team_name:this.props.teamName?this.props.teamName:null},t.prototype.renderChangePlanButton=function(e){var t=this.props,a=t.paymentInfo,n=t.eligibleForPlusToProTrial;if(this.props.isLoggedInUser&&!this.props.isLoggedInAsTransactionOwner)return this.renderLoginInstructions(x.Change);var i=this.isFamilyNonPayerPlan()?o.intl.formatMessage({defaultMessage:"See other plans",description:"Button redirecting user to a page listing all Dropbox plans"}):o.intl.formatMessage({defaultMessage:"Change plan",description:"Button for users to change their plan"});return s.default.createElement("div",{className:"plan-status-section__upgrade_btn"},s.default.createElement(T.Button,{className:"jest-change-plan-button",variant:!0===n?"secondary":"primary",onClick:e,disabled:a&&a.is_in_grace_period},i))},t.prototype.renderManagePlanButton=function(){return this.props.isLoggedInUser&&!this.props.isLoggedInAsTransactionOwner?this.renderLoginInstructions(x.Manage):s.default.createElement("div",{className:"plan-status-section__upgrade_btn"},s.default.createElement("button",{className:"button-tertiary",onClick:this.managePlanClick},o.intl.formatMessage({defaultMessage:"Manage plan",description:"Manage plan (typically displayed for business admin users)"})))},t.prototype.renderBusinessPlanSection=function(){var e=this.props,t=e.subStatus,a=e.isTeamAdmin,n=e.scheduledForDowngrade,r=e.showCancelButton;if(t&&t.subState.isDeactivatedTeam)return this.renderBasicPlanSection();if(t&&t.subState.plan){var l=t.subState.plan.productType===b.ProductPlanType.STANDARD,d=t.subState.plan.displayName(!1,l);l||(d=o.intl.formatMessage({defaultMessage:"{trade_mark} {plan_title}",description:"e.g. Business Standard"},{trade_mark:v.TRADEMARK_BUSINESS,plan_title:d}));var u,c,p="",m=this.getTeamName();m&&(a?(p=o.intl.formatMessage({defaultMessage:"You’re an admin of the {team_name} Dropbox account.",description:"Description of the users current plan"},{team_name:m}),this.props.isLoggedInAsTransactionOwner||(p=o.intl.formatMessage({defaultMessage:"This account is an admin of the {team_name} Dropbox account.",description:"Description of the users current plan"},{team_name:m}))):(p=o.intl.formatMessage({defaultMessage:"You’re a member of the {team_name} Dropbox account.",description:"Description of the users current plan"},{team_name:m}),this.props.isLoggedInAsTransactionOwner||(p=o.intl.formatMessage({defaultMessage:"This account is a member of the {team_name} Dropbox account.",description:"Description of the users current plan"},{team_name:m}))));var _=i.Viewer.get_viewer();if(this.props.isLoggedInUser&&!this.props.isLoggedInAsTransactionOwner)u=this.renderLoginInstructions(),c=null;else if(a||!this.props.isLoggedInUser){var f=t.subState.plan.productType;if(f===b.ProductPlanType.STANDARD||f===b.ProductPlanType.NEW_STANDARD||f===b.ProductPlanType.STANDARD_TRIAL?u=this.renderChangePlanButton(this.changePlanClick):f!==b.ProductPlanType.ADVANCED&&f!==b.ProductPlanType.ADVANCED_TRIAL||(u=this.renderManagePlanButton()),r&&(u=n?this.renderManagePlanButton():this.renderCancelPlanButton()),!t.subState.plan.isEnterprise){var g=o.intl.formatMessage({defaultMessage:"Manage your team in the Admin Console",description:"Link to the business admin console"});this.props.isLoggedInAsTransactionOwner||(g=o.intl.formatMessage({defaultMessage:"Manage this team in the Admin Console",description:"Link to the business admin console"})),c=s.default.createElement("p",null,s.default.createElement("a",{className:"plan-status-section__link",href:"/team/admin/billing/manage"},g))}}else!a&&_.is_paired&&(c=s.default.createElement("p",null,o.intl.formatMessage({defaultMessage:"Looking for details on another plan?",description:"Looking for details on another plan?"})," ",s.default.createElement("a",{className:"plan-status-section__link plan-status-section__link--inline",href:"/account/plan?role=personal"},o.intl.formatMessage({defaultMessage:"Visit your personal account page.",description:"Link for paired users to view details on their personal plan"}))));var h="";this.props.showTeamScheduledForDowngrade&&n&&(h=o.intl.formatMessage({defaultMessage:"Any active members of your {plan} team will be downgraded to Dropbox Basic accounts on {date}.",description:"Description for plans scheduled to downgrade to Basic"},{plan:d,date:t.formattedNextBillingDate}),this.props.isLoggedInAsTransactionOwner||(h=o.intl.formatMessage({defaultMessage:"Any active members of the {plan} team will be downgraded to Dropbox Basic accounts on {date}.",description:"Description for plans scheduled to downgrade to Basic"},{plan:d,date:t.formattedNextBillingDate})));var y=L.default({"plan-status-section":!0,"is-merged-tab":this.props.isMergedTab});return s.default.createElement("div",{className:y},this.renderDropboxLogo(),s.default.createElement("div",{className:"plan-status-section__description"},s.default.createElement("h1",{className:"plan-status-section__title"},d),s.default.createElement("span",null,p),s.default.createElement("br",null),s.default.createElement("span",null,h),c),u)}},t.prototype.showBasicPlanWithTrial=function(){var e=this.props.trialsConfig;return e&&e.trialBanner&&e.currentPlan&&e.currentPlan.skuContent&&e.currentPlan.skuContent.name===v.TRADEMARK_BASIC},t.prototype.renderUpgradePlanButton=function(e,t,a){if(this.props.trialsConfig&&this.props.trialsConfig.trialBanner)return s.default.createElement("div",null);if(this.props.isLoggedInUser&&!this.props.isLoggedInAsTransactionOwner)return this.renderLoginInstructions(x.Upgrade);this.isOverQuota()&&this.logUpgradeOverquotaBtn("view");var n=t||this.onUpgradePlanButtonClick,i=a?function(){a(),n()}:void 0;return s.default.createElement("div",{className:"plan-status-section__upgrade_btn"},s.default.createElement("button",{className:"button-primary",onClick:i||n},e))},t.prototype.renderBasicPlanSection=function(){var e=this.props,t=e.subStatus,a=e.isLimitedTeam,n=e.modalCallbacks,i=e.expRetentionAccountChangesBasic,r=v.DROPBOX_BASIC;if(t){!this.showBasicPlanWithTrial()&&t.subState.plan&&(r=t.subState.plan.displayName());var l=void 0;if(a||t.subState.isDeactivatedTeam){var d=this.getTeamName(),u=o.intl.formatMessage({defaultMessage:"You’re a member of the {team_name} Dropbox account.",description:"Description of the users current plan"},{team_name:d});this.props.isLoggedInAsTransactionOwner||(u=o.intl.formatMessage({defaultMessage:"This account is a member of the {team_name} Dropbox account.",description:"Description of the users current plan"},{team_name:d})),l=s.default.createElement("p",{className:"plan-status-section__team_desc"},u)}var c,p=this.isOverQuota()?o.intl.formatMessage({defaultMessage:"Upgrade now",description:"Button shown to overquota users to purchase a larger plan"}):o.intl.formatMessage({defaultMessage:"Upgrade",description:"Button shown to overquota users to purchase a larger plan"}),m=function(){N.logVariantExposure("growth_retention_account_changes_basic",i)};return c=D.Experiment(i).isActive&&n?this.renderUpgradePlanButton(p,n.openSwitchPlanModal,m):this.renderUpgradePlanButton(p,void 0,m),s.default.createElement(k.BasicPlanStatusSection,{planName:r,plansUrl:this.plansURL,limitedTeam:l,upgradePlanButton:c,expRetentionAccountChangesBasic:i})}},t.prototype.renderResellerPlan=function(){var e=o.intl.formatMessage({defaultMessage:"Dropbox {plus} 1TB",description:"plan name"},{plus:v.TRADEMARK_PLUS});return s.default.createElement("div",{className:"plan-status-section"},this.renderDropboxLogo(),s.default.createElement("div",{className:"plan-status-section__description"},s.default.createElement("h1",{className:"plan-status-section__title"},e),s.default.createElement("p",{className:"plan-status-section__title_description"},this.renderBillingPeriod())))},t.prototype.renderPaidPlanSection=function(){var e=this.props,t=e.subStatus,a=e.evhInfo,n=e.isLimitedTeam,i=e.hasUnusedLicenseKey,r=e.paymentInfo,l=e.scheduledForDowngrade,d=e.tryFreeTrial,u=e.hideSavingsBanner,c=e.expRetentionAccountWayfinding;if(t&&t.scheduledSubState&&t.subState.plan){var m,_=t.subState.plan;if(1024===_.specQuotaGb){var f=this.getGatewayId(),h=t.subState.plan.displayName(!1,!1,f);m=a.purchased?o.intl.formatMessage({defaultMessage:"Dropbox {plus} + {evh}",description:"evh = Extended Version History"},{plus:h,evh:this.evhDisplayName}):o.intl.formatMessage({defaultMessage:"Dropbox {plus}",description:"Dropbox Plus"},{plus:h})}else this.isFamilyPlan()?m=o.intl.formatMessage({defaultMessage:"Dropbox {family}",description:"Dropbox Family"},{family:_.displayName()}):(m=t.subState.plan.displayName(!0),a.purchased&&(m=o.intl.formatMessage({defaultMessage:"{plus} + {evh}",description:"evh = Extended Version History"},{plus:m,evh:this.evhDisplayName})));var y,M=void 0,S=void 0,v="",T=t.subState&&t.subState.plan&&t.subState.plan.productType&&t.subState.plan.productType===b.ProductPlanType.PLUS&&t.subState.billingSchedule&&t.subState.billingSchedule.id===b.ScheduleId.MONTHLY;if(r&&p.shouldHideBillingSummary(r.gateway_id,t.subState.plan.productType)?v="":t.nextBillingSummary&&t.finalSubState.billingSchedule&&(v=o.intl.formatMessage({defaultMessage:"{total} per {period}.",description:"payment expected every month or year"},{total:g.Cash.formatWithTaxLabels(t.nextBillingSummary.total,t.nextBillingSummary),period:t.finalSubState.billingSchedule.scheduleDescriptionNoun})),i&&(v=o.intl.formatMessage({defaultMessage:"Your license key will be activated and no charge made to your payment method on file.",description:"shown to users with an unused license key"}),this.props.isLoggedInAsTransactionOwner||(v=o.intl.formatMessage({defaultMessage:"This account’s license key will be activated and no charge made to the payment method on file.",description:"shown to users with an unused license key"}))),r&&!p.shouldHideBillingChange(r.gateway_id,r.is_reseller_billing)){var w="";if(this.pendingScheduledChange()&&t.scheduledSubState&&t.scheduledSubState.plan&&t.scheduledSubState.billingSchedule){var P=void 0;if(1024===t.scheduledSubState.plan.specQuotaGb){h=t.scheduledSubState.plan.displayName(!1);P=a.purchased&&!a.scheduled_to_remove?o.intl.formatMessage({defaultMessage:"Dropbox {plus} + {evh}",description:"evh = Extended Version History"},{plus:h,evh:this.evhDisplayName}):o.intl.formatMessage({defaultMessage:"Dropbox {plus}",description:"Dropbox Plus"},{plus:h})}else P=t.scheduledSubState.plan.displayName(!0),a.purchased&&!a.scheduled_to_remove&&(P=o.intl.formatMessage({defaultMessage:"{plus} + {evh}",description:"evh = Extended Version History"},{plus:P,evh:this.evhDisplayName}));w=o.intl.formatMessage({defaultMessage:"Starting on {date}, we’ll bill you once a {new_period_noun} for your {plan} plan. Your new {new_period_adj} total will be {new_amount}.",description:"Summary of billing changes"},{date:t.formattedNextBillingDate,new_period_noun:t.scheduledSubState.billingSchedule.scheduleDescriptionNoun,plan:P,new_period_adj:t.scheduledSubState.billingSchedule.scheduleDescriptionAdjective,new_amount:g.Cash.formatWithTaxLabels(t.nextBillingSummary.total,t.nextBillingSummary)}),this.props.isLoggedInAsTransactionOwner||(w=o.intl.formatMessage({defaultMessage:"Starting on {date}, we’ll bill this account once a {new_period_noun} for the {plan} plan. This account’s new {new_period_adj} total will be {new_amount}.",description:"Summary of billing changes"},{date:t.formattedNextBillingDate,new_period_noun:t.scheduledSubState.billingSchedule.scheduleDescriptionNoun,plan:P,new_period_adj:t.scheduledSubState.billingSchedule.scheduleDescriptionAdjective,new_amount:g.Cash.formatWithTaxLabels(t.nextBillingSummary.total,t.nextBillingSummary)}))}else T?(w=s.default.createElement("span",null,o.intl.formatMessage({defaultMessage:"You’ve got: {quota} of storage | Dropbox Smart Sync | Dropbox Rewind",description:"features a user has"},{quota:t.subState.plan.longFormSpecQuotaGb}),s.default.createElement("br",null),o.intl.formatMessage({defaultMessage:"Next billing date: {date}",description:"next billing date"},{date:t.formattedNextBillingDate}),s.default.createElement("br",null),o.intl.formatMessage({defaultMessage:"{billing_summary}",description:"billing summary"},{billing_summary:v})),this.props.isLoggedInAsTransactionOwner||(w=s.default.createElement("span",null,o.intl.formatMessage({defaultMessage:"This account’s got: {quota} of storage | Dropbox Smart Sync | Dropbox Rewind",description:"features a user has"},{quota:t.subState.plan.longFormSpecQuotaGb}),s.default.createElement("br",null),o.intl.formatMessage({defaultMessage:"Next billing date: {date}",description:"next billing date"},{date:t.formattedNextBillingDate}),s.default.createElement("br",null),o.intl.formatMessage({defaultMessage:"{billing_summary}",description:"billing summary"},{billing_summary:v})))):this.isFamilyPayerPlan()?w=o.intl.formatMessage({defaultMessage:"You’re the manager of the {family} plan.",description:"The user is the manager of a Dropbox Family plan."},{family:_.displayName()}):this.isFamilyNonPayerPlan()?w=o.intl.formatMessage({defaultMessage:"You’re a member of the {family} plan.",description:"The user is the member of a Dropbox Family plan."},{family:_.displayName()}):(w=o.intl.formatMessage({defaultMessage:"Your {plan} plan will renew on {date}. {billing_summary}",description:"Plan and billing information"},{plan:m,date:t.formattedNextBillingDate,billing_summary:v}),this.props.isLoggedInAsTransactionOwner||(w=o.intl.formatMessage({defaultMessage:"This account’s {plan} plan will renew on {date}. {billing_summary}",description:"Plan and billing information"},{plan:m,date:t.formattedNextBillingDate,billing_summary:v})));M=s.default.createElement("span",{className:"plan-status-section__description-content"},w," ")}if(l){var C=o.intl.formatMessage({defaultMessage:"Your {plan} will downgrade to Dropbox Basic on {date}.",description:"Description for plans scheduled to downgrade to basic"},{plan:m,date:t.formattedNextBillingDate});this.props.isLoggedInAsTransactionOwner||(C=o.intl.formatMessage({defaultMessage:"This account’s {plan} will downgrade to Dropbox Basic on {date}.",description:"Description for plans scheduled to downgrade to basic"},{plan:m,date:t.formattedNextBillingDate})),M=s.default.createElement("span",null,C," ")}if(n){var E=this.getTeamName(),k=o.intl.formatMessage({defaultMessage:"You’re a member of the {team_name} Dropbox account.",description:"Description for a users current plan"},{team_name:E});this.props.isLoggedInAsTransactionOwner||(k=o.intl.formatMessage({defaultMessage:"This account is a member of the {team_name} Dropbox account.",description:"Description for a users current plan"},{team_name:E})),S=s.default.createElement("p",{className:"plan-status-section__team_desc"},k)}!r||p.shouldHideBillingChange(r.gateway_id,r.is_reseller_billing)||this.isInStandardSchedule()||(y=this.renderContactSupportLink()),this.shouldDisplayChangePlan()&&this.isInStandardSchedule()&&!this.isTrialPlan()&&(this.isFamilyNonPayerPlan()?y=this.renderChangePlanButton(this.redirectToPlansPage):this.isPlusPlan()?"ON"!==this.props.plusToProTrialVariant&&(y=this.renderChangePlanButton(this.openChangePlanModal)):(this.isFamilyPayerPlan()||this.isProfessionalPlan())&&(y=this.renderChangePlanButton(this.openChangePlanModal))),this.props.showCancelButton&&!l&&(y=this.renderCancelPlanButton()),(this.isFreePlusPlan()||i)&&(y=this.renderContactSupportLink());var Y=L.default("plan-status-section",{"plan-status-section--is-plus-monthly":T}),N=T&&!u&&!(r&&p.shouldHideBillingChange(r.gateway_id,r.is_reseller_billing));return D.Experiment(c).isActive?this.renderPlanStatusExpWayfinding(m,y):s.default.createElement("div",null,s.default.createElement("div",{className:Y},this.renderDropboxLogo(),s.default.createElement("div",{className:"plan-status-section__description"},s.default.createElement("h1",{className:"plan-status-section__title"},m),S,s.default.createElement("p",{className:"plan-status-section__title_description"},M,!i&&this.renderPlanDetails(),s.default.createElement("br",null),!T&&this.renderBillingPeriod()),d),y),N&&this.renderSavingsBanner(),T&&this.renderYourNextCharge())}},t.prototype.renderPlanDetails=function(){var e;return e=this.isTaurusPlan()?o.intl.formatMessage({defaultMessage:"See plan details",description:"Link redirecting to a page with all Dropbox plans"}):this.isFamilyPlan()?o.intl.formatMessage({defaultMessage:"What’s included?",description:"Link redirecting to a page with all Dropbox plans"}):o.intl.formatMessage({defaultMessage:"See available plans",description:"Link redirecting to a page with all Dropbox plans"}),s.default.createElement("a",{className:"plan-status-section__link",onClick:this.logSeePlanDetails,href:this.plansURL,target:"_blank",rel:"noopener noreferrer"},e)},t.prototype.renderSavingsBanner=function(){var e=this;return S.ProEventsLogger.log("view_savings_banner"),s.default.createElement("div",{className:"savings-banner"},o.intl.formatMessage({defaultMessage:"Save up to {save_percentage, number, ::percent .##} when you <a>switch to yearly billing.</a>",description:"Upsell encouraging users to switch to yearly billing"},{save_percentage:.17,a:function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];return s.default.createElement("a",{href:"#","data-test":"yearly-billing-switch",onClick:e.onSwitchToYearlyBillingClick},t)}}),s.default.createElement("button",{"aria-label":o.intl.formatMessage({defaultMessage:"Dismiss Banner",description:"just an aria label"}),className:"savings-banner__dismiss-btn",onClick:this.onSavingsBannerClose}))},t.prototype.renderYourNextCharge=function(){var e=this.props.subStatus;return e&&e.nextBillingSummary&&e.finalSubState.billingSchedule?s.default.createElement(l.ButtonBlock,{label:o.intl.formatMessage({defaultMessage:"Your next charge",description:"Next to this text is information about the next billing charge"}),subtext:o.intl.formatMessage({defaultMessage:"Your Dropbox Plus plan will renew on {date} for {total} per {period}.",description:"future plan and billing information"},{date:e.formattedNextBillingDate,total:g.Cash.formatWithTaxLabels(e.nextBillingSummary.total,e.nextBillingSummary),period:e.finalSubState.billingSchedule.scheduleDescriptionNoun}),buttonText:o.intl.formatMessage({defaultMessage:"Switch to yearly",description:"switch to yearly billing"}),kind:"secondary",buttonAction:{kind:"function",handler:this.onChangeBillingPeriodClick},"data-test":"yearly-billing-switch"}):null},t.prototype.renderTrialSection=function(){var e=this.props,t=e.subStatus,a=e.paymentInfo,n=e.expRetentionAccountWayfinding;if(t&&t.subState&&t.subState.plan&&a){var i=a.gateway_id,r=a.trial_info;if(r){var l=s.default.createElement("noscript",null);p.isIOS(i)||(l=this.createTrialCtaButtons(!r.is_trial_overdue,this.isProfessionalTrial()));var d,u=o.intl.formatMessage({defaultMessage:"Dropbox {plus}",description:"Dropbox Plus"},{plus:t.subState.plan.displayName(!1,!1,i)});return r.is_trial_overdue&&(u+=" "+o.intl.formatMessage({defaultMessage:"(Expired)",description:"appended to the plan name of a Dropbox trial"})),d=this.isProfessionalTrial()?p.getProfessionalTrialPlanDescription(t):p.getTrialDescription(i,r,t.formattedNextBillingDate),D.Experiment(n).isActive?this.renderPlanStatusExpWayfinding(u,l,d):s.default.createElement("div",{className:"plan-status-section"},this.renderDropboxLogo(),s.default.createElement("div",{className:"plan-status-section__description"},s.default.createElement("h1",{className:"plan-status-section__title"},u),s.default.createElement("p",{className:"plan-status-section__title_description"},d," ",this.isProfessionalTrial()&&s.default.createElement("span",null,this.renderPlanDetails(),s.default.createElement("br",null),this.renderBillingPeriod()))),l)}}},Object.defineProperty(t.prototype,"hasSelfServablePaymentAfterLicensekey",{get:function(){var e=this.props.paymentInfo;return e&&!p.isLicenseKey(e.gateway_id)&&!p.shouldHidePaymentMethod(e.gateway_id)},enumerable:!0,configurable:!0}),t.prototype.renderLicensePlanSection=function(){var e=this.props.subStatus;if(!e||!e.subState||!e.subState.plan)return s.default.createElement("noscript",null);var t=o.intl.formatMessage({defaultMessage:"Dropbox {plus}",description:"Dropbox Plus"},{plus:e.subState.plan.displayName()}),a=s.default.createElement("noscript",null);if(this.props.hasUnusedLicenseKey){var n=o.intl.formatMessage({defaultMessage:"Your Dropbox {plus} plan was activated with a license key. Your next license key will be activated on {date}.",description:"shown to users with an unused license key"},{plus:v.TRADEMARK_PLUS,date:e.formattedNextBillingDate});this.props.isLoggedInAsTransactionOwner||(n=o.intl.formatMessage({defaultMessage:"This Dropbox {plus} plan was activated with a license key. The next license key will be activated on {date}.",description:"shown to users with an unused license key"},{plus:v.TRADEMARK_PLUS,date:e.formattedNextBillingDate}));var i=s.default.createElement("noscript",null);if(this.hasSelfServablePaymentAfterLicensekey)i=s.default.createElement("div",null,o.intl.formatMessage({defaultMessage:"No charge made to your payment method on file.",description:"No charge made to your payment method on file."})),this.props.isLoggedInAsTransactionOwner||(i=s.default.createElement("div",null,o.intl.formatMessage({defaultMessage:"No charge made to the payment method on file.",description:"No charge made to the payment method on file."})));else{var r=o.intl.formatMessage({defaultMessage:"You can add your payment information now to have your subscription automatically renew when your keys expire.",description:"You can add your payment information now to have your subscription automatically renew when your keys expire."});this.props.isLoggedInAsTransactionOwner||(r=o.intl.formatMessage({defaultMessage:"The account owner can add payment information now to have this subscription automatically renew when the keys expire.",description:"The account owner can add payment information now to have this subscription automatically renew when the keys expire."})),i=s.default.createElement("div",null,r,s.default.createElement("br",null),s.default.createElement("a",{href:"#",onClick:this.addPaymentClick},o.intl.formatMessage({defaultMessage:"Add payment method.",description:"Link to add payment method"})))}a=s.default.createElement("div",null,n,s.default.createElement("br",null),i)}else if(this.hasSelfServablePaymentAfterLicensekey&&!this.props.scheduledForDowngrade){var l=e.scheduledSubState.billingSchedule.scheduleDescriptionNoun,d=o.intl.formatMessage({defaultMessage:"Your Dropbox {plus} plan was activated with a license key. The plan will renew on {date}.",description:"No more unused license, and we will start billing the user once the current license duration ends."},{plus:v.TRADEMARK_PLUS,date:e.formattedNextBillingDate}),u=o.intl.formatMessage({defaultMessage:"{new_total} per {new_period} will be charged to your payment method on file.",description:"information on what Dropbox will charge the user"},{new_total:g.Cash.formatWithTaxLabels(e.nextBillingSummary.total,e.nextBillingSummary),new_period:l});this.props.isLoggedInAsTransactionOwner||(d=o.intl.formatMessage({defaultMessage:"This Dropbox {plus} plan was activated with a license key. The plan will renew on {date}.",description:"No more unused license, and we will start billing the user once the current license duration ends."},{plus:v.TRADEMARK_PLUS,date:e.formattedNextBillingDate}),u=o.intl.formatMessage({defaultMessage:"{new_total} per {new_period} will be charged to the payment method on file.",description:"information on what Dropbox will charge the user"},{new_total:g.Cash.formatWithTaxLabels(e.nextBillingSummary.total,e.nextBillingSummary),new_period:l})),a=s.default.createElement("div",null,d,s.default.createElement("br",null),u,s.default.createElement("br",null),this.renderBillingPeriod())}else{d=o.intl.formatMessage({defaultMessage:"Your Dropbox {plus} plan was activated with a license key. The plan is active until {date}.",description:"No more unused license, and the user will be downgraded once the current license duration ends."},{plus:v.TRADEMARK_PLUS,date:e.formattedNextBillingDate});var c=o.intl.formatMessage({defaultMessage:"You can add your payment information now to have your subscription automatically renew when it expires.",description:"Text shown if user has no more unused licenses, and they will be downgraded once the current license duration ends."});this.props.isLoggedInAsTransactionOwner||(d=o.intl.formatMessage({defaultMessage:"This account’s Dropbox {plus} plan was activated with a license key. The plan is active until {date}.",description:"No more unused license, and the user will be downgraded once the current license duration ends."},{plus:v.TRADEMARK_PLUS,date:e.formattedNextBillingDate}),c=o.intl.formatMessage({defaultMessage:"The account owner can add payment information now to have this subscription automatically renew when it expires.",description:"Text shown if the account owner has no more unused licenses, and they will be downgraded once the current license duration ends."})),a=s.default.createElement("div",null,d,s.default.createElement("br",null),c,s.default.createElement("br",null),s.default.createElement("a",{href:"#",onClick:this.addPaymentClick},o.intl.formatMessage({defaultMessage:"Add payment method.",description:"link to add payment method"})))}return s.default.createElement("div",{className:"plan-status-section"},this.renderDropboxLogo(),s.default.createElement("div",{className:"plan-status-section__description"},s.default.createElement("h1",{className:"plan-status-section__title"},t),s.default.createElement("p",{className:"plan-status-section__title_description"},a)),this.renderContactSupportLink())},t.prototype.render1TBChangeablePlan=function(){var e=this.props,t=e.subStatus,a=e.paymentInfo,n=e.scheduledForDowngrade;if(!t||!t.subState||!t.subState.plan)return s.default.createElement("noscript",null);var i=t.subState.plan.displayName(!0),r="";t.subState.billingSchedule&&t.subState.billingSchedule.scheduleDescriptionNoun&&t.currentBillingSummary&&t.currentBillingSummary.total&&(r=o.intl.formatMessage({defaultMessage:"{total} per {period}.",description:"amount of money that Dropbox will charge the user every month or year"},{total:g.Cash.formatWithTaxLabels(t.currentBillingSummary.total,t.currentBillingSummary),period:t.subState.billingSchedule.scheduleDescriptionNoun}));var l=s.default.createElement("noscript",null);if(a&&!p.shouldHideBillingChange(a.gateway_id,a.is_reseller_billing)){var d=o.intl.formatMessage({defaultMessage:"Your {plan} plan will renew on {date}. {billing_summary}",description:"billing summary"},{plan:i,date:t.formattedNextBillingDate,billing_summary:r});this.props.isLoggedInAsTransactionOwner||(d=o.intl.formatMessage({defaultMessage:"This account’s {plan} plan will renew on {date}. {billing_summary}",description:"billing summary"},{plan:i,date:t.formattedNextBillingDate,billing_summary:r})),l=s.default.createElement("span",null,d)}if(n){var u=o.intl.formatMessage({defaultMessage:"Your {plan} will downgrade to Dropbox Basic on {date}. {billing_summary}",description:"billing summary"},{plan:i,date:t.formattedNextBillingDate,billing_summary:r});this.props.isLoggedInAsTransactionOwner||(u=o.intl.formatMessage({defaultMessage:"This account’s {plan} will downgrade to Dropbox Basic on {date}. {billing_summary}",description:"billing summary"},{plan:i,date:t.formattedNextBillingDate,billing_summary:r})),l=s.default.createElement("span",null,u)}var c=this.renderContactSupportLink();return s.default.createElement("div",{className:"plan-status-section"},this.renderDropboxLogo(),s.default.createElement("div",{className:"plan-status-section__description"},s.default.createElement("h1",{className:"plan-status-section__title"},i),s.default.createElement("p",{className:"plan-status-section__title_description"},l,s.default.createElement("br",null),this.renderBillingPeriod())),c)},t.prototype.renderPlanSection=function(){var e=this.props,t=e.subStatus,a=e.isExternallyBilled,n=e.paymentInfo,s=e.isLimitedTeam,i=e.eligibleFor1tb;return this.showBasicPlanWithTrial()?this.renderBasicPlanSection():i?this.render1TBChangeablePlan():a&&void 0!==n&&null!==n.reseller_name?this.renderResellerPlan():a&&s&&void 0!==n&&n.gateway_id===m.NOT_APPLICABLE?void 0:t&&t.subState.plan&&[b.ProductFamily.PRO,b.ProductFamily.FAMILY].includes(t.subState.plan.productFamily)?this.isTrialPlan()?this.renderTrialSection():this.isLicensePlan()?this.renderLicensePlanSection():this.renderPaidPlanSection():this.renderBasicPlanSection()},t.prototype.render=function(){var e=this.props,t=e.isPersonalUser,a=e.isLimitedTeam,n=t||a?this.renderPlanSection():this.renderBusinessPlanSection();return s.default.createElement("div",{className:"plan-status"},n)},t})(s.default.Component);t.PlanStatus=I})),define("modules/clean/account_page/widgets/plan/views/update_billing_info_link",["require","exports","tslib","react","modules/core/i18n","dig-components/buttons"],(function(e,t,a,n,s,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.updateBillingInfo=function(e){var a=t.props.updateBillingCTA;e.stopPropagation(),e.preventDefault(),a(e)},t}return a.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.className;return e.isRedesignedModal?n.default.createElement(i.Button,{variant:"transparent",onClick:this.updateBillingInfo},s.intl.formatMessage({defaultMessage:"Update billing info",description:"Text on button that let's user update their billing information"})):n.default.createElement("a",{key:"updateBillingInfo",className:t||"",href:"#",onClick:this.updateBillingInfo},s.intl.formatMessage({defaultMessage:"Update billing information",description:"Text on button that let's user update their billing information"}))},t})((n=a.__importDefault(n)).default.Component);t.UpdateBillingInfo=r})),define("modules/clean/account_page/widgets/plan/views/retention_policy_modal",["require","exports","tslib","react","spectrum/button","modules/clean/react/image","modules/clean/bem","modules/clean/react/css","classnames"],(function(e,t,a,n,s,i,r,o,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),l=a.__importDefault(l);var d=r.bem("other-options-modal"),u=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.title,a=e.description,r=e.imageAlt,o=e.src,u=e.srcHiRes,c=e.primaryAction,p=e.secondaryAction,m=e.onPrimaryAction,_=e.onSecondaryAction,f=e.valuePropositions,g=e.tagline;return n.default.createElement("div",{className:d("container")},n.default.createElement(i.Image,{alt:r,className:d("image"),src:o,srcHiRes:u}),n.default.createElement("h1",{className:l.default(d("title"))},t),n.default.createElement("p",{className:d("description")},a),n.default.createElement("ul",{className:d("value-propositions")},f.map((function(e,t){return n.default.createElement("li",{key:"value-prop-"+t,className:d("value-proposition")},e)}))),g&&n.default.createElement("p",{className:d("tagline")},g),n.default.createElement("div",{className:d("buttons")},n.default.createElement(s.Button,{className:l.default(d("modal-cta")),variant:"primary",onClick:m},c),n.default.createElement("a",{className:d("cancel-cta"),href:"#",onClick:_},p)))},t})(n.default.PureComponent);t.RetentionPolicyModal=o.requireCssWithComponent(u,["/static/css/account/pagelet/retention_policy_modal-vfl2K4b0x.css"])})),define("modules/clean/account_page/widgets/plan/views/montana/common",["require","exports","tslib","modules/clean/payments/skus/subscription_status","modules/clean/payments/skus/constants","modules/clean/analytics","modules/clean/api_v2/user_client","modules/core/browser","modules/clean/account_page/util","modules/clean/ajax_as_promised","modules/clean/payments/skus/subscription_change_plan","modules/clean/ts_utils"],(function(e,t,a,n,s,i,r,o,l,d,u,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),o=a.__importStar(o);var p,m;function _(e){return e===s.ProductPlanType.STANDARD||e===s.ProductPlanType.PLUS?m.PLUS:e===s.ProductPlanType.PROFESSIONAL?m.PROFESSIONAL:m.OTHER}function f(e,t){return e.getTime()>=t.getTime()}function g(e,t){var a=new Date(e.getTime());return a.setDate(e.getDate()+t),a}function h(e){var t=!1,a=!1,n=!1,s=!1,i=!1,r=new Date(e.now);if(e.montanaAnnouncementDate){var o=new Date(e.montanaAnnouncementDate),l=g(o,60);i=(t=f(r,o))&&!f(r,l)}e.usersMontanaMigrationDate&&(a=f(r,new Date(e.usersMontanaMigrationDate)));if(e.usersFirstMontanaRebillDate){var d=new Date(e.usersFirstMontanaRebillDate),u=g(d,60);n=f(r,d),s=f(r,u)}return{isWithinProfessionalRecourseWindow:i,isAfterMontanaAnnouncement:t,isAfterMontanaMigration:a,isAfterFirstMontanaRebill:n,isAfterSixtyDaysPastMontanaFirstRebill:s}}(function(e){e[e.GRACE=0]="GRACE",e[e.RECOURSE=1]="RECOURSE",e[e.INVALID=2]="INVALID"})(p=t.MontanaPeriod||(t.MontanaPeriod={})),(function(e){e[e.PLUS=0]="PLUS",e[e.PROFESSIONAL=1]="PROFESSIONAL",e[e.OTHER=2]="OTHER"})(m=t.MontanaProductPlanType||(t.MontanaProductPlanType={})),(function(e){e[e.DEPROVISION_WITH_FULL_REFUND=1]="DEPROVISION_WITH_FULL_REFUND",e[e.PROF_TO_PLUS_WITH_PRORATED_REFUND=2]="PROF_TO_PLUS_WITH_PRORATED_REFUND",e[e.MONTANA_OLD_PRICE_PROMO=3]="MONTANA_OLD_PRICE_PROMO",e[e.REFUND_MIGRATION_DELTA=4]="REFUND_MIGRATION_DELTA"})(t.MontanaRetentionPolicy||(t.MontanaRetentionPolicy={})),t.getMontanaPeriod=function(e,t,a,n,i){if(!e.subState||!e.subState.plan)return p.INVALID;var r=h({montanaAnnouncementDate:t,usersMontanaMigrationDate:a,usersFirstMontanaRebillDate:n,now:i}),o=r.isWithinProfessionalRecourseWindow,l=r.isAfterSixtyDaysPastMontanaFirstRebill,d=r.isAfterMontanaMigration,u=r.isAfterFirstMontanaRebill,c=e.subState.billingSchedule.id===s.ScheduleId.YEARLY,f=_(e.subState.plan.productType),g=f===m.PLUS,y=f===m.PROFESSIONAL;if(g){if(d&&!u)return p.GRACE;if(d&&u&&!l)return p.RECOURSE}else if(y&&c&&o)return u?p.RECOURSE:p.GRACE;return p.INVALID},t.getMontanaProductPlanType=_,t.getMontanaDateBooleans=h,t.isValidMontanaUserState=function(e,t){var a=t.montanaAnnouncementDate,n=t.usersMontanaMigrationDate,s=t.usersFirstMontanaRebillDate,i=t.now;if(!e.subState||!e.subState.plan)return!1;var r=_(e.subState.plan.productType),o=r===m.PLUS,l=r===m.PROFESSIONAL,d=h({montanaAnnouncementDate:a,usersMontanaMigrationDate:n,usersFirstMontanaRebillDate:s,now:i}),u=d.isWithinProfessionalRecourseWindow,c=d.isAfterSixtyDaysPastMontanaFirstRebill,p=d.isAfterMontanaMigration,f=d.isAfterMontanaAnnouncement;return o&&f&&p&&!c||u&&l};var y=(function(){function e(e){var t=this;switch(this.log=function(e,n){void 0===n&&(n={});var s=t.planName+"_"+t.billingSchedule+"_"+e;i.ProEventsLogger.log(s,a.__assign({project:"montana",path:o.get_uri().getPath()},n))},e.billingScheduleId){case s.ScheduleId.MONTHLY:this.billingSchedule="monthly";break;case s.ScheduleId.YEARLY:this.billingSchedule="yearly";break;case s.ScheduleId.TRIAL:case s.ScheduleId.TRIAL_15_DAYS:case s.ScheduleId.YEARLY_WITH_MONTHLY_BILLING:case s.ScheduleId.TWO_YEARS:case s.ScheduleId.THREE_YEARS:case s.ScheduleId.FIVE_YEARS:this.billingSchedule="other";break;default:c.enforceExhaustive(e.billingScheduleId)}var n=_(e.planType);switch(n){case m.PLUS:this.planName="plus";break;case m.PROFESSIONAL:this.planName="pro";break;case m.OTHER:this.planName="other";break;default:c.enforceExhaustive(n)}}return e.initialize=function(t){this.instance=new e(t)},e.logEvent=function(e,t){if(void 0===t&&(t={}),!this.isInitialized())throw new Error("Initialize logger first");this.instance.log(e,t)},e.isInitialized=function(){return Boolean(this.instance)},e})();t.MontanaLogger=y,t.applyRetentionPolicy=function(e){return(new r.UserApiV2Client).ns("retention_policy").rpc("apply_retention_policy_for_user",{policy_id:e},{subjectUserId:l.getCurrentUser().id})},t.getRetentionPolicy=function(){return(new r.UserApiV2Client).ns("retention_policy").rpc("get_retention_policies_for_user",void 0,{subjectUserId:l.getCurrentUser().id})},t.getMontanaPrices=function(e){var t="/account/ajax_change_plan";return e&&(t="/account/ajax_change_plan_schedule"),d.WebRequest({url:t,subject_user:l.getCurrentUser().id}).then((function(e){var t=JSON.parse(e),a=n.SubscriptionStatus.deserialize(t.serializedSubStatus);return t.serializedSubChangePlans.map((function(e){return u.SubscriptionChangePlan.deserialize(e)})).map((function(e){return e})).filter((function(e){return!!(e.finalSubState.plan&&a.subState.plan&&a.finalSubState.plan&&a.finalSubState.billingSchedule)})).map((function(e){return{subStatus:e,price:e.finalSubState.plan.displayCost}}))}))}})),define("modules/clean/account_page/widgets/plan/views/montana/loading_modal",["require","exports","tslib","react","modules/core/i18n","modules/clean/static_urls","spectrum/modal"],(function(e,t,a,n,s,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),t.LoadingModal=function(){return n.default.createElement(r.Modal,{appElement:document.getElementById("embedded-app")||document.body,ariaLabel:s.intl.formatMessage({defaultMessage:"Loading"}),displayCloseButton:!1,open:!0,height:520,width:640},n.default.createElement("div",{className:"loading-indicator"},n.default.createElement("div",{className:"loading-indicator__text"},s.intl.formatMessage({defaultMessage:"Loading account details..."})),n.default.createElement("img",{src:i.static_url("/static/images/icons/ajax-loading-small-vfl3Wt7C_.gif"),alt:s.intl.formatMessage({defaultMessage:"Loading"})})))}})),define("modules/clean/account_page/widgets/plan/views/montana/montana_cancel_confirmation_modal",["require","exports","tslib","react","spectrum/button","spectrum/modal","modules/clean/ux_analytics_utils","modules/clean/react/css","modules/clean/react/image","modules/clean/ux_analytics_modal_tracking","modules/clean/static_urls","modules/core/i18n","spectrum/checkbox","modules/clean/payments/skus/sku_content","modules/core/notify","modules/clean/ajax","modules/clean/api_v2/user_client","modules/clean/account_page/util","modules/clean/account_page/widgets/plan/views/montana/common"],(function(e,t,a,n,s,i,r,o,l,d,u,c,p,m,_,f,g,h,y){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),f=a.__importStar(f);var M=(function(e){function t(t){var a=e.call(this,t)||this;return a.onPrimaryAction=function(){var e=a.props,t=e.nextModal,n=e.modalFlowState.immediateCancelAndRefund;(y.MontanaLogger.logEvent("cancel_click",{featureType:"confirm_cancel",cta:"confirm_cancellation"}),a.submittingRequest(),n)?(new g.UserApiV2Client).ns("retention_policy").rpc("apply_retention_policy_for_user",{policy_id:1},{subjectUserId:h.getCurrentUser().id}).then((function(e){t(),a.doneSubmittingRequest()}),(function(e){_.Notify.error(c.intl.formatMessage({defaultMessage:"There was an issue, please contact Customer Support."})),a.doneSubmittingRequest()})):f.WebRequest({url:"/downgrade/process",type:"POST",data:{montana_schedule_downgrade:!0},dataType:"json",success:function(){t()},error:function(){_.Notify.error(c.intl.formatMessage({defaultMessage:"Failed to cancel subscription."}))},complete:function(){a.doneSubmittingRequest()}})},a.onSecondaryAction=function(){var e=a.props.prevModal;y.MontanaLogger.logEvent("cancel_click",{featureType:"confirm_cancel",cta:"back"}),e()},a.closeModal=function(){var e=a.props.exitModalFlow;y.MontanaLogger.logEvent("cancel_dismiss",{featureType:"confirm_cancel"}),r.dispatchModalClosed(),e()},a.title=function(){return n.default.createElement("h1",{className:"cancel-confirmation-modal__title"},c.intl.formatMessage({defaultMessage:"Here’s what you should know"}))},a.currentPlanInfo=function(e,t){var s=m.SkuContentClient.deserialize(a.props.basicSerializedSkuContent),i=e?c.intl.formatMessage({defaultMessage:"If you cancel your plan, you’ll be downgraded to {basic_plan} as soon as you confirm below. No new charges will occur."},{basic_plan:s.dropboxDisplayName()}):c.intl.formatMessage({defaultMessage:"If you cancel your plan, you’ll be downgraded to {basic_plan} on {date}. No new charges will occur."},{date:t,basic_plan:s.dropboxDisplayName()});return n.default.createElement("p",{className:"cancel-confirmation-modal__description"},i)},a.handleChange=function(){a.state.disableContinue&&y.MontanaLogger.logEvent("cancel_click",{featureType:"confirm_cancel",cta:"understand_check"}),a.setState({disableContinue:!a.state.disableContinue})},a.finalConfirmationRow=function(e,t){var s=e?c.intl.formatMessage({defaultMessage:"I understand that these changes will go into effect immediately."}):c.intl.formatMessage({defaultMessage:"I understand that these changes will go into effect starting {date}."},{date:t}),i="cancel-confirmation-modal__confirm-row";return n.default.createElement("label",{className:i+" "+i+"--clickable"},n.default.createElement(p.Checkbox,{className:"cancel-confirmation-modal__checkbox",checked:a.state.disableContinue?"unchecked":"checked",onChange:a.handleChange}),n.default.createElement("div",{className:"cancel-confirmation-modal__confirmation-message"},s))},a.afterCancellationList=function(){var e=a.props,t=e.subStatus,s=e.basicSerializedSkuContent,i=m.SkuContentClient.deserialize(s),r=c.intl.formatMessage({defaultMessage:"<strong>Your storage will decrease from {space} to {basic_quota}.</strong>"},{space:t.subState.content.totalSpaceLongFormRounded(),basic_quota:i.spaceShortFormGbRounded(),strong:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.default.createElement("strong",null,e)}}),o=c.intl.formatMessage({defaultMessage:"File uploads and syncing will stop working if your files take up more space than your storage allows."}),d=c.intl.formatMessage({defaultMessage:"<strong>You won’t be able to access advanced file-syncing features</strong>, such as Dropbox Smart Sync."},{strong:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.default.createElement("strong",null,e)}}),p=c.intl.formatMessage({defaultMessage:"<strong>Syncing will be limited to only 3 devices</strong>, and you’ll lose access to other {plan} features, such as remote device wipe."},{plan:t.subState.plan.content.dropboxDisplayName(),strong:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.default.createElement("strong",null,e)}});return n.default.createElement("div",{className:"after-cancellation-list"},n.default.createElement("div",{className:"after-cancellation-list-item"},n.default.createElement("div",{className:"after-cancellation-list-item__icon_wrapper"},n.default.createElement(l.Image,{alt:"Cancellation warning",className:"after-cancellation-list-item__icon",src:u.static_url("/static/images/montana/montana-warning-vfl-Ks6cO.png"),srcHiRes:u.static_url("/static/images/montana/montana-warning@2x-vflJMUkQS.png")})),n.default.createElement("div",{className:"after-cancellation-list-item__content"},n.default.createElement("div",{className:"after-cancellation-list-item__content_col1"},r),n.default.createElement("div",{className:"after-cancellation-list-item__content_col1"},o))),n.default.createElement("div",{className:"after-cancellation-list-item"},n.default.createElement("div",{className:"after-cancellation-list-item__icon_wrapper"},n.default.createElement(l.Image,{alt:"Cancellation warning",className:"after-cancellation-list-item__icon",src:u.static_url("/static/images/montana/montana-warning-vfl-Ks6cO.png"),srcHiRes:u.static_url("/static/images/montana/montana-warning@2x-vflJMUkQS.png")})),n.default.createElement("div",{className:"after-cancellation-list-item__content"},d)),n.default.createElement("div",{className:"after-cancellation-list-item"},n.default.createElement("div",{className:"after-cancellation-list-item__icon_wrapper"},n.default.createElement(l.Image,{alt:"Cancellation warning",className:"after-cancellation-list-item__icon",src:u.static_url("/static/images/montana/montana-warning-vfl-Ks6cO.png"),srcHiRes:u.static_url("/static/images/montana/montana-warning@2x-vflJMUkQS.png")})),n.default.createElement("div",{className:"after-cancellation-list-item__content"},p)))},a.buttons=function(){var e=a.state,t=e.submitting,i=e.disableContinue;return t?n.default.createElement("div",{className:"cancel-confirmation-modal__buttons"},n.default.createElement("div",{className:"loading-indicator"},n.default.createElement("img",{src:u.static_url("/static/images/icons/ajax-loading-small-vfl3Wt7C_.gif"),alt:c.intl.formatMessage({defaultMessage:"Loading"})}))):n.default.createElement("div",{className:"cancel-confirmation-modal__buttons"},n.default.createElement(s.Button,{className:"cancel-confirmation-modal__modal-cta",variant:"secondary",onClick:a.onSecondaryAction},c.intl.formatMessage({defaultMessage:"Back"})),n.default.createElement(s.Button,{className:"cancel-confirmation-modal__modal-cta",variant:"primary",onClick:a.onPrimaryAction,disabled:i},c.intl.formatMessage({defaultMessage:"Confirm cancellation",description:"This unique string is found on a button on a modal that explains what happens if the user cancels their plan. It refers to plan cancellation and not trial cancellation."})))},a.state={disableContinue:!0,submitting:!1},a}return a.__extends(t,e),t.prototype.componentDidMount=function(){y.MontanaLogger.logEvent("cancel_view",{featureType:"confirm_cancel"})},t.prototype.submittingRequest=function(){this.setState({submitting:!0})},t.prototype.doneSubmittingRequest=function(){this.setState({submitting:!1})},t.prototype.render=function(){var e=this.props,t=e.subStatus,a=e.modalFlowState.immediateCancelAndRefund;return n.default.createElement(i.Modal,{appElement:document.getElementById("embedded-app")||document.body,ariaLabel:c.intl.formatMessage({defaultMessage:"Cancel confirmation"}),className:"cancel-confirmation-modal",displayCloseButton:!0,onReady:r.dispatchModalOpened,onRequestClose:this.closeModal,open:!0},n.default.createElement(d.UXAnalyticsModalTracking,{id:"cancel-confirmation-modal"}),n.default.createElement("div",{className:"cancel-confirmation-modal__container"},this.title(),this.currentPlanInfo(a,t.formattedNextBillingDate),this.afterCancellationList(),this.finalConfirmationRow(a,t.formattedNextBillingDate),this.buttons()))},t})(n.default.Component);t.CancelConfirmationModal=o.requireCssWithComponent(M,["/static/css/account/pagelet/montana_cancel_confirmation_modal-vfl18GN7s.css"])})),define("modules/clean/account_page/widgets/plan/views/montana/montana_cancel_schedule_modal",["require","exports","tslib","react","spectrum/button","spectrum/modal","modules/clean/ux_analytics_utils","modules/clean/react/css","modules/clean/payments/skus/constants","modules/clean/ux_analytics_modal_tracking","modules/core/i18n","modules/clean/teams/admin/widgets/admin_priced_list/admin_priced_list_item","modules/clean/teams/admin/widgets/admin_priced_list/admin_priced_list","modules/constants/trademark","modules/clean/account_page/widgets/plan/views/montana/common"],(function(e,t,a,n,s,i,r,o,l,d,u,c,p,m,_){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f=(function(e){function t(t){var a=e.call(this,t)||this;a.onPrimaryAction=function(){var e,t=a.props.nextModal,n=a.state.immediateCancelAndRefund;e=a.state.immediateCancelAndRefund?{featureType:"recourse_cancel_refund",cta:"continue",radio:"immediate"}:{featureType:"recourse_cancel_refund",cta:"continue",radio:"scheduled"},_.MontanaLogger.logEvent("cancel_click",e),t({immediateCancelAndRefund:n})},a.onSecondaryAction=function(){var e=a.props.prevModal;_.MontanaLogger.logEvent("cancel_click",{featureType:"recourse_cancel_refund",cta:"back"}),e()},a.closeModal=function(){var e=a.props.exitModalFlow;_.MontanaLogger.logEvent("cancel_dismiss",{featureType:"recourse_cancel_refund"}),r.dispatchModalClosed(),e()},a.title=function(){return n.default.createElement("h1",{className:"cancel-schedule-modal__title"},u.intl.formatMessage({defaultMessage:"When do you want to cancel?"}))},a.setImmediateCancelAndRefund=function(){a.setState({immediateCancelAndRefund:!0})},a.setScheduledCancellation=function(){a.setState({immediateCancelAndRefund:!1})},a.scheduleOptions=function(){var e=a.state.immediateCancelAndRefund,t=a.props.subStatus.formattedNextBillingDate,s=a.props.subStatus.subState.billingSchedule.id,i=u.intl.formatMessage({defaultMessage:"Cancel now and refund me"});return s===l.ScheduleId.MONTHLY&&(i=u.intl.formatMessage({defaultMessage:"Cancel now and refund me one month"})),n.default.createElement(p.AdminPricedList,null,n.default.createElement(c.AdminPricedListItem,{isSelected:!e,title:u.intl.formatMessage({defaultMessage:"Cancel on my next renewal"}),description:u.intl.formatMessage({defaultMessage:"You’ll have access to all {plan} features until {date}."},{plan:m.DROPBOX_PLUS,date:t}),onClick:a.setScheduledCancellation,disableItem:!1,recommended:!0,effectiveDate:u.intl.formatMessage({defaultMessage:"{date}"},{date:t})}),n.default.createElement(c.AdminPricedListItem,{isSelected:e,title:i,description:u.intl.formatMessage({defaultMessage:"You’ll instantly lose access to {plan} features and storage."},{plan:m.DROPBOX_PLUS}),onClick:a.setImmediateCancelAndRefund,disableItem:!1,effectiveDate:u.intl.formatMessage({defaultMessage:"Now"})}))};var s=t.modalFlowState.immediateCancelAndRefund;return a.state={immediateCancelAndRefund:s},a}return a.__extends(t,e),t.prototype.componentDidMount=function(){_.MontanaLogger.logEvent("cancel_view",{featureType:"recourse_cancel_refund"})},t.prototype.render=function(){return n.default.createElement(i.Modal,{appElement:document.getElementById("embedded-app")||document.body,ariaLabel:u.intl.formatMessage({defaultMessage:"Cancel schedule"}),className:"cancel-schedule-modal",displayCloseButton:!0,onReady:r.dispatchModalOpened,onRequestClose:this.closeModal,open:!0},n.default.createElement(d.UXAnalyticsModalTracking,{id:"cancel-schedule-modal"}),n.default.createElement("div",{className:"cancel-schedule-modal__container"},this.title(),n.default.createElement("div",{className:"cancel-schedule-modal__schedule-options"},this.scheduleOptions()),n.default.createElement("div",{className:"cancel-schedule-modal__buttons"},n.default.createElement(s.Button,{className:"cancel-schedule-modal__modal-cta",variant:"secondary",onClick:this.onSecondaryAction},u.intl.formatMessage({defaultMessage:"Back"})),n.default.createElement(s.Button,{className:"cancel-schedule-modal__modal-cta",variant:"primary",onClick:this.onPrimaryAction},u.intl.formatMessage({defaultMessage:"Continue"})))))},t})((n=a.__importDefault(n)).default.Component);t.CancelScheduleModal=o.requireCssWithComponent(f,["/static/css/account/pagelet/montana_cancel_schedule_modal-vfldFbE7R.css"])})),define("modules/clean/account_page/widgets/plan/views/montana/montana_cancel_success_modal",["require","exports","tslib","react","spectrum/button","spectrum/modal","modules/core/browser","modules/clean/ux_analytics_utils","modules/clean/react/css","modules/clean/ux_analytics_modal_tracking","modules/core/i18n","modules/clean/payments/skus/sku_content","modules/clean/account_page/constants","modules/core/notify","modules/clean/ajax","modules/clean/account_page/util","modules/clean/static_urls","modules/clean/payments/skus/constants","modules/clean/account_page/widgets/plan/views/montana/common"],(function(e,t,a,n,s,i,r,o,l,d,u,c,p,m,_,f,g,h,y){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),r=a.__importStar(r),_=a.__importStar(_);var M=(function(e){function t(t){var a=e.call(this,t)||this;return a.onPrimaryAction=function(){var e=a.props.nextModal;y.MontanaLogger.logEvent("cancel_click",{featureType:"cancel_success",cta:"close"}),e()},a.onSecondaryAction=function(){var e=a.props.exitModalFlow;y.MontanaLogger.logEvent("cancel_click",{featureType:"cancel_success",cta:"undo_cancel_request"});var t=f.getCurrentUser().id;a.submittingRequest(),_.WebRequest({url:"/account/ajax_cancel_scheduled_change",data:{scheduled_change_type:p.CancellationType.IND_SUBSCRIPTION},subject_user:t,success:function(e){m.Notify.success(u.intl.formatMessage({defaultMessage:"You’ve canceled your change!"}))},error:function(){m.Notify.error(u.intl.formatMessage({defaultMessage:"Failed to cancel changes."}))},complete:function(){a.doneSubmittingRequest(),e()}})},a.closeModal=function(){var e=a.props.exitModalFlow;y.MontanaLogger.logEvent("cancel_dismiss",{featureType:"cancel_success"}),o.dispatchModalClosed(),e(),r.reload()},a.title=function(){var e=a.props.modalFlowState.immediateCancelAndRefund?u.intl.formatMessage({defaultMessage:"You’ve successfully canceled your plan"}):u.intl.formatMessage({defaultMessage:"You’ve successfully scheduled your cancellation"});return n.default.createElement("h1",{className:"cancel-success-modal__title"},e)},a.cancellationSummary=function(){var e=a.props.subStatus.subState.plan.productType===h.ProductPlanType.PROFESSIONAL?c.SkuContentClient.deserialize(a.props.professionalSerializedSkuContent):c.SkuContentClient.deserialize(a.props.plusSerializedSkuContent),t=c.SkuContentClient.deserialize(a.props.basicSerializedSkuContent),s=a.props.subStatus.formattedNextBillingDate,i=a.props.modalFlowState.immediateCancelAndRefund?u.intl.formatMessage({defaultMessage:"<strong>You’ll receive a refund to your preferred payment method. </strong> Contact your financial institution if it takes longer than a few days for the refund to show up."},{strong:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.default.createElement("strong",null,e)}}):u.intl.formatMessage({defaultMessage:"<strong>Your account will downgrade from {current_plan} to {basic_plan} on {date}.</strong> This change may take a moment to show in your account settings."},{current_plan:e.dropboxDisplayName(),basic_plan:t.dropboxDisplayName(),date:s,strong:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.default.createElement("strong",null,e)}});return n.default.createElement("div",{className:"cancel-success-modal__description"},n.default.createElement("div",{className:"cancel-success-modal__confirmation-message"},i))},a.afterCancellationList=function(){var e=c.SkuContentClient.deserialize(a.props.basicSerializedSkuContent);return n.default.createElement("ul",{className:"after-cancellation-list"},n.default.createElement("li",{className:"after-cancellation-list__item"},u.intl.formatMessage({defaultMessage:"Your storage space will decrease to {basic_quota}"},{basic_quota:e.spaceShortFormGbRounded()})),n.default.createElement("li",{className:"after-cancellation-list__item"},u.intl.formatMessage({defaultMessage:"Syncing will be limited to only 3 devices"})),n.default.createElement("li",{className:"after-cancellation-list__item"},u.intl.formatMessage({defaultMessage:"You’ll lose access to Dropbox Smart Sync and other features"})))},a.state={submitting:!1},a}return a.__extends(t,e),t.prototype.componentDidMount=function(){y.MontanaLogger.logEvent("cancel_view",{featureType:"cancel_success"})},t.prototype.submittingRequest=function(){this.setState({submitting:!0})},t.prototype.doneSubmittingRequest=function(){this.setState({submitting:!1})},t.prototype.render=function(){var e=this.state.submitting?n.default.createElement("div",{className:"cancel-success-modal__buttons"},n.default.createElement("div",{className:"loading-indicator"},n.default.createElement("img",{src:g.static_url("/static/images/icons/ajax-loading-small-vfl3Wt7C_.gif"),alt:u.intl.formatMessage({defaultMessage:"Loading"})}))):n.default.createElement("div",{className:"cancel-success-modal__buttons"},!this.props.modalFlowState.immediateCancelAndRefund&&n.default.createElement(s.Button,{className:"cancel-success-modal__modal-cta",variant:"secondary",onClick:this.onSecondaryAction},u.intl.formatMessage({defaultMessage:"Undo cancel"})),n.default.createElement(s.Button,{className:"cancel-success-modal__modal-cta",variant:"primary",onClick:this.onPrimaryAction},u.intl.formatMessage({defaultMessage:"Close"})));return n.default.createElement(i.Modal,{appElement:document.getElementById("embedded-app")||document.body,ariaLabel:u.intl.formatMessage({defaultMessage:"Cancel success"}),className:"cancel-success-modal",displayCloseButton:!0,onReady:o.dispatchModalOpened,onRequestClose:this.closeModal,open:!0},n.default.createElement(d.UXAnalyticsModalTracking,{id:"cancel-success-modal"}),n.default.createElement("div",{className:"cancel-success-modal__container"},this.title(),this.cancellationSummary(),this.afterCancellationList(),n.default.createElement("div",{className:"cancel-success-modal__undo_message"},u.intl.formatMessage({defaultMessage:"If you change your mind, you can undo your request below or resume your subscription at any time from account settings."})),e))},t})(n.default.Component);t.CancelSuccessModal=l.requireCssWithComponent(M,["/static/css/account/pagelet/montana_cancel_success_modal-vflJ1FJz5.css"])})),define("modules/clean/account_page/widgets/plan/views/montana/montana_modal_flow",["require","exports","tslib","react","modules/core/i18n","modules/clean/react/snackbar","modules/clean/account_page/widgets/plan/views/montana/montana_other_options_modal","modules/clean/account_page/widgets/plan/views/montana/montana_cancel_schedule_modal","modules/clean/account_page/widgets/plan/views/montana/montana_cancel_confirmation_modal","modules/clean/account_page/widgets/plan/views/montana/montana_cancel_success_modal","modules/clean/account_page/widgets/plan/views/individual_cancel_survey_modal","modules/clean/account_page/widgets/plan/views/montana/common","modules/clean/react/modal_flow","modules/clean/account_page/widgets/plan/views/montana/loading_modal","modules/clean/payments/skus/constants"],(function(e,t,a,n,s,i,r,o,l,d,u,c,p,m,_){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f=(function(e){function t(t){var a=e.call(this,t)||this;if(a.state={loading:!0},!c.MontanaLogger.isInitialized()){var n={billingScheduleId:t.subStatus.subState.billingSchedule.id,planType:t.subStatus.subState.plan.productType};c.MontanaLogger.initialize(n)}return a}return a.__extends(t,e),t.prototype.componentDidMount=function(){this.load()},t.prototype.load=function(){var e=this,t=this.props.subStatus,a=c.getMontanaProductPlanType(t.subState.plan.productType)===c.MontanaProductPlanType.PLUS;try{Promise.all([c.getMontanaPrices(a),c.getRetentionPolicy()]).then((function(t){var a=t[0],n=t[1];e.setState({loading:!1,montanaPrice:a[0].price,retentionPolicies:n})}))}catch(e){i.Snackbar.fail(s.intl.formatMessage({defaultMessage:"Something went wrong."})),this.setState({loading:!1}),this.props.onClose()}},t.prototype.getModalVisibility=function(){var e=this.props.subStatus,t=this.state.retentionPolicies,a=c.getMontanaProductPlanType(e.subState.plan.productType),n=a===c.MontanaProductPlanType.PLUS,s=a===c.MontanaProductPlanType.PROFESSIONAL,i=n&&e.subState.billingSchedule&&e.subState.billingSchedule.id===_.ScheduleId.MONTHLY,r=e.scheduledSubState&&(c.getMontanaProductPlanType(e.scheduledSubState.plan.productType)!==a||e.subState.billingSchedule.id!==e.scheduledSubState.billingSchedule.id),o=i||s,l=!1;if(t){if(t.available_policies&&t.available_policies.length){var d=t.available_policies.filter((function(e){return[c.MontanaRetentionPolicy.MONTANA_OLD_PRICE_PROMO,c.MontanaRetentionPolicy.PROF_TO_PLUS_WITH_PRORATED_REFUND,c.MontanaRetentionPolicy.REFUND_MIGRATION_DELTA].includes(e.policy_id)}));t.available_policies.filter((function(e){return e.policy_id===c.MontanaRetentionPolicy.DEPROVISION_WITH_FULL_REFUND})).length&&(l=!0),d.length&&(o=!0)}(t.applied_policies&&t.applied_policies.length||r)&&(o=!1,l=!1)}return{shouldShowOtherOptionsModal:o,shouldShowCancelScheduleModal:l}},t.prototype.render=function(){var e=this,t=this.props,s=t.planInfo,i=t.onClose,_=this.state,f=_.loading,g=_.retentionPolicies;if(f)return n.default.createElement(m.LoadingModal,null);var h,y=this.getModalVisibility(),M=y.shouldShowOtherOptionsModal,b=y.shouldShowCancelScheduleModal;if(M&&g&&g.available_policies&&g.available_policies.length){var S=g.available_policies.filter((function(e){return[c.MontanaRetentionPolicy.MONTANA_OLD_PRICE_PROMO,c.MontanaRetentionPolicy.PROF_TO_PLUS_WITH_PRORATED_REFUND,c.MontanaRetentionPolicy.REFUND_MIGRATION_DELTA].includes(e.policy_id)}));S.length&&(h=S[0])}return n.default.createElement(p.ModalFlow,{initialState:{immediateCancelAndRefund:!1},onClose:i},M&&function(t){return n.default.createElement(r.OtherOptionsModal,a.__assign({},e.props,t,{retentionPolicy:h,plusSkuContent:s.plusSkuContent,montanaPrice:e.state.montanaPrice}))},b&&function(t){return n.default.createElement(o.CancelScheduleModal,a.__assign({},e.props,t))},(function(t){return n.default.createElement(l.CancelConfirmationModal,a.__assign({},e.props,t,{basicSerializedSkuContent:s.basicSkuContent}))}),(function(t){return n.default.createElement(d.CancelSuccessModal,a.__assign({},e.props,t,{basicSerializedSkuContent:s.basicSkuContent,plusSerializedSkuContent:s.plusSkuContent,professionalSerializedSkuContent:s.professionalSkuContent}))}),(function(t){return n.default.createElement(u.IndividualCancelSurveyModal,a.__assign({},e.props,t,{expMontanaActive:!0}))}))},t})((n=a.__importDefault(n)).default.Component);t.MontanaModalFlow=f})),define("modules/clean/account_page/widgets/plan/views/montana/montana_other_options_modal",["require","exports","tslib","react","spectrum/modal","modules/clean/ux_analytics_utils","modules/clean/static_urls","modules/core/i18n","modules/clean/payments/skus/constants","modules/constants/trademark","modules/clean/account_page/widgets/plan/views/montana/common","modules/core/notify","modules/clean/payments/skus/sku_content","modules/clean/payments/cash","modules/clean/payments/skus/subscription_change_plan","modules/clean/account_page/widgets/plan/views/retention_policy_modal"],(function(e,t,a,n,s,i,r,o,l,d,u,c,p,m,_,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n);var g={title:o.intl.formatMessage({defaultMessage:"Did you know you can save on your plan?"}),description:"",src:r.static_url("/static/images/montana/montana-retention-vflaaCrZP.png"),srcHiRes:r.static_url("/static/images/montana/montana-retention@2x-vflXD1euT.png"),imageAlt:o.intl.formatMessage({defaultMessage:"User flying on a airplane towards a better plan."}),secondaryAction:o.intl.formatMessage({defaultMessage:"Continue canceling"})},h=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.componentDidMount=function(){u.MontanaLogger.logEvent("cancel_view")},t.prototype.render=function(){var e=this.props,t=e.nextModal,s=e.exitModalFlow,i=e.openChangeScheduleModal,r=a.__assign(a.__assign({},g),{title:o.intl.formatMessage({defaultMessage:"Save up to {percentage, number, ::percent .##}"},{percentage:.17}),description:o.intl.formatMessage({defaultMessage:"Keep your current price by switching to yearly billing."}),primaryAction:o.intl.formatMessage({defaultMessage:"Switch to yearly billing"}),valuePropositions:[],onPrimaryAction:function(){u.MontanaLogger.logEvent("cancel_click",{cta:"switch_to_yearly_billing"}),s(),i()},onSecondaryAction:function(){u.MontanaLogger.logEvent("cancel_click",{cta:"continue_canceling"}),t()}});return n.default.createElement(f.RetentionPolicyModal,a.__assign({},r))},t})(n.default.Component),y=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.componentDidMount=function(){u.MontanaLogger.logEvent("cancel_view")},t.prototype.render=function(){var e=this.props,t=e.nextModal,s=e.exitModalFlow,i=e.openMontanaRenewSuccessModal,r=a.__assign(a.__assign({},g),{title:o.intl.formatMessage({defaultMessage:"Keep your current price for another year"}),description:o.intl.formatMessage({defaultMessage:"Save up to {save_percentage, number, ::percent .##}—renew your {plan} plan today"},{save_percentage:.17,plan:d.DROPBOX_PLUS}),valuePropositions:[],primaryAction:o.intl.formatMessage({defaultMessage:"Keep my current price"}),onPrimaryAction:function(){u.MontanaLogger.logEvent("cancel_click",{cta:"renew_and_keep_price"}),u.applyRetentionPolicy(u.MontanaRetentionPolicy.MONTANA_OLD_PRICE_PROMO).then((function(e){s(),i()}),(function(e){c.Notify.error(o.intl.formatMessage({defaultMessage:"There was an issue, please contact Customer Support."}))}))},secondaryAction:o.intl.formatMessage({defaultMessage:"Skip offer and cancel"}),onSecondaryAction:function(){u.MontanaLogger.logEvent("cancel_click",{cta:"continue_canceling"}),t()}});return n.default.createElement(f.RetentionPolicyModal,a.__assign({},r))},t})(n.default.Component),M=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.componentDidMount=function(){u.MontanaLogger.logEvent("cancel_view",{featureType:"recourse"})},t.prototype.render=function(){var e,t=this.props,s=t.nextModal,i=t.exitModalFlow,r=t.montanaPrice,l=t.openMontanaRenewSuccessModal,p=t.planInfo,_=t.subStatus;p&&p.montanaDetails&&p.montanaDetails.priceDifference&&_&&_.nextBillingSummary&&r&&(e=m.Cash.formatWithTaxForRefund(p.montanaDetails.priceDifference,r.currency,_.nextBillingSummary.doesTaxApply));var h=a.__assign(a.__assign({},g),{title:o.intl.formatMessage({defaultMessage:"Take up to {percentage, number, ::percent .##} off the new {plan}"},{percentage:.17,plan:d.DROPBOX_PLUS}),description:e?o.intl.formatMessage({defaultMessage:"Get your previous price for another year—renew {plan} now and we’ll give you a partial refund (up to {max_refund_amount})."},{plan:d.DROPBOX_PLUS,max_refund_amount:e}):o.intl.formatMessage({defaultMessage:"Get your previous price for another year—renew {plan} now and we’ll give you a partial refund."},{plan:d.DROPBOX_PLUS}),valuePropositions:[],primaryAction:o.intl.formatMessage({defaultMessage:"Go back to my previous price"}),onPrimaryAction:function(){u.MontanaLogger.logEvent("cancel_click",{cta:"accept_refund",featureType:"recourse"}),u.applyRetentionPolicy(u.MontanaRetentionPolicy.REFUND_MIGRATION_DELTA).then((function(e){i(),l()}),(function(e){c.Notify.error(o.intl.formatMessage({defaultMessage:"There was an issue, please contact Customer Support."}))}))},secondaryAction:o.intl.formatMessage({defaultMessage:"Skip offer and cancel"}),onSecondaryAction:function(){u.MontanaLogger.logEvent("cancel_click",{cta:"continue_canceling",featureType:"recourse"}),s()}});return n.default.createElement(f.RetentionPolicyModal,a.__assign({},h))},t})(n.default.Component),b=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.componentDidMount=function(){u.MontanaLogger.logEvent("cancel_view")},t.prototype.render=function(){var e=this.props,t=e.subStatus,s=e.nextModal,i=e.exitModalFlow,r=e.openChangePlanModal,d=e.plusSkuContent,c=e.retentionPolicy,m=p.SkuContentClient.deserialize(d),h=this.props.montanaPrice;if(c&&c.serialized_subscription_change_plan){var y=JSON.parse(c.serialized_subscription_change_plan),M=_.SubscriptionChangePlan.deserialize(y);M.nextBillingSummary&&(h=M.nextBillingSummary.total)}var b=t.subState.billingSchedule.id===l.ScheduleId.MONTHLY?o.intl.formatMessage({defaultMessage:"All for {montana_plus_price} per month. Switch to {plan} and take advantage of these features, at a lower price."},{montana_plus_price:h.toString(),plan:m.dropboxDisplayName()}):o.intl.formatMessage({defaultMessage:"All for {montana_plus_price} per year. Switch to {plan} and take advantage of these features, at a lower price."},{montana_plus_price:h.toString(),plan:m.dropboxDisplayName()});c&&c.policy_id===u.MontanaRetentionPolicy.PROF_TO_PLUS_WITH_PRORATED_REFUND&&(b=o.intl.formatMessage({defaultMessage:"All for {montana_plus_price} per year. <strong>Switch your plan and we’ll refund the difference</strong> between your recent renewal charge and the lower price of {plan}."},{montana_plus_price:h.toString(),strong:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.default.createElement("strong",null,e)},plan:m.dropboxDisplayName()}));var S=a.__assign(a.__assign({},g),{title:o.intl.formatMessage({defaultMessage:"Have you looked at {plan} lately?"},{plan:m.dropboxDisplayName()}),description:o.intl.formatMessage({defaultMessage:"{plan} has been upgraded with new features for an incredible value."},{plan:m.dropboxDisplayName()}),valuePropositions:[o.intl.formatMessage({defaultMessage:"<strong>Double the storage</strong>—save everything with {space_with_gb}."},{strong:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.default.createElement("strong",null,e)},space_with_gb:m.spaceLongFormRounded()}),o.intl.formatMessage({defaultMessage:"<strong>World-class sync technology</strong>—move out-of-date files off your computer’s hard drive and to the cloud with {dss}."},{strong:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.default.createElement("strong",null,e)},dss:"Dropbox Smart Sync"}),o.intl.formatMessage({defaultMessage:"<strong>Dropbox Rewind</strong>—rollback unwanted changes to any folder, or your entire {dropbox}, up to 30 days."},{strong:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.default.createElement("strong",null,e)},dropbox:"Dropbox"})],tagline:b,primaryAction:o.intl.formatMessage({defaultMessage:"Switch to {plan}"},{plan:m.dropboxDisplayName()}),secondaryAction:o.intl.formatMessage({defaultMessage:"Continue canceling"}),onPrimaryAction:function(){u.MontanaLogger.logEvent("cancel_click",{cta:"switch_to_plus"}),i(),r()},onSecondaryAction:function(){u.MontanaLogger.logEvent("cancel_click",{cta:"continue_canceling"}),s()}});return n.default.createElement(f.RetentionPolicyModal,a.__assign({},S))},t})(n.default.Component);t.OtherOptionsModal=function(e){var t=e.subStatus,r=e.exitModalFlow,d=e.retentionPolicy,c=u.getMontanaProductPlanType(t.subState.plan.productType),p=t.finalSubState.billingSchedule.id===l.ScheduleId.MONTHLY,m=c===u.MontanaProductPlanType.PLUS&&p?500:640;return n.default.createElement(s.Modal,{appElement:document.getElementById("embedded-app")||document.body,ariaLabel:o.intl.formatMessage({defaultMessage:"Other options"}),className:"other-options-modal",displayCloseButton:!0,onReady:i.dispatchModalOpened,onRequestClose:function(){i.dispatchModalClosed(),u.MontanaLogger.logEvent("cancel_dismiss"),r()},open:!0,width:m,id:"other-options-modal",bodyClassName:"uxa-modal",bodyId:"other-options-modal"},d&&d.policy_id===u.MontanaRetentionPolicy.MONTANA_OLD_PRICE_PROMO&&n.default.createElement(y,a.__assign({},e)),d&&d.policy_id===u.MontanaRetentionPolicy.REFUND_MIGRATION_DELTA&&n.default.createElement(M,a.__assign({},e)),c===u.MontanaProductPlanType.PROFESSIONAL&&n.default.createElement(b,a.__assign({},e)),c===u.MontanaProductPlanType.PLUS&&p&&n.default.createElement(h,a.__assign({},e)))}})),define("modules/clean/account_page/widgets/plan/views/montana/montana_renew_success_modal",["require","exports","tslib","react","spectrum/button","spectrum/modal","modules/clean/payments/cash","modules/clean/ux_analytics_utils","modules/clean/react/css","modules/clean/react/image","modules/core/i18n","modules/clean/static_urls","modules/clean/account_page/widgets/plan/views/montana/common","modules/core/browser"],(function(e,t,a,n,s,i,r,o,l,d,u,c,p,m){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),m=a.__importStar(m);var _=(function(e){function t(t){var a=e.call(this,t)||this;a.montanaPeriod=function(){var e=a.props.planInfo,t=e.montanaAnnouncementDate,n=e.usersMontanaMigrationDate,s=e.usersFirstMontanaRebillDate,i=e.now;return p.getMontanaPeriod(a.props.subStatus,t,n,s,i)},a.onCloseAction=function(){p.MontanaLogger.logEvent("cancel_dismiss",{featureType:"yearly_thanks",cta:"done"}),a.props.onClose()},a.closeModal=function(){o.dispatchModalClosed(),p.MontanaLogger.logEvent("cancel_dismiss",{featureType:"yearly_thanks"}),a.props.onClose(),m.redirect("/")},a.title=function(){return n.default.createElement("h1",{className:"renew-success-modal__title"},u.intl.formatMessage({defaultMessage:"Awesome! Thanks for staying with us"}))},a.description=function(){var e=a.montanaPeriod(),t=Boolean(a.props.subStatus.currentBillingSummary.discountPercentage),s=u.intl.formatMessage({defaultMessage:"Your refund is on the way."});return e===p.MontanaPeriod.GRACE&&t?s=u.intl.formatMessage({defaultMessage:"On {renewal_date}, your Dropbox {plan_name} plan will renew for one year and your preferred payment method will be charged {discounted_price}, reflecting a savings of {percentage, number, ::percent .##}."},{renewal_date:a.props.subStatus.formattedNextBillingDate,plan_name:a.props.subStatus.subState.plan.displayName(),discounted_price:r.Cash.formatWithTaxLabels(a.props.subStatus.currentBillingSummary.total,a.props.subStatus.currentBillingSummary),percentage:a.props.subStatus.currentBillingSummary.discountPercentage/100}):e===p.MontanaPeriod.GRACE&&(s=u.intl.formatMessage({defaultMessage:"On {renewal_date}, your Dropbox {plan_name} plan will renew for one year and your preferred payment method will be charged {discounted_price}."},{renewal_date:a.props.subStatus.formattedNextBillingDate,plan_name:a.props.subStatus.subState.plan.displayName(),discounted_price:r.Cash.formatWithTaxLabels(a.props.subStatus.currentBillingSummary.total,a.props.subStatus.currentBillingSummary)})),n.default.createElement("div",{className:"renew-success-modal__description"},n.default.createElement("p",{className:"renew-success-modal__primary-description"},s))};var s={billingScheduleId:t.subStatus.subState.billingSchedule.id,planType:t.subStatus.subState.plan.productType};return p.MontanaLogger.initialize(s),a}return a.__extends(t,e),t.prototype.componentDidMount=function(){p.MontanaLogger.logEvent("cancel_view",{featureType:"yearly_thanks"})},t.prototype.render=function(){return n.default.createElement(i.Modal,{appElement:document.getElementById("embedded-app")||document.body,ariaLabel:u.intl.formatMessage({defaultMessage:"Renew success"}),className:"renew-success-modal",displayCloseButton:!0,onReady:o.dispatchModalOpened,onRequestClose:this.closeModal,open:!0,width:640,id:"renew-success-modal",bodyClassName:"uxa-modal",bodyId:"renew-success-modal"},n.default.createElement("div",{className:"renew-success-modal__container"},n.default.createElement(d.Image,{alt:u.intl.formatMessage({defaultMessage:"User celebrates their new and improved plan."}),className:"renew-success-modal__image",src:c.static_url("/static/images/montana/montana-success-vflbIjK-n.png"),srcHiRes:c.static_url("/static/images/montana/montana-success@2x-vflD5mz30.png")}),this.title(),this.description(),n.default.createElement("div",{className:"renew-success-modal__buttons"},n.default.createElement(s.Button,{className:"renew-success-modal__modal-cta",variant:"primary",onClick:this.onCloseAction},u.intl.formatMessage({defaultMessage:"Done"})))))},t})(n.default.Component);t.RenewSuccessModal=l.requireCssWithComponent(_,["/static/css/account/pagelet/montana_renew_success_modal-vfliM7eV2.css"])})),define("modules/clean/account_page/widgets/plan/views/switch_plan_modal",["require","exports","tslib","react","modules/core/browser","classnames","modules/core/i18n","modules/clean/bem","modules/constants/trademark","modules/clean/api_v2/user_client","modules/clean/account_page/util","modules/clean/account_page/widgets/plan/views/plan_card","modules/clean/react/browse/uri_helper","spectrum/modal","modules/clean/react/modal","modules/clean/react/css","modules/clean/payments/skus/constants","modules/clean/account_page/widgets/plan/views/loading_view","modules/core/exception","modules/clean/analytics"],(function(e,t,a,n,s,i,r,o,l,d,u,c,p,m,_,f,g,h,y,M){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),s=a.__importStar(s),i=a.__importDefault(i);var b,S,v=o.bem("switch-plan-modal"),L=r.intl.formatMessage({defaultMessage:"Try free for {trial_days} days",description:"Text on a button for users eligible for a Professional trial telling them how long the trial is"},{trial_days:14}),T=r.intl.formatMessage({defaultMessage:"Try free for {trial_days} days",description:"Text on a button for users eligible for a Business trial telling them how long the trial is"},{trial_days:g.TRIAL_LENGTH_DEFAULT}),w=r.intl.formatMessage({defaultMessage:"Buy now",description:"Buy a Dropbox plan now"});(function(e){e.TRY="try",e.BUY="buy"})(b=t.CtaLogging||(t.CtaLogging={})),(function(e){e.BASIC="basic",e.PLUS="plus",e.PROFESSIONAL="professional",e.BUSINESS_STANDARD="business_standard",e.BUSINESS_ADVANCED="business_advanced"})(S=t.PlanTags||(t.PlanTags={}));var D=function(e){return n.useEffect((function(){M.ProEventsLogger.log("switch_plan_modal_recommended_plan_view",{plan:e.plan})}),[]),n.createElement("div",{className:v("recommended-badge")},r.intl.formatMessage({defaultMessage:"Recommended",description:"Badge on top of a plan letting the user know it is recommended for them"}))},P=(function(e){function t(t){var o=e.call(this,t)||this;return o.handleClose=function(){M.ProEventsLogger.log("switch_plan_modal_close"),o.setState({open:!1})},o.logPlanSwitchAttempt=function(e,t,a){M.ProEventsLogger.log("switch_plan_modal_change_plan_attempt",{from:o.loggingPlan,to:t,cta:e?b.TRY:b.BUY,isRecommended:t===o.recommendedPlan},a)},o.handleSwitchToPlus=function(){o.logPlanSwitchAttempt(!1,S.PLUS,(function(){s.redirect("/buy/plus")}))},o.handleSwitchToPro=function(){o.logPlanSwitchAttempt(o.isEligibleForProTrial,S.PROFESSIONAL,(function(){o.isEligibleForProTrial?s.redirect("/pro/try"):!o.isBasic&&o.props.openChangePlanModal?(o.props.openChangePlanModal(!0),M.ProEventsLogger.log("de_plan_tab_change_plan_open_modal_from_"+o.loggingPlan)):s.redirect("/buy/professional")}))},o.handleSwitchToBusinessStandard=function(){o.logPlanSwitchAttempt(o.isEligibleForBizTrial,S.BUSINESS_STANDARD,(function(){o.isEligibleForBizTrial?s.redirect("/business/try?sku=std"):s.redirect("/business/buy?sku=std")}))},o.handleSwitchToBusinessAdvanced=function(){o.logPlanSwitchAttempt(o.isEligibleForBizTrial,S.BUSINESS_ADVANCED,(function(){o.isEligibleForBizTrial?s.redirect("/business/try?sku=adv"):s.redirect("/business/buy?sku=adv")}))},o.loadSwitchPlanInfo=function(){(new d.UserApiV2Client).ns("growth").rpc("get_switch_plan_info",{demandbase_override:s.get_uri().getQuery().demandbase_override},{subjectUserId:u.getCurrentUser().id}).then((function(e){o.setState({loadingSwitchPlanInfo:!1,switchPlanInfo:{eligibleForBizTrial:e.eligible_for_biz_trial,eligibleForProTrial:e.eligible_for_pro_trial,recommendedPlan:e.recommended_plan[".tag"]}})})).catch((function(){return o.setState({loadingSwitchPlanInfo:!1,switchPlanInfo:{eligibleForBizTrial:!0,eligibleForProTrial:!0,recommendedPlan:o.isBasic?S.PLUS:S.PROFESSIONAL}})}))},o.loadPlanCardInfo=function(){(new d.UserApiV2Client).ns("growth_plans").rpc("get_plan_card_info_with_country",{country_override:p.getQueryArgs().country_override},{subjectUserId:u.getCurrentUser().id}).then((function(e){var t=e.plan_card_infos;o.setState({loadingPlanCardInfo:!1,planCardInfos:{basicCard:o.getFilteredCard(t,"basic"),plusCard:o.getFilteredCard(t,"plus"),professionalCard:o.getFilteredCard(t,"professional"),businessStandardCard:o.getFilteredCard(t,"business_standard"),businessAdvancedCard:o.getFilteredCard(t,"business_advanced")}})}))},o.getIndividualCardData=function(e){var t=o.shouldShowBilledMonthlyPrice?"price_monthly":"price_annual_by_month";return{isHighlighted:!1,isBusiness:!1,isInSwitchPlanModal:!0,features:e.features,pricePerMonth:e[t],isBilledMonthly:o.shouldShowBilledMonthlyPrice}},o.getBizCardData=function(e){return{isHighlighted:!1,isBusiness:!0,isInSwitchPlanModal:!0,features:e.features,pricePerMonth:e.price_annual_by_month,isBilledMonthly:!1}},o.handleWrongPlanError=function(e){y.reportException({err:new Error("Current user plan (id: "+e+") is invalid for switch_plan_modal"),severity:y.SEVERITY.CRITICAL}),s.redirect("/plans?trigger=nr")},o.getPlanCardDatas=function(){var e,t,n,s,i=o.state.planCardInfos,r={planCardProps:a.__assign(a.__assign({},o.getIndividualCardData(i.basicCard)),{planDisplayName:l.TRADEMARK_BASIC,isNotBilled:!0}),planTag:S.BASIC},d={planCardProps:a.__assign(a.__assign({},o.getIndividualCardData(i.plusCard)),{planDisplayName:l.TRADEMARK_PLUS,primaryCta:o.getPrimaryCta(S.PLUS)}),planTag:S.PLUS,classDictionary:(e={},e[v("plan-cards-content","plus")]=!0,e)},u={planCardProps:a.__assign(a.__assign({},o.getIndividualCardData(i.professionalCard)),{planDisplayName:l.TRADEMARK_PROFESSIONAL,primaryCta:o.getPrimaryCta(S.PROFESSIONAL)}),planTag:S.PROFESSIONAL,classDictionary:(t={},t[v("plan-cards-content","pro")]=!0,t)},c={planCardProps:a.__assign(a.__assign({},o.getBizCardData(i.businessStandardCard)),{planDisplayName:"Business "+l.TRADEMARK_BUSINESS_STANDARD,primaryCta:o.getPrimaryCta(S.BUSINESS_STANDARD)}),planTag:S.BUSINESS_STANDARD,classDictionary:(n={},n[v("plan-cards-content","biz-std")]=!0,n)},p={planCardProps:a.__assign(a.__assign({},o.getBizCardData(i.businessAdvancedCard)),{planDisplayName:"Business "+l.TRADEMARK_BUSINESS_ADVANCED,pricePerMonth:i.businessAdvancedCard.price_annual_by_month,primaryCta:o.getPrimaryCta(S.BUSINESS_ADVANCED)}),planTag:S.BUSINESS_ADVANCED,classDictionary:(s={},s[v("plan-cards-content","biz-adv")]=!0,s)};switch(o.plan){case g.ProductPlanType.BASIC:return[r,d,u,c];case g.ProductPlanType.PLUS:case g.ProductPlanType.STANDARD:return[d,u,c,p];default:return o.handleWrongPlanError(o.plan),[]}},o.renderPlanCards=function(){return n.createElement(n.Fragment,null,n.createElement("div",{className:v("title")},r.intl.formatMessage({defaultMessage:"Dropbox plans",description:"Title on a modal that displays various Dropbox plans"})),n.createElement("div",{className:v("plan-cards-wrapper")},o.getPlanCardDatas().map((function(e){var t;return n.createElement("div",{key:e.planCardProps.planDisplayName,className:i.default(v("plan-cards-content"),a.__assign(a.__assign({},e.classDictionary),(t={},t[v("plan-cards-content","recommended-plan")]=o.recommendedPlan===e.planTag,t)))},o.recommendedPlan===e.planTag&&n.createElement("div",null,n.createElement(D,{plan:o.recommendedPlan})),n.createElement(c.PlanCard,a.__assign({},e.planCardProps)))}))))},o.state={loadingPlanCardInfo:!0,loadingSwitchPlanInfo:!0,open:!0},o}return a.__extends(t,e),t.showInstance=function(e){_.Modal.showInstance(n.createElement(t.SwitchPlanModal,a.__assign({},e)))},t.prototype.componentDidMount=function(){M.ProEventsLogger.log("switch_plan_modal_view"),this.loadPlanCardInfo(),this.loadSwitchPlanInfo(),setTimeout((function(){var e=document.querySelector(".mc-modal-close");e&&e.blur&&"function"==typeof e.blur&&e.blur()}),0)},Object.defineProperty(t.prototype,"billingSchedule",{get:function(){var e=this.props.currentBillingScheduleId;return e&&!this.isBasic?e:g.ScheduleId.YEARLY},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isBillingScheduledToChange",{get:function(){var e=this.props.finalBillingScheduleId,t=this.billingSchedule;return!!e&&t!==e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shouldShowBilledMonthlyPrice",{get:function(){return this.billingSchedule===g.ScheduleId.MONTHLY&&!this.isBillingScheduledToChange||this.billingSchedule===g.ScheduleId.YEARLY&&this.isBillingScheduledToChange},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"plan",{get:function(){return this.props.productType},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isBasic",{get:function(){return this.plan===g.ProductPlanType.BASIC},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"loggingPlan",{get:function(){switch(this.plan){case g.ProductPlanType.BASIC:return S.BASIC;case g.ProductPlanType.PLUS:case g.ProductPlanType.STANDARD:return S.PLUS;default:return}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isEligibleForProTrial",{get:function(){return this.state.switchPlanInfo.eligibleForProTrial},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isEligibleForBizTrial",{get:function(){return this.state.switchPlanInfo.eligibleForBizTrial},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recommendedPlan",{get:function(){return this.state.switchPlanInfo.recommendedPlan},enumerable:!0,configurable:!0}),t.prototype.getFilteredCard=function(e,t){var n=e.find((function(e){return e.plan_enum[".tag"]===t}));return a.__assign(a.__assign({},n),{features:["min_licenses","space_quota","sharing","version_history","admin_console","viewer_history"].map((function(e){return n.features.find((function(t){return t.plan_feature_enum[".tag"]===e}))})).filter((function(e){return void 0!==e&&e.is_included}))})},t.prototype.getPrimaryCta=function(e){var t,a,n,s=((t={})[S.PLUS]=this.handleSwitchToPlus,t[S.PROFESSIONAL]=this.handleSwitchToPro,t[S.BUSINESS_STANDARD]=this.handleSwitchToBusinessStandard,t[S.BUSINESS_ADVANCED]=this.handleSwitchToBusinessAdvanced,t);switch(e in s&&(a=s[e]),e!==S.BUSINESS_STANDARD&&e!==S.BUSINESS_ADVANCED||(n=this.isEligibleForBizTrial?T:w),this.plan){case g.ProductPlanType.BASIC:e===S.PLUS?n=w:e===S.PROFESSIONAL&&(n=this.isEligibleForProTrial?L:w);break;case g.ProductPlanType.PLUS:case g.ProductPlanType.STANDARD:e===S.PROFESSIONAL&&(n=w)}return a&&n?{onClick:a,primaryText:n}:void 0},t.prototype.render=function(){var e=this.state,t=e.loadingPlanCardInfo,a=e.loadingSwitchPlanInfo,s=e.open;return n.createElement(m.Modal,{ariaLabel:"SwitchPlanModal",className:"SwitchPlanModal",open:s,displayCloseButton:!0,overlayClickClose:!1,onRequestClose:this.handleClose,width:860},n.createElement("div",{className:v("")},t||a?n.createElement(h.LoadingView,{className:v("loading-indicator")}):this.renderPlanCards()))},t.SwitchPlanModal=f.requireCssWithComponent(t,["/static/css/dig-components/index.web-vflAfUkoe.css","/static/css/account/pagelet/plan_card-vflO36ZI2.css","/static/css/account/pagelet/switch_plan_modal-vflmIBgFV.css"]),t})(n.PureComponent);t.SwitchPlanModalView=P})),define("modules/clean/family/constants",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FAMILY_MANAGEMENT_URI_PATH="/account/family",t.getFamilyJoinUrl=function(e){return"/family/join/"+e},t.MAX_LICENSES=6})),define("modules/clean/react/modal_flow",["require","exports","tslib","react","modules/clean/react/modal"],(function(e,t,a,n,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=(function(e){function t(t){var n=e.call(this,t)||this;n.goTo=function(e){var t=n.props.modalSequence;void 0!==e&&Boolean(t[e])&&n.setState({currentModalIndex:e})},n.prev=function(e){var t=n.state.currentModalIndex;if(0===t)return n.exit();n.setState(a.__assign(a.__assign({},e),{currentModalIndex:t-1}))},n.next=function(e){var t=n.props.modalSequence,s=n.state.currentModalIndex;if(s===t.length-1)return n.exit();n.setState(a.__assign(a.__assign({},e),{currentModalIndex:s+1}))},n.exit=function(){if(n.props.onClose)return n.props.onClose();s.Modal.close()};var i=t.initialState;return n.state=a.__assign(a.__assign({},i),{currentModalIndex:0}),n}return a.__extends(t,e),t.start=function(e){s.Modal.showInstance(n.default.createElement(t.ModalElement,a.__assign({},e)))},t.prototype.render=function(){var e=this.props.modalSequence[this.state.currentModalIndex],t=e.component,s=e.props;return n.default.createElement(t,a.__assign({},s,{goToModal:this.goTo,nextModal:this.next,prevModal:this.prev,exitModalFlow:this.exit,modalFlowState:this.state}))},t.defaultProps={initialState:{}},t.ModalElement=t,t})((n=a.__importDefault(n)).default.Component);t.DeprecatedModalFlow=i;var r=(function(e){function t(t){var n=e.call(this,t)||this;n.goTo=function(e){void 0!==e&&n.setState({currentModalIndex:e})},n.prev=function(e){var t=n.state.currentModalIndex;if(0===t)return n.exit();n.setState(a.__assign(a.__assign({},e),{currentModalIndex:t-1}))},n.next=function(e){var t=n.state.currentModalIndex;if(t===n.childrenCount-1)return n.exit();n.setState(a.__assign(a.__assign({},e),{currentModalIndex:t+1}))},n.exit=function(){return n.props.onClose()},n.getSanitizedChildren=function(e){return e.filter((function(e){return Boolean(e)}))};var s=t.initialState;return n.state=a.__assign({currentModalIndex:0},s||{}),n}return a.__extends(t,e),Object.defineProperty(t.prototype,"childrenCount",{get:function(){var e=this.props.children;return e?Array.isArray(e)?e.length:1:0},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e=this.state.currentModalIndex,t=this.props.children;if(!t)return null;var a=Array.isArray(t)?this.getSanitizedChildren(t)[e]:t;if(!a)return null;var s={goToModal:this.goTo,nextModal:this.next,prevModal:this.prev,exitModalFlow:this.exit,modalFlowState:this.state};return n.default.createElement(n.default.Fragment,null,a(s))},t.defaultProps={initialState:{}},t})(n.default.Component);t.ModalFlow=r})),define("modules/clean/payments/payment_form_events",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=(function(){function e(){}return e.initClass=function(){this.LOCATION_CHANGE_EVENT="db:paymentform:countrycodechanged",this.ZIP_CHANGE_EVENT="db:paymentform:zipchanged",this.PAYMENT_METHOD_TYPE_CHANGE_EVENT="db:paymentform:paymentmethodtypechanged",this.VAT_CHANGE_EVENT="db:paymentform:vatchanged",this.CPF_CHANGE_EVENT="db:paymentform:cpfchanged",this.UNVALIDATED="db:paymentform:unvalidated",this.VALIDATE_ERROR="db:paymentform:validateerror",this.VALIDATE_SUCCESS="db:paymentform:validatesuccess",this.LOADED_EVENT="db:paymentform:loaded",this.IFRAME_LOADED_EVENT="db:paymentform:iframeloaded",this.IFRAME_FIELDS_STATUS_EVENT="db:paymentform:iframefieldsstatusevent",this.EDIT_SIMPLE_COUNTRY_CLICK_EVENT="db:paymentform:editsimplecountry"},e})();a.initClass(),t.default=a})),define("modules/clean/react/payments/edit_invoice_address_modal/edit_invoice_address_modal_loader",["require","exports","tslib","modules/core/notify","react","modules/clean/react/css","modules/clean/react/sprite","modules/core/uri","modules/core/i18n","modules/clean/react/arbor/aspen/elements/arbor_inputs","modules/clean/payments/validation","modules/clean/react/modal","modules/clean/static_urls","modules/clean/react/tooltip","modules/clean/analytics","modules/clean/ajax_as_promised"],(function(e,t,a,n,s,i,r,o,l,d,u,c,p,m,_,f){"use strict";function g(e){return function(t){return null==t||t.length<=e}}function h(e,t){return s.default.createElement(m.Tooltip,{position:m.TooltipPosition.RIGHT,tooltip_contents:t},e,s.default.createElement(r.Sprite,{group:"web",name:"info",className:"info-sprite",alt:""}))}Object.defineProperty(t,"__esModule",{value:!0}),s=a.__importDefault(s);var y=l.intl.formatMessage({defaultMessage:"Country and postal code must match your account’s payment information."}),M=l.intl.formatMessage({defaultMessage:"Your tax rate on this invoice cannot be updated."}),b={addressName:l.intl.formatMessage({defaultMessage:"Billing name"}),address:l.intl.formatMessage({defaultMessage:"Billing address"}),city:l.intl.formatMessage({defaultMessage:"City"}),state:l.intl.formatMessage({defaultMessage:"State"}),zip:h(l.intl.formatMessage({defaultMessage:"Postal code"}),y),country:h(l.intl.formatMessage({defaultMessage:"Country"}),y),exclusionId:l.intl.formatMessage({defaultMessage:"VAT number (optional)"}),exclusionIdWithTooltip:h(l.intl.formatMessage({defaultMessage:"VAT number (optional)"}),M)},S=(function(e){function i(t){var a=e.call(this,t)||this;return a.disableds={addressName:!1,address:!1,city:!1,state:!1,zip:!0,country:!0,exclusionId:!1,exclusionIdWithTooltip:!1},a.addressNameLength=100,a.addressLength=250,a.cityLength=50,a.stateLength=50,a.vatLength=25,a.undefinedLength=void 0,a.validateHandlers={addressName:g(a.addressNameLength),address:g(a.addressLength),city:g(a.cityLength),state:g(a.stateLength),zip:function(){return!0},country:function(){return!0},exclusionId:function(){return!0},exclusionIdWithTooltip:function(){return!0}},a.maxLengths={addressName:a.addressNameLength,address:a.addressLength,city:a.cityLength,state:a.stateLength,zip:a.undefinedLength,country:a.undefinedLength,exclusionId:a.vatLength,exclusionIdWithTooltip:a.vatLength},a.errorTexts={addressName:l.intl.formatMessage({defaultMessage:"Too long"}),address:l.intl.formatMessage({defaultMessage:"Too long"}),city:l.intl.formatMessage({defaultMessage:"Too long"}),state:l.intl.formatMessage({defaultMessage:"Too long"}),zip:"",country:"",exclusionId:"",exclusionIdWithTooltip:""},a.onSave=function(){var e=a.state.formState,t=a.props.invoice;if(e)if(a.logActions("edit_billing_address_started"),a.setState({submitting:!0}),a.isInputValid()){var n={address_name:e.addressName,address:e.address,city:e.city,state:e.state,exclusion_id:e.exclusionId};t&&(n.invoice_id=o.URI.parse(t.link).getQuery().id.toString()),a.makeEditBillingAddressRequest(n)}else a.setState({submitting:!1,showErrors:!0})},a.onCancel=function(){a.logActions("edit_billing_address_cancelled"),c.Modal.close()},a.state={submitting:!1,showErrors:!1},t.isTeam?(a.editUrl="/edit_billing_address",a.viewModelUrl="/edit_billing_address_view_model",a.vatClass="grid__item--1-1",a.modalClass="edit-invoice-modal"):(a.editUrl="/edit_billing_address_individual",a.viewModelUrl="/edit_billing_address_individual_view_model",a.vatClass="grid__item--1-2",a.modalClass="edit-invoice-modal professional-modal"),a}return a.__extends(i,e),i.showInstance=function(e,a){var n=s.default.createElement(t.EditInvoiceAddressModalLoader,{invoice:e,isTeam:a});c.Modal.showInstance(n)},i.showUpdateTaxProfileModal=function(e,a){var n=s.default.createElement(t.EditInvoiceAddressModalLoader,{isTeam:e,onUpdated:a});c.Modal.showInstance(n)},i.prototype.componentDidMount=function(){var e,t=void 0;this.props.invoice&&(t=null===(e=o.URI.parse(this.props.invoice.link).getQuery().id)||void 0===e?void 0:e.toString(),this.disableds.exclusionIdWithTooltip=!0),this.makeRequest(t)},i.prototype.makeRequest=function(e){return a.__awaiter(this,void 0,void 0,(function(){var t,n;return a.__generator(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),t={invoice_id:e},[4,f.WebRequest({url:this.viewModelUrl,data:t,dataType:"json"})];case 1:return n=a.sent(),u.hasVat(n.countryCode)&&(this.errorTexts.exclusionId=l.intl.formatMessage({defaultMessage:"Please enter a valid VAT number, e.g. {examples}."},{examples:u.getVatExamples(n.countryCode).join(", ")}),this.validateHandlers.exclusionId=function(e){return!e||u.validateVat(n.countryCode,e)}),this.setState({formState:n}),[3,3];case 2:return a.sent(),c.Modal.close(),[3,3];case 3:return[2]}}))}))},i.prototype.render=function(){var e,t=this.state,a=t.formState,n=t.showErrors,i=t.submitting;if(a){var r=null;if(u.hasVat(a.countryCode)){var o=u.getVatPrefix(a.countryCode);r=this.props.invoice?this.renderInput("exclusionIdWithTooltip",this.vatClass):this.renderInput("exclusionId",this.vatClass,o)}e=this.props.isTeam?s.default.createElement("div",{className:".type--arbor grid__container grid__container--p-large  grid--x-bookend"},this.renderInstructions(a.countryCode),this.renderInput("addressName","grid__item--1-1"),this.renderInput("address","grid__item--1-1"),this.renderInput("city","grid__item--1-2"),this.renderInput("state","grid__item--11-24"),this.renderInput("zip","grid__item--7-24"),this.renderInput("country","grid__item--2-3"),r):s.default.createElement("div",{className:".type--arbor grid__container grid__container--p-large  grid--x-bookend"},this.renderInput("addressName","grid__item--1-1"),this.renderInput("address","grid__item--1-2"),this.renderInput("city","grid__item--1-4"),this.renderInput("state","grid__item--1-4"),this.renderInput("zip","grid__item--1-2"),this.renderInput("country","grid__item--1-2"),r,this.renderInstructions(a.countryCode))}else e=s.default.createElement("div",{className:"loading-spinner"},s.default.createElement("img",{src:p.static_url("/static/images/icons/ajax-loading-small-vfl3Wt7C_.gif"),alt:l.intl.formatMessage({defaultMessage:"Loading"})}));var d=s.default.createElement(c.ModalButtons,{className:"oq-modal__buttons"},s.default.createElement(c.ModalButton,{className:"cancel-button",importance:"tertiary",onClick:this.onCancel},l.intl.formatMessage({defaultMessage:"Cancel"})),s.default.createElement(c.ModalButton,{disabled:!a||i||n&&!this.isInputValid(),importance:"primary",onClick:this.onSave},l.intl.formatMessage({defaultMessage:"Save changes"})));return s.default.createElement(c.Modal,{className:this.modalClass,autoClose:!1,buttonComponent:d,title:l.intl.formatMessage({defaultMessage:"Edit invoice details"})},s.default.createElement("div",{className:"dynamic-content"},e))},i.prototype.logActions=function(e){this.props.isTeam?_.TeamsWebActionsLogger.log(e):_.UserActivityLogger.log("web",e)},i.prototype.makeEditBillingAddressRequest=function(e){return a.__awaiter(this,void 0,void 0,(function(){var t,s;return a.__generator(this,(function(a){switch(a.label){case 0:t=this.props.onUpdated,a.label=1;case 1:return a.trys.push([1,3,4,5]),s=this.editUrl,[4,f.WebRequest({url:s,data:e})];case 2:return a.sent(),this.logActions("edit_billing_address_success"),n.Notify.success(l.intl.formatMessage({defaultMessage:"Invoice details updated."})),[3,5];case 3:return a.sent(),this.logActions("edit_billing_address_edit_failure"),[3,5];case 4:return t&&t(),c.Modal.close(),[7];case 5:return[2]}}))}))},i.prototype.renderInstructions=function(e){var t,a=this.props.invoice;if(t=a?l.intl.formatMessage({defaultMessage:"You are editing details for the {date} invoice."},{date:a.date}):l.intl.formatMessage({defaultMessage:"You are editing details for all future invoices. To edit past invoices, click “Edit” on the invoice item instead."}),u.hasVat(e)){var n=l.intl.formatMessage({defaultMessage:"Please note that changing your VAT number could impact your applicable tax rate."});a&&(n=l.intl.formatMessage({defaultMessage:"To add or change a VAT number or request a tax refund, contact support."})),t=t.concat(" ",n)}return s.default.createElement("div",{className:"grid__item--1-1 instructions"},t)},i.prototype.renderInput=function(e,t,a){var n=this.state,i=n.formState,r=n.showErrors,o="";return i&&(o=i[e]),s.default.createElement(d.ArborTextInput,{name:e,containerClassName:t,isValid:r?!!this.validateHandlers[e](o)&&"":"",labelText:b[e],errorText:this.errorTexts[e],value:o,onChange:this.onChangeFactory(e),disabled:this.disableds[e],placeholderText:a,maxLength:this.maxLengths[e]})},i.prototype.onChangeFactory=function(e){var t=this;return function(a,n,s){var i=t.state.formState;i&&t.setState((function(t){return i[e]=s,t}))}},i.prototype.isInputValid=function(){var e=this.state.formState;return!!e&&(this.validateHandlers.addressName(e.addressName)&&this.validateHandlers.address(e.address)&&this.validateHandlers.city(e.city)&&this.validateHandlers.state(e.state)&&this.validateHandlers.exclusionId(e.exclusionId))},i})(s.default.Component);t.EditInvoiceAddressModalLoader=i.requireCssWithComponent(S,["/static/css/payments/edit_invoice_address_modal/edit_invoice_address_modal-vflD16tGG.css"])})),define("modules/clean/react/payments/pro/components/payments/pro_payment_info_section",["require","exports","tslib","react","modules/clean/analytics","modules/clean/payments/payment_form/payment_form_spec","modules/clean/payments/validation","modules/core/i18n","modules/clean/react/payments/pro/components/inputs/inputs","modules/clean/react/payments/common/form_value_helpers","modules/clean/react/payments/buy/components/payments/ideal_form","modules/clean/react/payments/pro/components/payments/payment_method_selector","modules/clean/react/payments/checkout/components/payment_method_form/credit_card_frame","modules/clean/react/payments/checkout/components/payment_method_form/direct_debit_form","modules/constants/trademark","modules/clean/react/payments/checkout/components/payment_method_form/address_form","modules/clean/react/payments/checkout/components/payment_method_form/credit_card_purchase_full_name"],(function(e,t,a,n,s,i,r,o,l,d,u,c,p,m,_,f,g){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var h=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onCpfChange=function(e){t.props.actions.updateCpf(e.value)},t.onCpfNameChange=function(e){t.props.actions.updateCpfName(e.value)},t}return a.__extends(t,e),t.prototype.componentDidMount=function(){var e=this.props.formData.countryCode.formattedValue;s.ProEventsLogger.log("uj-billing-country",{country:e}),"BR"===e&&this.props.showCpf&&s.ProEventsLogger.log("uj-cpf-viewed-field"),this.props.actions.updateHistory()},t.prototype.prepareForSubmission=function(){return this.props.formData.paymentMethod.formattedValue===i.PaymentMethod.CreditCard?this.creditCardFrame.tokenize():Promise.resolve(!0)},t.prototype.getCreditCardFrame=function(){return this.creditCardFrame},t.prototype.onVatChange=function(e){this.props.actions.updateVat(e.value)},t.prototype.vatErrorString=function(){var e=this.props.formData.vat;return!d.FormValueHelper.isValid(e)&&e.showError?o.intl.formatMessage({defaultMessage:"Please enter a valid VAT number (ex: {examples})."},{examples:r.getVatExamples(this.props.formData.countryCode.formattedValue).join(", ")}):""},t.prototype.cpfErrorString=function(){var e=this.props.formData.cpf;return!d.FormValueHelper.isValid(e)&&e.showError?o.intl.formatMessage({defaultMessage:"Please enter a valid CPF number."}):""},t.prototype.renderLocationFields=function(){var e=this.props,t=e.paymentSpec,a=e.formData,s=e.isScheduledDowngradeToBasic,i=null;if(t.should_show_vat_for_country(a.countryCode.formattedValue)){var d=r.getVatPrefix(a.countryCode.formattedValue);i=n.default.createElement(l.LabeledTextInput,{className:"payment-info__vat",containerClassName:"grid__item--medium--1-2",name:"vat",labelText:o.intl.formatMessage({defaultMessage:"VAT number (optional)"}),errorText:this.vatErrorString(),placeholder:d,value:a.vat.rawValue,onChange:this.onVatChange.bind(this)})}var u=null;this.props.showCpf&&"BR"===a.countryCode.formattedValue&&(u=n.default.createElement("div",{className:"grid__item"},n.default.createElement(l.LabeledTextInput,{className:"payment-info__cpf",containerClassName:"grid__item--1-2",name:"cpf",labelText:o.intl.formatMessage({defaultMessage:"CPF/CNPJ"}),errorText:this.cpfErrorString(),value:a.cpf.rawValue,onChange:this.onCpfChange}),this.props.showCpfName&&n.default.createElement(l.LabeledTextInput,{className:"payment-info__cpfName",containerClassName:"grid__item--1-2",name:"cpf_name",labelText:o.intl.formatMessage({defaultMessage:"Name"}),value:a.cpfName.rawValue,onChange:this.onCpfNameChange})));var c=o.intl.formatMessage({defaultMessage:"Please note that changing your billing location could impact your applicable tax rate."});t.should_show_vat_for_country(a.countryCode.formattedValue)&&(c=o.intl.formatMessage({defaultMessage:"Please note that changing your billing location or VAT number could impact your applicable tax rate."})),this.props.showNptBillingModal&&(c=o.intl.formatMessage({defaultMessage:"You won't be charged until you confirm your purchase on the next screen."}));var p=this.props.licenseKeyDisplayInfo,m=null;if(p&&p.hasLicenseKey){var g=p.scheduleInfo,h=g.is_schedule_yearly?o.intl.formatMessage({defaultMessage:"Yearly Price"}):g.is_schedule_monthly?o.intl.formatMessage({defaultMessage:"Monthly Price"}):o.intl.formatMessage({defaultMessage:"Price"}),y=g.is_schedule_yearly?o.intl.formatMessage({defaultMessage:"Yearly Total"}):g.is_schedule_monthly?o.intl.formatMessage({defaultMessage:"Monthly Total"}):o.intl.formatMessage({defaultMessage:"Total"}),M={date:p.date,price:p.price},b="";b=p.isTaxInclusive?p.hasMoreKeys?o.intl.formatMessage({defaultMessage:"After all of your license keys expire, you will be charged {price} including applicable taxes until you cancel your subscription."},M):o.intl.formatMessage({defaultMessage:"After your license key expires on {date}, you will be charged {price} including applicable taxes until you cancel your subscription."},M):p.hasMoreKeys?o.intl.formatMessage({defaultMessage:"After all of your license keys expire, you will be charged {price} plus applicable taxes until you cancel your subscription."},M):o.intl.formatMessage({defaultMessage:"After your license key expires on {date}, you will be charged {price} plus applicable taxes until you cancel your subscription."},M),b+=" "+o.intl.formatMessage({defaultMessage:"Previous charges won’t be refunded when you cancel unless it’s legally required. Your payment data is encrypted and secure."}),m=n.default.createElement("div",null,n.default.createElement("table",{className:"license-key-info"},n.default.createElement("div",null,n.default.createElement("td",{className:"license-key-table-column"},n.default.createElement("tr",{className:"strong"},o.intl.formatMessage({defaultMessage:"Dropbox {plus}"},{plus:_.TRADEMARK_PLUS})),n.default.createElement("tr",null,p.email))),n.default.createElement("div",null,n.default.createElement("td",{className:"license-key-table-column"},n.default.createElement("tr",{className:"license-key-table-row"},n.default.createElement("td",null,h),n.default.createElement("td",null,p.price)),n.default.createElement("tr",{className:"license-key-table-row"},n.default.createElement("td",null,p.taxName),n.default.createElement("td",null,p.totalTax)),n.default.createElement("hr",null),n.default.createElement("tr",{className:"license-key-table-row"},n.default.createElement("td",null,y),n.default.createElement("td",null,p.totalPrice))))),n.default.createElement("div",null,b))}var S=n.default.createElement("div",{className:s?"disclaimer-message-full-width":"disclaimer-message"},m,c,s&&n.default.createElement("span",null," ",o.intl.formatMessage({defaultMessage:"Updating your billing information will cancel your scheduled plan downgrade. If you still wish to downgrade, you will need to schedule it again."})));return n.default.createElement("div",{className:"grid__item"},n.default.createElement(l.LabeledInputRow,{className:"payment-info__location grid__item grid--x-bookend",errors:[{name:"zip",text:"",className:"grid__item--1-2"}]},n.default.createElement(f.AddressForms,{paymentSpec:this.props.paymentSpec,formData:this.props.formData,actions:this.props.actions,countryList:this.props.countryList,psd2AddressFields:this.props.psd2AddressFields,showCpf:this.props.showCpf,showServerViewVersion:this.props.showServerViewVersion,businessStyling:!0})),i,n.default.createElement(l.LabeledInputRow,{className:"payment-info__location grid__item grid--x-bookend",errors:[{name:"cpf",text:"",className:"grid__item--1-2"}]},u),S)},t.prototype.renderPaymentMethodSelector=function(){var e=this.props,t=e.paymentSpec,a=e.formData,s=e.enableIdealReact;return n.default.createElement(c.PaymentMethodSelector,{paymentSpec:t,paymentMethod:a.paymentMethod.rawValue,updatePaymentMethod:this.props.actions.updatePaymentMethod,countryCode:a.countryCode.rawValue,zipCode:a.zipCode.rawValue,enableIdealReact:s})},t.prototype.render=function(){var e=this,t=this.props,s=t.actions,r=t.formData,o=t.idealBanks,l=t.enableIdealReact,d=t.hidePaymentMethodSelector,c=this.renderLocationFields(),_=c;return r.paymentMethod.formattedValue===i.PaymentMethod.DirectDeposit?_=n.default.createElement(m.DirectDebitForm,{locationFields:c,formData:r,actions:s}):l&&r.paymentMethod.formattedValue===i.PaymentMethod.Ideal&&(_=n.default.createElement(u.IdealForm,{locationFields:c,formData:r,actions:s,idealBanks:o})),n.default.createElement("div",{className:"grid__item payment-info"},!d&&this.renderPaymentMethodSelector(),n.default.createElement(g.CreditCardPurchaseFullNameIfPsd2,a.__assign({},this.props,{businessStyling:!0})),n.default.createElement(p.CreditCardFrame,{getHeightFromIframe:!0,iframeUrl:this.props.iframeUrl,hidden:r.paymentMethod.formattedValue!==i.PaymentMethod.CreditCard,actions:this.props.actions,ref:function(t){e.creditCardFrame=t},nonce:r.nonce,bin:r.bin,submitForm:this.props.submitForm}),_)},t})((n=a.__importDefault(n)).default.Component);t.ProPaymentInfoSection=h})),define("modules/clean/react/payments/pro/components/payments/payment_method_input",["require","exports","tslib","react","modules/core/i18n","classnames","modules/clean/payments/payment_form/payment_form_spec","modules/clean/react/payments/pro/components/inputs/inputs"],(function(e,t,a,n,s,i,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),i=a.__importDefault(i);var l=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.onChange=function(e){this.props.onSelected(this.props.paymentMethod)},t.prototype.render=function(){var e,t=this.props,a=t.icons,l=t.labelText,d=t.paymentMethod,u=t.numberOfPaymentMethods,c=[],p=["payment-info__option"];if(3===u?p.push("grid__item--medium--1-4"):4===u?p.push("grid__item--medium--5-24"):p.push("grid__item--medium--1-2"),l&&(e="payment-method-label#debit",c.push(n.default.createElement("span",{title:"debit",key:e,className:"debit"},this.props.labelText))),a){if(d===r.PaymentMethod.CreditCard){var m=a.join(", ").replace("_","-"),_=s.intl.formatMessage({defaultMessage:"Credit card. We accept {payment_methods}"},{payment_methods:m});e="payment-method-label#creditcard",c.push(n.default.createElement("span",{key:e,className:"ax-visually-hidden"},_))}else d===r.PaymentMethod.PayPal?(e="payment-method-label#paypal",c.push(n.default.createElement("span",{key:e,className:"ax-visually-hidden"},s.intl.formatMessage({defaultMessage:"Paypal"})))):d===r.PaymentMethod.Ideal&&(e="payment-method-label#ideal",c.push(n.default.createElement("span",{key:e,className:"ax-visually-hidden"},s.intl.formatMessage({defaultMessage:"iDEAL"}))));for(var f=0,g=a;f<g.length;f++){var h=g[f];e="payment-method-icon#"+h,c.push(n.default.createElement("span",{title:h,key:e,className:h}))}}return n.default.createElement("div",{className:i.default(p)},n.default.createElement(o.LabeledRadioInput,{name:"payment_method",className:"payment-info__payment",value:d.toString(),checked:this.props.selected,onClick:this.onChange.bind(this),onChange:function(){}}),n.default.createElement("label",{htmlFor:"payment_method_"+d,id:"payment_method_"+d,className:"payment-info__method-label",onClick:this.onChange.bind(this)},c))},t})(n.default.Component);t.PaymentMethodInput=l})),define("modules/clean/react/payments/pro/components/payments/payment_method_selector",["require","exports","tslib","react","modules/core/i18n","modules/clean/payments/payment_form/payment_form_spec","modules/clean/react/payments/pro/components/payments/payment_method_input"],(function(e,t,a,n,s,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onPaymentMethodSelected=function(e){t.props.updatePaymentMethod(e)},t}return a.__extends(t,e),t.prototype.getLabelForMethodId=function(e){return e===i.PaymentMethod.CreditCard?n.default.createElement(r.PaymentMethodInput,{key:"payment-method#"+e,paymentMethod:i.PaymentMethod.CreditCard,selected:this.props.paymentMethod===i.PaymentMethod.CreditCard,onSelected:this.onPaymentMethodSelected.bind(this),icons:this.props.paymentSpec.supported_credit_cards_for_country(this.props.countryCode),numberOfPaymentMethods:this.props.paymentSpec.available_payment_methods_for_country(this.props.countryCode).length}):e===i.PaymentMethod.PayPal?n.default.createElement(r.PaymentMethodInput,{key:"payment-method#"+e,paymentMethod:i.PaymentMethod.PayPal,selected:this.props.paymentMethod===i.PaymentMethod.PayPal,onSelected:this.onPaymentMethodSelected,icons:["paypal"],numberOfPaymentMethods:this.props.paymentSpec.available_payment_methods_for_country(this.props.countryCode).length}):e===i.PaymentMethod.DirectDeposit?n.default.createElement(r.PaymentMethodInput,{key:"payment-method#"+e,paymentMethod:i.PaymentMethod.DirectDeposit,selected:this.props.paymentMethod===i.PaymentMethod.DirectDeposit,onSelected:this.onPaymentMethodSelected,labelText:s.intl.formatMessage({defaultMessage:"Direct Debit"}),numberOfPaymentMethods:this.props.paymentSpec.available_payment_methods_for_country(this.props.countryCode).length}):this.props.enableIdealReact&&e===i.PaymentMethod.Ideal?n.default.createElement(r.PaymentMethodInput,{key:"payment-method#"+e,paymentMethod:i.PaymentMethod.Ideal,selected:this.props.paymentMethod===i.PaymentMethod.Ideal,onSelected:this.onPaymentMethodSelected,icons:["ideal"],numberOfPaymentMethods:this.props.paymentSpec.available_payment_methods_for_country(this.props.countryCode).length}):null},t.prototype.render=function(){var e=this,t=this.props,a=t.countryCode,s=t.paymentSpec.available_payment_methods_for_country(a).map((function(t){return e.getLabelForMethodId(t)}));return n.default.createElement("div",{className:"payment-info__selector grid__item grid__container--p-small"},s)},t})((n=a.__importDefault(n)).default.Component);t.PaymentMethodSelector=o})),define("modules/clean/react/payments/update_individual_billing/update_individual_action_creator",["require","exports","tslib","redux","modules/clean/react/payments/common/form/actions/actions","modules/clean/react/payments/update_individual_billing/update_individual_actions","modules/clean/react/payments/buy/actions/page_actions"],(function(e,t,a,n,s,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),s=a.__importStar(s),i=a.__importStar(i),r=a.__importStar(r),t.bindBillingActions=function(e){return n.bindActionCreators({updateHistory:r.updateHistory,showFormFieldErrors:s.showFormFieldErrors,submitBillingForm:i.submitBillingForm,updatePaymentMethod:s.updatePaymentMethod,updateCountryCode:i.updateBillingCountryCode,updateZipCode:s.updateZipCode,updateVat:s.updateVat,updateCpf:s.updateCpf,updateCpfName:s.updateCpfName,updateNonce:s.updateNonce,updatePayPalNonce:s.updatePayPalNonce,updateAdyenEncryptedCard:s.updateAdyenEncryptedCard,updateEncryptedCardForNetworkToken:s.updateEncryptedCardForNetworkToken,updateBrowserInfo:s.updateBrowserInfo,updateThreeDsData:s.updateThreeDsData,triggerThreeDsChallenge:s.triggerThreeDsChallenge,triggerThreeDsFingerprint:s.triggerThreeDsFingerprint,updateBIN:s.updateBIN,updateAccountHolderName:s.updateAccountHolderName,updateIBAN:s.updateIBAN,updateMandateSigned:s.updateMandateSigned,updateIdealBank:s.updateIdealBank,updatePhone:s.updatePhone,updateCity:s.updateCity,updateName:s.updateName,updateAddress:s.updateAddress,blurCCField:s.blurCCField,blurZipCode:s.blurZipCode,blurVat:s.blurVat,blurCpf:s.blurCpf,blurAccountHolderName:s.blurAccountHolderName,blurIBAN:s.blurIBAN,blurPhone:s.blurPhone,blurCity:s.blurCity,blurName:s.blurName,blurAddress:s.blurAddress},e.dispatch)}})),define("modules/clean/react/payments/update_individual_billing/update_individual_actions",["require","exports","tslib","modules/core/i18n","modules/core/notify","modules/clean/payments/payment_form/payment_form_spec","modules/clean/react/payments/common/form/actions/actions"],(function(e,t,a,n,s,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=a.__importStar(i),t.submitBillingForm=function(e,t){return void 0===t&&(t={}),function(a,n){var s,o=n(),l=o.formData,d=l.countryCode.formattedValue,u=o.pageState.paymentFormSpec,c={},p=["countryCode"];u.allow_zip_code_for_country(d)&&p.push("zipCode"),u.should_show_vat_for_country(d)&&p.push("vat"),t.showCpf&&u.should_require_cpf(d,o.formData.paymentMethod.formattedValue)&&(p.push("cpf"),t.showCpfName&&p.push("cpfName")),c.request_id=o.pageState.requestId,c.submit_seq=o.pageState.submitSeq,t.expRenewalsProMobilePaymentPage&&(c.expRenewalsProMobilePaymentPage=!0),u.showPSD2FieldsToUser(l.paymentMethod.formattedValue,d,!!t.psd2AddressFields)&&p.push("name","city","address"),t.showRebillUpsell&&(c.showRebillUpsell=t.showRebillUpsell),o.formData.paymentMethod.formattedValue===i.PaymentMethod.CreditCard?(p.push("nonce"),p.push("adyenEncryptedCard"),p.push("encryptedCardForNetworkToken"),p.push("bin"),p.push("browserInfo"),p.push("threeDsData"),s="/update_credit_card_billing_info_ajax"):o.formData.paymentMethod.formattedValue===i.PaymentMethod.DirectDeposit?(p.push("accountHolderName","iban","mandateSigned"),s="/update_direct_debit_billing_info_ajax"):o.formData.paymentMethod.formattedValue===i.PaymentMethod.Ideal?(p.push("idealBankId","idealBankName"),s="/update_ideal_billing_info_ajax"):s="/paypal_billing_info",a(r.submitForm(s,p,e,c,void 0,t.handle3DsMessage,t.trigger))}},t.updateBillingCountryCode=function(e){return function(t,a){var i=a(),o=i.pageState.countryToCurrencyMap;!(e in o)&&i.formData.countryCode.formattedValue in o?s.Notify.error(n.intl.formatMessage({defaultMessage:"You can’t change to a country with a different currency. For help, contact support."}),3):t(r.updateCountryCode(e))}}})),define("modules/clean/react/payments/update_individual_billing/update_individual_billing_modal",["require","exports","tslib","react","modules/core/i18n","modules/clean/react/payments/update_individual_billing/update_individual_store_creator","modules/clean/react/payments/update_individual_billing/update_individual_action_creator","modules/clean/react/payments/update_individual_billing/reducers","modules/clean/react/payments/pro/components/payments/pro_payment_info_section","modules/clean/payments/payment_form/payment_form_spec","modules/clean/analytics","modules/clean/react/payments/common/form/actions/actions"],(function(e,t,a,n,s,i,r,o,l,d,u,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p=(function(e){function t(t){var a=e.call(this,t)||this;return a.prepareForSubmission=function(){return a.paymentInfoSection.prepareForSubmission()},a.savePaymentInfoSection=function(e){a.paymentInfoSection=e},a.onButtonClickSubmitForm=function(e){void 0===e&&(e=c.SubmitFormTriggerType.ButtonClick),a.submitForm(e)},a.store=i.createBillingStore(t,o.BillingReducer),a.state=a.store.getState(),a.store.subscribe((function(){var e=a.store.getState();e.pageState.submitSuccess||a.setState((function(t){return a.props.setSubmittingStatus(e.pageState.submitting),e}))})),a}return a.__extends(t,e),Object.defineProperty(t.prototype,"actions",{get:function(){return r.bindBillingActions(this.store)},enumerable:!0,configurable:!0}),t.prototype.logVatChange=function(e,t){null===e&&(e=""),null===t&&(t=""),""===e&&""!==t?u.ProEventsLogger.log("update_billing_added_vat"):""!==e&&""===t?u.ProEventsLogger.log("update_billing_removed_vat"):e!==t&&u.ProEventsLogger.log("update_billing_updated_vat")},t.prototype.onAccept=function(){u.ProEventsLogger.log("update_billing_open_save_changes_click"),this.logVatChange(this.props.vat,this.state.formData.vat.formattedValue),this.submitForm()},t.prototype.submitForm=function(e){var t={showCpf:this.props.showCpf,showCpfName:this.props.showCpfName,showRebillUpsell:this.props.showRebillUpsell,expRenewalsProMobilePaymentPage:this.props.expRenewalsProMobilePaymentPage,psd2AddressFields:this.props.psd2AddressFields,handle3DsMessage:this.paymentInfoSection.getCreditCardFrame().handle3DsMessage,trigger:e};this.actions.submitBillingForm(this.prepareForSubmission,t)},t.prototype.onDismiss=function(){u.ProEventsLogger.log("update_billing_open_cancel")},t.prototype.render=function(){var e,t=this.props,a=t.iframeUrl,i=t.countryList,r=t.idealBanks,o=t.enableIdealReact,u=t.userInfo,c=t.isScheduledDowngradeToBasic,p=t.licenseKeyDisplayInfo,m=this.state,_=m.formData,f=m.pageState;if(_.paymentMethod.rawValue===d.PaymentMethod.PayPal)e=n.default.createElement("div",{className:"payment-method-disclaimer","data-payment-method-id":"{payment_method.ID}"},s.intl.formatMessage({defaultMessage:"You’ll be redirected to PayPal to finish updating your billing information."}));else if(_.paymentMethod.rawValue===d.PaymentMethod.Ideal){var g;g=this.props.idealChargeAmount,e=n.default.createElement("div",{className:"payment-method-disclaimer","data-payment-method-id":"{payment_method.ID}"},s.intl.formatMessage({defaultMessage:"We’ll be charging you {ideal_charge_amt} to validate the account when you update your bank account information."},{ideal_charge_amt:g}))}else e=null;return n.default.createElement("div",{className:"payment-info-section"},n.default.createElement("div",{className:"payment-method-section grid__container"},n.default.createElement(l.ProPaymentInfoSection,{paymentSpec:f.paymentFormSpec,iframeUrl:a,countryList:i,formData:_,actions:this.actions,ref:this.savePaymentInfoSection,idealBanks:r,enableIdealReact:o,userInfo:u,isScheduledDowngradeToBasic:c,showCpf:this.props.showCpf,showCpfName:this.props.showCpfName,licenseKeyDisplayInfo:p,hidePaymentMethodSelector:!1,productPlanType:-1,psd2AddressFields:this.props.psd2AddressFields,submitForm:this.onButtonClickSubmitForm,showNptBillingModal:this.props.showNptBillingModal}),e))},t})((n=a.__importDefault(n)).default.Component);t.IndividualUpdateBillingModal=p})),define("modules/clean/react/payments/update_individual_billing/update_individual_billing_modal_loader",["require","exports","tslib","classnames","react","modules/core/browser","modules/core/browser_detection","spectrum/button","modules/core/notify","modules/core/i18n","modules/clean/analytics","modules/clean/ajax","modules/clean/react/css","modules/clean/react/modal","modules/clean/react/payments/update_individual_billing/update_individual_billing_modal","modules/clean/static_urls","modules/clean/react/image","modules/clean/react/payments/unified_module/unified_payment_form_async"],(function(e,t,a,n,s,i,r,o,l,d,u,c,p,m,_,f,g,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),s=a.__importDefault(s),i=a.__importStar(i),r=a.__importStar(r),c=a.__importStar(c);var y=(function(e){function p(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={loadingContent:!0,submitting:!1},t.onAccept=function(){t.updateBillingModal&&t.updateBillingModal.onAccept(),t.unifiedPaymentFormAsync&&t.unifiedPaymentFormAsync.onAccept(),u.UserActivityLogger.log("web","update_billing_modal_started")},t.onDismiss=function(){t.updateBillingModal&&t.updateBillingModal.onDismiss(),u.UserActivityLogger.log("web","update_billing_modal_cancelled"),m.Modal.close()},t.saveUpdateBillingModal=function(e){t.updateBillingModal=e},t.saveUnifiedPaymentFormAsync=function(e){t.unifiedPaymentFormAsync=e},t.setSubmittingStatus=function(e){t.setState((function(t){return a.__assign(a.__assign({},t),{submitting:e})}))},t.onSuccess=function(){m.Modal.close()},t}return a.__extends(p,e),p.showInstance=function(){m.Modal.showInstance(s.default.createElement(t.IndividualUpdateBillingModalLoader,null))},p.prototype.componentDidMount=function(){var e=this;c.WebRequest({url:"/account/profile/billing_info",success:function(t){var n=JSON.parse(t);e.setState((function(e){return a.__assign(a.__assign({},e),{loadedProps:{countryList:n.countryList,iframeUrl:n.iframeUrl,countryToCurrencyMap:n.countryToCurrencyMap,userInfo:n.userInfo,idealBanks:n.idealBanks,enableIdealReact:n.enableIdealReact,countryCode:n.countryCode,serializedPaymentFormSpec:n.serializedPaymentFormSpec,idealChargeAmount:n.idealChargeAmount,isScheduledDowngradeToBasic:n.isScheduledDowngradeToBasic,vat:n.vat,showCpf:n.showCpf,showCpfName:n.showCpfName,psd2AddressFields:n.psd2AddressFields,showRebillUpsell:n.showRebillUpsell,licenseKeyDisplayInfo:n.licenseKeyDisplayInfo,requestId:n.requestId,unifiedPayment:n.unifiedPayment,showNptBillingModal:n.showNptBillingModal},loadingContent:!1})})),u.UserActivityLogger.log("web","update_billing_modal_success")},error:function(e){l.Notify.error(d.intl.formatMessage({defaultMessage:"Failed to load modal."})),u.UserActivityLogger.log("web","update_billing_modal_failure",{request_id:e.getResponseHeader("x-dropbox-request-id"),status:e.status}),m.Modal.close()}})},Object.defineProperty(p.prototype,"expRenewalsProMobilePaymentPage",{get:function(){return r.is_supported_mobile_browser()&&"V2"===i.get_uri().getQuery().exp_renewals_pro_mobile_payment_page},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"modalTitle",{get:function(){var e,t=d.intl.formatMessage({defaultMessage:"Update billing information"});return this.expRenewalsProMobilePaymentPage&&(t=s.default.createElement("div",{className:"exp-renewals-pro-mobile-payment-page-modal-title"},s.default.createElement(g.Image,{alt:d.intl.formatMessage({defaultMessage:"Dropbox logo"}),className:"exp-renewals-pro-mobile-payment-page-modal-title__logo",src:f.static_url("/static/images/logo_catalog/dropbox-business-icon_m1-vflczuza3.svg")}),s.default.createElement("p",{className:"exp-renewals-pro-mobile-payment-page-modal-title__title"},t))),(null===(e=this.state.loadedProps)||void 0===e?void 0:e.showNptBillingModal)&&(t=d.intl.formatMessage({defaultMessage:"Step 1/2: add your billing info",description:"This is the first step (payment method) of the two steps to add billing info"})),t},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"primaryButtonText",{get:function(){var e,t=d.intl.formatMessage({defaultMessage:"Save changes"});return(null===(e=this.state.loadedProps)||void 0===e?void 0:e.showNptBillingModal)&&(t=d.intl.formatMessage({defaultMessage:"Next",description:"directs to the next step for adding billing info"})),t},enumerable:!0,configurable:!0}),p.prototype.renderButtons=function(){var e=this.state,t=e.loadingContent,a=e.submitting;return s.default.createElement(m.ModalButtons,{className:"oq-modal__buttons"},s.default.createElement(o.Button,{className:"cancel-button",variant:"secondary",onClick:this.onDismiss},d.intl.formatMessage({defaultMessage:"Cancel"})),s.default.createElement(o.Button,{disabled:t||a,variant:"primary",onClick:this.onAccept},this.primaryButtonText))},p.prototype.renderContent=function(){var e=this.state,t=e.loadingContent,a=e.loadedProps;if(this.state.loadedProps&&this.state.loadedProps.unifiedPayment)return s.default.createElement(h.UnifiedPaymentFormAsync,{isSubmittingStatus:this.setSubmittingStatus,onSuccess:this.onSuccess,ref:this.saveUnifiedPaymentFormAsync});if(t)return s.default.createElement("div",{className:"loading-spinner"},s.default.createElement("img",{src:f.static_url("/static/images/icons/ajax-loading-small-vfl3Wt7C_.gif"),alt:d.intl.formatMessage({defaultMessage:"Loading"})}));var n=a,i=n.countryList,r=n.iframeUrl,o=n.countryToCurrencyMap,l=n.countryCode,u=n.serializedPaymentFormSpec,c=n.userInfo,p=n.idealBanks,m=n.enableIdealReact,g=n.idealChargeAmount,y=n.isScheduledDowngradeToBasic,M=n.vat,b=n.showCpf,S=n.showCpfName,v=n.showRebillUpsell,L=n.licenseKeyDisplayInfo,T=n.psd2AddressFields,w=n.requestId,D=n.showNptBillingModal;return s.default.createElement(_.IndividualUpdateBillingModal,{iframeUrl:r,countryList:i,countryToCurrencyMap:o,countryCode:l,serializedPaymentFormSpec:u,userInfo:c,idealBanks:p,enableIdealReact:m,expRenewalsProMobilePaymentPage:this.expRenewalsProMobilePaymentPage,setSubmittingStatus:this.setSubmittingStatus,ref:this.saveUpdateBillingModal,idealChargeAmount:g,isScheduledDowngradeToBasic:y,vat:M,showCpf:b,showCpfName:S,showRebillUpsell:v,licenseKeyDisplayInfo:L,psd2AddressFields:T,submitForm:this.onAccept,requestId:w,showNptBillingModal:D})},p.prototype.render=function(){var e=n.default("update-billing-modal",{"update-billing-modal--mobile":this.expRenewalsProMobilePaymentPage,"update-billing-modal--mobile-safari":this.expRenewalsProMobilePaymentPage&&r.iOS});return s.default.createElement(m.Modal,{autoClose:!1,buttonComponent:this.renderButtons(),className:e,title:this.modalTitle},s.default.createElement("div",{className:"dynamic-content"},this.renderContent()))},p})(s.default.Component);t.UpdateBillingModalLoaderView=y,t.IndividualUpdateBillingModalLoader=p.requireCssWithComponent(y,["/static/css/pro/components/update_billing_modal_individual-vfl6fDnGg.css"])})),define("modules/clean/react/payments/update_individual_billing/reducers",["require","exports","tslib","modules/clean/react/payments/common/form/reducers/reducers","modules/clean/react/payments/common/payments/reducers/reducers","modules/clean/react/payments/common/pricing/reducers/reducers"],(function(e,t,a,n,s,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BillingReducer=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.reduce((function(e,t){return function(a,n){return t(e(a,n),n)}}))}.apply(void 0,a.__spreadArrays([function(e,t){return"SubmitFormSuccess"!==t.type?e:a.__assign(a.__assign({},e),{pageState:a.__assign(a.__assign({},e.pageState),{submitSuccess:!0})})},n.FormReducer],s.PaymentMethodReducers,i.TransitionManagementReducers))})),define("modules/clean/react/payments/update_individual_billing/update_individual_store_creator",["require","exports","tslib","redux","redux-thunk","modules/clean/redux/unsupported","modules/clean/analytics","modules/clean/dbmodal_stack","modules/clean/react/modal","modules/clean/react/payments/common/middleware/payments_ux_logger","modules/clean/react/payments/common/form/middleware/middleware","modules/clean/react/payments/common/payments/state/store_creator","modules/clean/react/payments/common/form_value_factory","modules/clean/react/snackbar","modules/clean/top_notif","modules/core/i18n","modules/core/notify","modules/core/browser"],(function(e,t,a,n,s,i,r,o,l,d,u,c,p,m,_,f,g,h){"use strict";function y(e){return function(e){return function(a){if("SubmitFormSuccess"!==a.type)return e(a);var n=e(a),s=void 0!==a.additionalData&&a.additionalData.showRebillUpsell,i=a.additionalData&&a.additionalData.expRenewalsProMobilePaymentPage;return r.ProEventsLogger.log("update_billing_open_save_changes_success"),_.TopNotificationBar.hideById("rebill-bar"),s?(g.Notify.clear(),m.Snackbar.complete(f.intl.formatMessage({defaultMessage:"Payment method successfully updated."})),o.DBModalStack.trigger(t.BILLING_INFO_UPDATED,{showChangePlanConfirm:!0})):i?g.Notify.success(f.intl.formatMessage({defaultMessage:"We’ve successfully updated your account’s billing information. You’ll be redirected shortly."}),10,(function(){return h.redirect(a.data.data.redirect_url)})):(g.Notify.success(f.intl.formatMessage({defaultMessage:"We’ve successfully updated your account’s billing information."})),l.Modal.close(),o.DBModalStack.trigger(t.BILLING_INFO_UPDATED,null)),n}}}function M(e,t,a){var n=e.vat,s=e.cpf,i=e.countryCode,r=e.userInfo,o=c.createPaymentFormData(e,t,a),l=o.city,d=o.address,u=o.phone,m=o.name,_=o.paymentMethod,f=o.countryCode,g=o.zipCode,h=o.vat,y=o.cpf,M=o.nonce,b=o.payPalNonce,S=o.adyenEncryptedCard,v=o.encryptedCardForNetworkToken,L=o.bin,T=o.browserInfo,w=o.threeDsData,D=o.accountHolderName,P=o.iban,C=o.mandateSigned,E=o.termsAndService,k=o.idealBankId,Y=o.idealBankName;return{city:l,address:d,phone:u,name:m,paymentMethod:_,countryCode:f,zipCode:g,vat:n?p.FormValueFactory.createVat(n,i):h,cpf:s?p.FormValueFactory.createCpf(s):y,cpfName:p.FormValueFactory.createCpfNamePrefill("","",r.displayName),nonce:M,payPalNonce:b,adyenEncryptedCard:S,encryptedCardForNetworkToken:v,bin:L,browserInfo:T,threeDsData:w,accountHolderName:D,iban:P,mandateSigned:C,termsAndService:E,idealBankId:k,idealBankName:Y}}Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),s=a.__importDefault(s),t.BILLING_INFO_UPDATED="billing_info_modal:updated",t.submitFormSuccessMiddleware=y,t.createBillingStore=function(e,t){var a=(function(e){var t=(function(e){var t=c.createPaymentPageState(e).paymentFormSpec;return{countryToCurrencyMap:e.countryToCurrencyMap,submitSuccess:!1,submitState:null,submitting:!1,submitSeq:0,paypalEmail:"",requestId:e.requestId,paymentFormSpec:t}})(e),a=(function(e){var t=c.createPaymentPricingState(e),a=t.countryCode,n=t.countryCodeLoading,s=t.hasCurrencyChanged,i=t.hasTaxChangedWithinCountry,r=t.loadingPrices,o=t.requestToken,l=t.recentLoadEvent;return{countryCode:a,countryCodeLoading:n,hasCurrencyChanged:s,hasTaxChangedWithinCountry:i,loadingPrices:r,requestToken:o,recentLoadEvent:l}})(e);return{pricingState:a,pageState:t,formData:M(e,t,a)}})(e),r=n.applyMiddleware(s.default,u.submitFormErrorMiddleware,y,new d.PaymentsUXLogger(e.requestId).reduxMiddleware);return i.createStore(t,a,r)},t.createFormData=M})),define("modules/clean/teams/admin/lib/billing_history",["require","exports","modules/clean/teams/admin/types/billing_history"],(function(e,t,a){"use strict";function n(e){var t=e.description;return!!t&&(-1!==t.indexOf("Google")||-1!==t.indexOf("Apple"))}Object.defineProperty(t,"__esModule",{value:!0}),t.SelectedYearTypes={ALL_TIME:"all-time",YEAR_TO_DATE:"year-to-date"},t.getHistoryData=function(e,s){void 0===s&&(s=t.SelectedYearTypes.ALL_TIME);var i=(function(e){for(var t=[],s=0;s<e.length;s++){var i=e[s];if(s<e.length-1){var r=e[s+1],o=n(r)||n(i);if(i.type===a.BillingRowType.Payment&&r.type===a.BillingRowType.Invoice&&(r.billed===i.paid||r.billed==="("+i.paid+")"||o)&&r.date===i.date){var l={id:s,invoice:r,payment:i,isMobile:o};t.push(l),s++;continue}}i.type===a.BillingRowType.Payment?t.push({id:s,payment:i}):t.push({id:s,invoice:i})}return t})(e),r=(new Date).getFullYear().toString();return s===t.SelectedYearTypes.ALL_TIME||(i=s===t.SelectedYearTypes.YEAR_TO_DATE?i.filter((function(e){return e.payment?-1!==e.payment.date.indexOf(r):!!e.invoice&&-1!==e.invoice.date.indexOf(r)})):i.filter((function(e){return e.payment?-1!==e.payment.date.indexOf(s):!!e.invoice&&-1!==e.invoice.date.indexOf(s)}))),i=i.filter((function(e){return e.invoice&&null!==e.invoice.description||e.payment&&null!==e.payment.description}))}})),define("modules/clean/teams/admin/types/billing_history",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(function(e){e[e.Invoice=0]="Invoice",e[e.Payment=1]="Payment",e[e.Legacy=2]="Legacy"})(t.BillingRowType||(t.BillingRowType={}))})),define("modules/clean/teams/admin/widgets/admin_priced_list/admin_priced_list",["require","exports","tslib","react","modules/clean/react/css"],(function(e,t,a,n,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.render=function(){return n.default.createElement("div",{className:"admin-priced-list"},n.default.createElement("div",null,this.props.children))},t})((n=a.__importDefault(n)).default.Component);t.AdminPricedList=s.requireCssWithComponent(i,["/static/css/teams/admin/widgets/admin_priced_list/admin_priced_list-vflg-PZA3.css"])})),define("modules/clean/teams/admin/widgets/admin_priced_list/admin_priced_list_item",["require","exports","tslib","react","classnames","modules/core/i18n","modules/clean/react/badge"],(function(e,t,a,n,s,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),s=a.__importDefault(s);var o=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onChange=function(){},t}return a.__extends(t,e),t.prototype.renderTitleWarningText=function(){var e=this.props.titleWarningText;if(e)return n.default.createElement("span",{className:"admin-priced-list-item__content_title_warning"}," ",e)},t.prototype.renderTitleSecondaryText=function(){var e=this.props.titleSecondaryText;if(e)return n.default.createElement("span",{className:"admin-priced-list-item__content_title_secondary"}," ",e)},t.prototype.renderRecommendedSign=function(){var e=this.props,t=e.titleSecondaryText,a=e.titleWarningText,s=e.recommended;if(!t&&!a&&s)return n.default.createElement("div",{className:"admin-priced-list-item__content_title_recommended"},i.intl.formatMessage({defaultMessage:"RECOMMENDED"}))},t.prototype.renderEffectiveDate=function(){var e=this.props,t=e.price,a=e.effectiveDate;if(!t)return n.default.createElement("div",{className:"admin-priced-list-item__content_title_effective_date"},a)},t.prototype.getClickHandler=function(){if(!this.props.disableItem)return this.props.onClick},t.prototype.render=function(){var e,t=this.props,i=t.description,o=t.price,l=t.title,d=t.unit,u=t.detailsLink,c=t.disableItem,p=t.effectiveDate,m=this.props.className?this.props.className:"",_=o?o.toString():p?"":"-",f=o?d:"",g=s.default(((e={"admin-priced-list-item":!0,active:!0===this.props.isSelected})[m]=!0,e.disabled=c,e));return n.default.createElement("div",{className:g,onClick:this.getClickHandler()},n.default.createElement("div",{className:"admin-priced-list-item__content"},n.default.createElement("div",{className:"admin-priced-list-item__content_title"},n.default.createElement("input",{type:"radio",checked:this.props.isSelected,onChange:this.onChange,disabled:this.props.disableItem}),n.default.createElement("h1",{className:"admin-priced-list-item__content_title_text"},l,this.props.badge&&n.default.createElement(r.Badge,a.__assign({},this.props.badge)),this.renderTitleWarningText(),this.renderTitleSecondaryText()),this.renderRecommendedSign(),this.renderEffectiveDate()),n.default.createElement("div",{className:"admin-priced-list-item__content_description u-font-meta"},i,u)),_&&n.default.createElement("div",{className:"admin-priced-list-item__pricing"},n.default.createElement("div",{className:"admin-priced-list-item__pricing_price"},_),n.default.createElement("div",{className:"admin-priced-list-item__pricing_unit"},f)))},t})(n.default.Component);t.AdminPricedListItem=o})),define("modules/clean/teams/admin/widgets/admin_priced_list/admin_priced_list_item_variant",["require","exports","tslib","react","classnames","modules/core/i18n","modules/clean/payments/skus/constants"],(function(e,t,a,n,s,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),s=a.__importDefault(s);var o=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onChange=function(){},t}return a.__extends(t,e),t.prototype.getClickHandler=function(){if(!this.props.disableItem)return this.props.onClick},t.prototype.render=function(){var e,t=this.props,a=t.description,o=t.price,l=t.title,d=t.detailsLink,u=t.disableItem,c=t.effectiveDate,p=t.schedule,m=t.isCurrentSchedule,_=t.pricePerMonth,f=t.pricePerYear,g=this.props.className?this.props.className:"",h=o?o.toString():c?"":"-",y=s.default(((e={"admin-priced-list-item":!0,active:!0===this.props.isSelected})[g]=!0,e.disabled=u,e)),M=p===r.ScheduleId.YEARLY,b=M&&_.amount>f.divide(12).amount;return n.default.createElement("div",{className:y,onClick:this.getClickHandler()},n.default.createElement("div",{className:"admin-priced-list-item__content"},n.default.createElement("div",{className:"admin-priced-list-item__content_title"},n.default.createElement("input",{type:"radio",checked:this.props.isSelected,onChange:this.onChange,disabled:this.props.disableItem}),n.default.createElement("h1",{className:"admin-priced-list-item__content_title_text"},l,m?n.default.createElement("div",{className:"admin-priced-list-item__content_title_badge_gray"},i.intl.formatMessage({defaultMessage:"Current"})):b&&n.default.createElement("div",{className:"admin-priced-list-item__content_title_badge_green"},i.intl.formatMessage({defaultMessage:"Save up to {percentage, number, ::percent .##}"},{percentage:.17})))),n.default.createElement("div",{className:"admin-priced-list-item__content_description u-font-meta"},a,d)),h&&n.default.createElement("div",{className:"admin-priced-list-item__pricing"},n.default.createElement("div",{className:"admin-priced-list-item__pricing_price_variant"},M?i.intl.formatMessage({defaultMessage:"{price_per_year}/yr"},{price_per_year:f.toString()}):i.intl.formatMessage({defaultMessage:"{price_per_month}/mo"},{price_per_month:_.toString()})),n.default.createElement("div",{className:"admin-priced-list-item__pricing_unit"},M?i.intl.formatMessage({defaultMessage:"{price_per_month_with_yearly_sub}/mo"},{price_per_month_with_yearly_sub:f.divide(12).toString()}):i.intl.formatMessage({defaultMessage:"{price_per_year_with_monthly_sub}/yr"},{price_per_year_with_monthly_sub:_.multiply(12).toString()}))))},t})(n.default.Component);t.AdminPricedListItemVariant=o})),define("modules/clean/teams/admin/widgets/billing_history/billing_history_row",["require","exports","tslib","react","modules/core/i18n","modules/clean/react/payments/edit_invoice_address_modal/edit_invoice_address_modal_loader","modules/clean/analytics","modules/clean/react/tooltip","modules/clean/react/sprite"],(function(e,t,a,n,s,i,r,o,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onEdit=function(){var e=t.props,a=e.row,n=e.isTeam;a.invoice&&i.EditInvoiceAddressModalLoader.showInstance(a.invoice,n)},t.logReceiptLinkClick=function(){t.props.logAccountBillingTabEvents&&r.ProEventsLogger.log("de_billing_tab_receipt_link_click")},t.logInvoiceLinkClick=function(){t.props.logAccountBillingTabEvents&&r.ProEventsLogger.log("de_billing_tab_invoice_link_click")},t}return a.__extends(t,e),t.prototype.renderDate=function(){var e=this.props.row,t=e.invoice,a=e.payment;return t&&t.date?t.date:a&&a.date?a.date:null},t.prototype.renderDescription=function(){var e=this.props.row,t=e.invoice,a=e.payment,i=e.isMobile,r=null,o=null;return t&&t.description?r=t.description:a&&a.description&&(r=a.description),i&&t&&t.description&&a&&a.description&&(r=a.description+" | "+t.description),(t&&t.isVoided||a&&a.isVoided)&&(o=n.default.createElement("span",null," (",s.intl.formatMessage({defaultMessage:"Voided"}),")")),n.default.createElement("div",null,n.default.createElement("p",{className:"description-line"},n.default.createElement("span",null,r),o))},t.prototype.renderLinks=function(){var e=[];if(!0===this.props.renderPublicLinks)e=this.renderInvoiceAndReceiptLink(this.props.publicInvoiceLink,this.props.publicReceiptLink);else{var t=this.props,a=t.row,i=t.showEditInvoiceModal,r=t.canEditBilling,o=a.invoice,l=a.payment,d="",u="";o&&o.link&&(d=o.link),!a.isMobile&&l&&l.link&&(u=l.link),e=this.renderInvoiceAndReceiptLink(d,u),i&&o&&!o.isOpen&&o.isEditable&&r&&e.push(n.default.createElement("button",{key:"edit-link",className:"button-as-link",onClick:this.onEdit},s.intl.formatMessage({defaultMessage:"Edit"}))),e.length||(o&&o.infoTooltip?e.push(this.renderInfoTooltip(o)):l&&l.infoTooltip&&e.push(this.renderInfoTooltip(l)))}return e.length?n.default.createElement("span",null,e):null},t.prototype.renderInvoiceAndReceiptLink=function(e,t){var a=[];return e&&a.push(n.default.createElement("a",{key:"invoice-link",href:e,target:"_blank",rel:"noopener noreferrer",onClick:this.logInvoiceLinkClick},s.intl.formatMessage({defaultMessage:"Invoice"}))),t&&a.push(n.default.createElement("a",{key:"payment-link",href:t,target:"_blank",rel:"noopener noreferrer",onClick:this.logReceiptLinkClick},s.intl.formatMessage({defaultMessage:"Receipt"}))),a},t.prototype.renderInfoTooltip=function(e){return n.default.createElement(o.Tooltip,{position:o.TooltipPosition.TOP,tooltip_contents:e.infoTooltip},n.default.createElement(l.Sprite,{group:"teams",name:"info_active",alt:"",className:"info-sprite"}))},t.prototype.renderPrice=function(){var e=this.props.row,t=e.invoice,a=e.payment;if(e.isMobile)return null;var s=null;return t&&a?s=t.isVoided||a.isVoided?n.default.createElement("span",{className:"row-content__price--line-through"},t.billed):t.billed:a?s=a.paid:t&&(s=t.billed),s},t.prototype.render=function(){var e=this.props.row;return e.invoice||e.payment?n.default.createElement("tr",{className:"row-content","data-variant":!0},n.default.createElement("td",{className:"row-content__date"},this.renderDate()),n.default.createElement("td",{className:"row-content__description"},this.renderDescription()),n.default.createElement("td",{className:"row-content__links"},this.renderLinks()),n.default.createElement("td",{className:"row-content__price"},this.renderPrice())):null},t.defaultProps={canEditBilling:!0},t})((n=a.__importDefault(n)).default.Component);t.BillingHistoryTableRow=d})),define("modules/clean/teams/admin/widgets/billing_history/billing_history_table",["require","exports","tslib","react","modules/core/i18n","modules/clean/teams/admin/widgets/billing_history/billing_history_row","modules/clean/account_page/widgets/billing/billing_history/types","spectrum/icon_form","spectrum/popover"],(function(e,t,a,n,s,i,r,o,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.buildFooterIfNecessary=function(){if(null!==this.props.footer)return n.default.createElement("tfoot",{className:"row-footer"},this.props.footer)},t.prototype.buildHeaderDate=function(){return n.default.createElement("th",{className:"row-header date-row"},n.default.createElement(l.Popover,{onSelection:this.props.onSelection},n.default.createElement(l.PopoverTrigger,null,n.default.createElement("span",{className:"date-header-cell"},s.intl.formatMessage({defaultMessage:"Date"})),n.default.createElement("span",{className:"caret"},n.default.createElement(o.IconForm,{name:"caret-down"}))),n.default.createElement(l.PopoverContent,null,n.default.createElement(l.PopoverItemGroup,{key:"order-item-group"},n.default.createElement(l.PopoverItemGroupTitle,{key:"order-title"},s.intl.formatMessage({defaultMessage:"Order"})),n.default.createElement(l.PopoverSelectableItem,{value:r.BillingHistoryOrder.ASCENDING,selected:r.BillingHistoryOrder.ASCENDING===this.props.order},s.intl.formatMessage({defaultMessage:"Ascending"})),n.default.createElement(l.PopoverSelectableItem,{value:r.BillingHistoryOrder.DESCENDING,selected:r.BillingHistoryOrder.DESCENDING===this.props.order},s.intl.formatMessage({defaultMessage:"Descending"}))),n.default.createElement(l.PopoverItemGroupSeparator,{key:"show-separator"}),n.default.createElement(l.PopoverItemGroup,{key:"show-item-group"},n.default.createElement(l.PopoverItemGroupTitle,{key:"show-title"},s.intl.formatMessage({defaultMessage:"Show"})),n.default.createElement(l.PopoverSelectableItem,{value:"all_time",selected:"all_time"===this.props.filter},s.intl.formatMessage({defaultMessage:"All time"})),n.default.createElement(l.PopoverSelectableItem,{value:"year_to_date",selected:"year_to_date"===this.props.filter},s.intl.formatMessage({defaultMessage:"Year-to-date"})),this.renderMenuItems()))))},t.prototype.renderMenuItems=function(){var e=[],t=this.props,a=t.filters,s=t.filter;return a&&a.forEach((function(t){e.push(n.default.createElement(l.PopoverSelectableItem,{key:t,value:t,selected:t===s},t))})),e},t.prototype.render=function(){var e,t=this.props,a=t.amountLabel,r=t.canEditBilling,o=t.displayNoTransactionsOnEmptyRecords,l=t.showEditInvoiceModal,d=t.logAccountBillingTabEvents,u=t.isTeam,c=t.renderPublicLinks,p=t.publicInvoiceLink,m=t.publicReceiptLink,_=this.props.billingHistoryRecords,f=a||s.intl.formatMessage({defaultMessage:"Price"});if(o&&0===_.length){var g=this.props.noTransactionLabel?this.props.noTransactionLabel:s.intl.formatMessage({defaultMessage:"No transactions"});e=n.default.createElement("tr",{className:"row-content"},n.default.createElement("td",{className:"row-content__date"}),n.default.createElement("td",{className:"row-content__description"},g),n.default.createElement("td",{className:"row-content__links"}),n.default.createElement("td",{className:"row-content__price"}))}return n.default.createElement("div",null,n.default.createElement("table",{className:"billing-history-table",cellSpacing:"0"},n.default.createElement("thead",null,n.default.createElement("tr",null,this.buildHeaderDate(),n.default.createElement("th",{className:"row-header desc-row u-font-meta",colSpan:2},s.intl.formatMessage({defaultMessage:"Description"})),n.default.createElement("th",{className:"row-header price-row u-font-meta"},f))),this.buildFooterIfNecessary(),n.default.createElement("tbody",null,e,_.map((function(e,t){return n.default.createElement(i.BillingHistoryTableRow,{canEditBilling:r,isTeam:u,key:e.id,logAccountBillingTabEvents:d,renderPublicLinks:c,publicInvoiceLink:p,publicReceiptLink:m,row:e,showEditInvoiceModal:l})})))))},t.defaultProps={onSelection:function(){}},t})((n=a.__importDefault(n)).default.Component);t.BillingHistoryTable=d})),define("modules/clean/teams/admin/widgets/billing_notifications/cancel_billing_changes_modal",["require","exports","tslib","modules/core/i18n","modules/clean/react/modal","modules/clean/payments/skus/subscription_change_plan","modules/clean/payments/skus/subscription_diff","modules/clean/payments/skus/subscription_service","modules/constants/trademark","modules/clean/ajax","modules/clean/dbmodal_stack","modules/core/notify","react","modules/clean/teams/admin/widgets/change_plan_modal/change_plan_constants","modules/clean/account_page/constants"],(function(e,t,a,n,s,i,r,o,l,d,u,c,p,m,_){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),d=a.__importStar(d);var f=(function(e){function t(t){var a=e.call(this,t)||this;return a.onAccept=function(){switch(a.props.cancellationType){case _.CancellationType.PLAN:a.cancelPlanOrBillingScheduledChange(_.CancellationType.PLAN);break;case _.CancellationType.SCHEDULE:a.cancelPlanOrBillingScheduledChange(_.CancellationType.SCHEDULE);break;case _.CancellationType.LICENSES:a.cancelLicensesScheduledChanges();break;case _.CancellationType.ALL:a.cancelAll()}},a.subService=new o.SubscriptionService,a.state={submitting:!1},a}return a.__extends(t,e),t.showInstance=function(e){s.Modal.showInstance(p.default.createElement(t,a.__assign({},e)))},t.prototype.submittingRequest=function(){this.setState((function(e){return a.__assign(a.__assign({},e),{submitting:!0})}))},t.prototype.doneSubmittingRequest=function(){this.setState((function(e){return a.__assign(a.__assign({},e),{submitting:!1})}))},t.prototype.cancelAll=function(){var e=this,t=this.props,a=t.transitionPerformed,i=t.subStatus;this.submittingRequest();var o=r.SubscriptionDiff.fromSubscriptionState(i.subState);this.subService.validateAndPerformTransition(o).then((function(t){c.Notify.success(n.intl.formatMessage({defaultMessage:"Your scheduled changes have been cancelled!"})),a&&a(t),s.Modal.close(),e.props.reOpenModalDialogAfterCancellation&&u.DBModalStack.trigger(m.CHANGE_PLAN_DUAL_MODAL_UPDATED,null)})).finally((function(){e.doneSubmittingRequest()}))},t.prototype.cancelLicensesScheduledChanges=function(){var e=this,t=this.props.subStatus,a=r.SubscriptionDiff.fromSubscriptionStatus(t);this.submittingRequest(),a.setTotalLicenses(t.subState.totalLicenses),this.subService.price(a).then((function(t){t?e.subService.performTransition(t).then((function(t){e.props.transitionPerformed&&e.props.transitionPerformed(t),c.Notify.success(n.intl.formatMessage({defaultMessage:"You’ve cancelled your change!"})),e.doneSubmittingRequest(),s.Modal.close(),e.props.reOpenModalDialogAfterCancellation&&u.DBModalStack.trigger(m.CHANGE_PLAN_DUAL_MODAL_UPDATED,null)})).catch((function(){e.errorUpdatingChanges()})):e.errorUpdatingChanges()})).catch((function(){e.errorUpdatingChanges()}))},t.prototype.errorUpdatingChanges=function(){c.Notify.error(n.intl.formatMessage({defaultMessage:"Failed to revert changes."})),this.doneSubmittingRequest(),s.Modal.close()},t.prototype.cancelPlanOrBillingScheduledChange=function(e){var t,a,r=this,o=this.props,l=o.transitionPerformed,p=o.subStatus;this.submittingRequest(),d.WebRequest({url:"/account/team/change_plan_modal_view_model",success:function(o){var d=JSON.parse(o);if(t=d.serializedSubChangePlans.map((function(e){return i.SubscriptionChangePlan.deserialize(e)})),(a=t.filter((function(t){return!!(t.finalSubState&&t.finalSubState.plan&&t.finalSubState.billingSchedule&&p.subState&&p.subState.plan&&p.finalSubState&&p.finalSubState.billingSchedule&&p.finalSubState.plan&&p.subState.billingSchedule)&&(e===_.CancellationType.PLAN?p.subState.plan.productType===t.finalSubState.plan.productType&&p.finalSubState.billingSchedule.id===t.finalSubState.billingSchedule.id:e===_.CancellationType.SCHEDULE&&(p.finalSubState.plan.productType===t.finalSubState.plan.productType&&p.subState.billingSchedule.id===t.finalSubState.billingSchedule.id))}))).length>0){var f=a[0];r.subService.performTransition(f).then((function(e){c.Notify.success(n.intl.formatMessage({defaultMessage:"You’ve cancelled your change!"})),l&&l(e),r.doneSubmittingRequest(),s.Modal.close(),r.props.reOpenModalDialogAfterCancellation&&u.DBModalStack.trigger(m.CHANGE_PLAN_DUAL_MODAL_UPDATED,null)}))}else c.Notify.error(n.intl.formatMessage({defaultMessage:"Failed to revert changes."}))},error:function(){c.Notify.error(n.intl.formatMessage({defaultMessage:"Failed to load modal."})),r.doneSubmittingRequest(),s.Modal.close(),r.props.reOpenModalDialogAfterCancellation&&u.DBModalStack.trigger(m.CHANGE_PLAN_DUAL_MODAL_UPDATED,null)}})},t.prototype.render=function(){var e,t=this.props,a=t.cancellationType,i=t.subStatus;if(!i.subState.plan||!i.subState.billingSchedule)return p.default.createElement("noscript",null);var r=n.intl.formatMessage({defaultMessage:"Confirm cancelled change"});switch(a){case _.CancellationType.PLAN:case _.CancellationType.SCHEDULE:case _.CancellationType.LICENSES:e=n.intl.formatMessage({defaultMessage:"You’re cancelling your scheduled changes. Your {trademark_business} {plan} plan will renew on {date} and you will be billed {schedule}."},{trademark_business:l.TRADEMARK_BUSINESS,plan:i.subState.plan.displayName(),date:i.subState.formattedNextBillingDate,schedule:i.subState.billingSchedule.scheduleDescriptionAdjective});break;case _.CancellationType.ALL:default:r=n.intl.formatMessage({defaultMessage:"Confirmation"}),e=n.intl.formatMessage({defaultMessage:"By confirming, all existing scheduled changes will be cancelled."})}return p.default.createElement(s.Modal,{acceptButtonDisabled:this.state.submitting,acceptButtonText:n.intl.formatMessage({defaultMessage:"Confirm"}),autoClose:!1,dismissButtonText:n.intl.formatMessage({defaultMessage:"Don’t cancel"}),onAccept:this.onAccept,title:r,submitting:this.state.submitting},p.default.createElement("p",null,e))},t})((p=a.__importDefault(p)).default.Component);t.CancelBillingChangesConfirmationView=f})),define("modules/clean/teams/admin/widgets/billing_notifications/cancellable_item",["require","exports","tslib","react","modules/core/i18n","classnames"],(function(e,t,a,n,s,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),i=a.__importDefault(i);var r=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.render=function(){var e,t,a=this.props,s=a.title,r=a.description,o=a.handleAction,l=a.useCTA,d=a.CTAText,u=this.props.className?this.props.className:"",c=i.default(((e={"cancellable-item__button":!0,"link-button":!0})[u]=!0,e));return l&&(t=n.default.createElement("button",{className:c,onClick:o},d)),n.default.createElement("div",{className:"cancellable-item"},n.default.createElement("span",{className:"cancellable-item__title"},s)," ",n.default.createElement("span",{className:"cancellable-item__desc"},r),t)},t.defaultProps={CTAText:s.intl.formatMessage({defaultMessage:"Cancel change"}),useCTA:!1},t})(n.default.Component);t.CancellableItemView=r})),define("modules/clean/teams/admin/widgets/change_plan_modal/change_plan_constants",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CHANGE_PLAN_DUAL_MODAL_UPDATED="change_plan_dual_modal:updated",(function(e){e[e.PLAN_CHANGE=1]="PLAN_CHANGE",e[e.SCHEDULE_CHANGE=2]="SCHEDULE_CHANGE"})(t.DualPlanModalMode||(t.DualPlanModalMode={}))})),define("modules/clean/react/payments/unified_module/unified_actions/unified_submit_action",["require","exports","tslib","modules/clean/payments/payment_form/payment_form_spec","modules/clean/react/payments/common/form/actions/actions","modules/clean/react/payments/unified_module/unified_data_export"],(function(e,t,a,n,s,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),t.submitUnifiedForm=function(e,t,a,r){return function(o,l){var d,u=l(),c=u.formData.countryCode.formattedValue,p=u.pageState.paymentFormSpec,m=u.formData.paymentMethod.formattedValue,_=i.getPaymentFieldNamesToSubmit(c,p,m,{psd2AddressFields:t});d=u.pageState.paymentFormSpec.isTeam()?m===n.PaymentMethod.CreditCard?"/team/payments/ajax_update_billing_credit_card":m===n.PaymentMethod.DirectDeposit?"/team/payments/ajax_update_billing_direct_debit":"/team/payments/ajax_update_billing_paypal":m===n.PaymentMethod.CreditCard?"/update_credit_card_billing_info_ajax":m===n.PaymentMethod.DirectDeposit?"/update_direct_debit_billing_info_ajax":m===n.PaymentMethod.Ideal?"/update_ideal_billing_info_ajax":"/paypal_billing_info",o(s.submitForm(d,_,e,{payment_method:u.formData.paymentMethod.formattedValue,request_id:u.pageState.requestId,submit_seq:u.pageState.submitSeq},void 0,a,r))}}})),define("modules/clean/react/payments/unified_module/unified_actions/unified_store",["require","exports","tslib","redux","modules/clean/react/payments/common/form/actions/actions","modules/clean/react/payments/update_team_billing/update_team_actions","modules/clean/react/payments/buy/actions/page_actions","modules/clean/react/payments/unified_module/unified_actions/unified_submit_action"],(function(e,t,a,n,s,i,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),s=a.__importStar(s),i=a.__importStar(i),r=a.__importStar(r),o=a.__importStar(o),t.bindUnifiedBillingActions=function(e){return n.bindActionCreators({updateHistory:r.updateHistory,showFormFieldErrors:s.showFormFieldErrors,submitBillingForm:o.submitUnifiedForm,updatePaymentMethod:s.updatePaymentMethod,updateCountryCode:i.updateBillingCountryCode,updateZipCode:s.updateZipCode,updateVat:s.updateVat,updateCpf:s.updateCpf,updateCpfName:s.updateCpfName,updateNonce:s.updateNonce,updatePayPalNonce:s.updatePayPalNonce,updateAdyenEncryptedCard:s.updateAdyenEncryptedCard,updateEncryptedCardForNetworkToken:s.updateEncryptedCardForNetworkToken,updateBrowserInfo:s.updateBrowserInfo,updateThreeDsData:s.updateThreeDsData,triggerThreeDsChallenge:s.triggerThreeDsChallenge,triggerThreeDsFingerprint:s.triggerThreeDsFingerprint,updateBIN:s.updateBIN,updateAccountHolderName:s.updateAccountHolderName,updateIBAN:s.updateIBAN,updateMandateSigned:s.updateMandateSigned,updateIdealBank:s.updateIdealBank,updatePhone:s.updatePhone,updateCity:s.updateCity,updateName:s.updateName,updateAddress:s.updateAddress,blurCCField:s.blurCCField,blurZipCode:s.blurZipCode,blurVat:s.blurVat,blurCpf:s.blurCpf,blurAccountHolderName:s.blurAccountHolderName,blurIBAN:s.blurIBAN,blurPhone:s.blurPhone,blurCity:s.blurCity,blurName:s.blurName,blurAddress:s.blurAddress},e.dispatch)}})),define("modules/clean/react/payments/unified_module/unified_fields/unified_cpf_field",["require","exports","tslib","react","modules/clean/react/payments/unified_module/unified_fields/unified_fields_base/unified_text_input_field","modules/clean/react/payments/common/form_value_helpers","modules/core/i18n"],(function(e,t,a,n,s,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onCpfChange=function(e){t.props.actions.updateCpf(e.value)},t.onCpfNameChange=function(e){t.props.actions.updateCpfName(e.value)},t}return a.__extends(t,e),t.prototype.cpfErrorString=function(){var e=this.props.formData.cpf;return!i.FormValueHelper.isValid(e)&&e.showError?r.intl.formatMessage({defaultMessage:"Please enter a valid CPF number."}):""},t.prototype.render=function(){var e=this.props,t=e.paymentSpec,a=e.formData,i=null;return t.should_require_cpf(a.countryCode.formattedValue,a.paymentMethod.formattedValue)&&(i=n.default.createElement("div",{className:"grid__item"},n.default.createElement(s.UnifiedTextInputField,{autoSetupForm:a.cpf,name:"cpf",labelText:r.intl.formatMessage({defaultMessage:"CPF/CNPJ"}),errorText:this.cpfErrorString(),onChange:this.onCpfChange}),n.default.createElement(s.UnifiedTextInputField,{labelDivClassName:"billing-cpf grid__item",name:"cpf_name",labelText:r.intl.formatMessage({defaultMessage:"Name"}),value:a.cpfName.rawValue,onChange:this.onCpfNameChange}))),i},t})((n=a.__importDefault(n)).default.Component);t.UnifiedCPFField=o})),define("modules/clean/react/payments/unified_module/unified_fields/unified_vat_field",["require","exports","tslib","classnames","react","modules/clean/react/payments/unified_module/unified_fields/unified_fields_base/unified_text_input_field","modules/clean/react/payments/common/form_value_helpers","modules/core/i18n","modules/clean/payments/validation"],(function(e,t,a,n,s,i,r,o,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n);var d=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.onVatChange=function(e){this.props.actions.updateVat(e.value)},t.prototype.vatErrorString=function(){var e=this.props.formData.vat;return!r.FormValueHelper.isValid(e)&&e.showError?o.intl.formatMessage({defaultMessage:"Please enter a valid VAT number (ex: {examples})."},{examples:l.getVatExamples(this.props.formData.countryCode.formattedValue).join(", ")}):""},t.prototype.render=function(){var e=this.props,t=e.paymentSpec,a=e.formData,r=null;if(t.should_show_vat_for_country(a.countryCode.formattedValue)){var d=l.getVatPrefix(a.countryCode.formattedValue),u=n.default({"billing-vat":!0,grid__item:!0});r=s.default.createElement(i.UnifiedTextInputField,{labelDivClassName:u,autoSetupForm:a.vat,name:"vat",labelText:o.intl.formatMessage({defaultMessage:"VAT number (optional)"}),errorText:this.vatErrorString(),placeholder:d,onChange:this.onVatChange.bind(this)})}return r},t})((s=a.__importDefault(s)).default.Component);t.UnifiedVatField=d})),define("modules/clean/react/payments/unified_module/unified_fields/unified_fields_base/unified_generic_input",["require","exports","tslib","classnames","purify","react"],(function(e,t,a,n,s,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),s=a.__importStar(s);var r=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.render=function(){var e=n.default({"input__label--errormodal":Boolean(this.props.errorText)},this.props.className,"label-input","input__label"),t=i.default.createElement("label",{className:"label "+(this.props.labelClass?this.props.labelClass:""),htmlFor:this.props.htmlFor},this.props.labelText),a=null;this.props.labelAfterElement&&(a=t,t=null);var r=null;r=this.props.rightLabelElement?i.default.createElement("div",{className:"grid__item grid--x-bookend"},t,i.default.createElement("div",null,this.props.rightLabelElement)):t;var o=null;this.props.errorText?o=this.props.errorText:this.props.errorHTML&&(o=i.default.createElement("span",{dangerouslySetInnerHTML:{__html:s.sanitize(this.props.errorHTML)}}));var l=i.default.createElement("label",{className:"error-message",htmlFor:this.props.htmlFor},o);return i.default.createElement("div",{className:e},r,this.props.children,a,l)},t})((i=a.__importDefault(i)).default.Component);t.UnifiedGenericInput=r})),define("modules/clean/react/payments/unified_module/unified_fields/unified_fields_base/unified_select_input_field",["require","exports","tslib","react","react-dom","modules/clean/react/payments/unified_module/unified_fields/unified_fields_base/unified_generic_input"],(function(e,t,a,n,s,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),s=a.__importStar(s);var r=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.onChange=function(e){this.props.onChange&&this.props.onChange(s.findDOMNode(this.input))},t.prototype.onClick=function(e){this.props.onClick&&this.props.onClick(s.findDOMNode(this.input))},t.prototype.componentDidMount=function(){if(this.props.onChange){var e=s.findDOMNode(this.input),t=e.value;t&&t!==this.props.value&&this.props.onChange(e)}},t.prototype.render=function(){var e=this,t=this.props,a=t.name,s=t.className,r=t.labelClass,o=t.labelText,l=t.rightLabelElement,d=t.errorText,u=t.errorHTML,c=t.autoComplete;return n.default.createElement(i.UnifiedGenericInput,{className:s,errorHTML:u,errorText:d,labelClass:r,htmlFor:a,labelText:o,rightLabelElement:l},n.default.createElement("select",{autoComplete:c,className:"option-selector",id:a,name:a,onChange:this.onChange.bind(this),onClick:this.onClick.bind(this),value:this.props.value,ref:function(t){e.input=t}},this.props.children))},t})(n.default.Component);t.UnifiedLabeledSelectInput=r})),define("modules/clean/react/payments/unified_module/unified_fields/unified_fields_base/unified_text_input_field",["require","exports","tslib","classnames","react","react-dom","modules/clean/react/payments/common/form_value_helpers","modules/clean/react/payments/unified_module/unified_fields/unified_fields_base/unified_generic_input"],(function(e,t,a,n,s,i,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),s=a.__importDefault(s),i=a.__importStar(i);var l=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onBlur=function(e){t.props.onBlur&&t.props.onBlur(i.findDOMNode(t.refToInput))},t.onFocus=function(e){t.props.onFocus&&t.props.onFocus(i.findDOMNode(t.refToInput))},t.onChange=function(e){t.props.onChange&&t.props.onChange(i.findDOMNode(t.refToInput))},t}return a.__extends(t,e),t.prototype.componentDidMount=function(){if(this.props.onChange){var e=i.findDOMNode(this.refToInput),t=e.value;t&&t!==this.props.value&&this.props.onChange(e)}},t.prototype.render=function(){var e=this,t=this.props,a=t.labelDivClassName,i=t.disabled,l=t.errorText,d=t.errorHTML,u=t.labelClass,c=t.labelText,p=t.maxLength,m=t.name,_=t.placeholder,f=t.value,g=t.autoComplete,h=t.autoSetupForm,y=this.props.type||"text",M=null;if(h){var b=h.errorState&&h.showError;f=f||h.rawValue,d=d||h.serverError,d=b?d:void 0,l=b?l:void 0;var S="billing-"+m+"-input",v=""!==h.formattedValue&&r.FormValueHelper.isValid(h)?"billing-"+m+"-input--valid":"";M=n.default({baseInputClass:S,invalidClass:v});var L="billing-"+m;a=n.default(a,L,{grid__item:!0})}var T=n.default({input__text:!0,"input__text--errormodal":Boolean(l)||Boolean(d)},this.props.inputClassName,M);return s.default.createElement(o.UnifiedGenericInput,{className:a,errorHTML:d,errorText:l,htmlFor:m,labelClass:u,labelText:c},s.default.createElement("input",{autoComplete:g,className:T,type:y,name:m,id:m,ref:function(t){e.refToInput=t},value:null===f?"":f,disabled:i,onBlur:this.onBlur,onChange:this.onChange,onFocus:this.onFocus,maxLength:p,placeholder:_}))},t})(s.default.Component);t.UnifiedTextInputField=l})),define("modules/clean/react/payments/unified_module/unified_address_form",["require","exports","tslib","react","modules/core/i18n","modules/clean/analytics","modules/clean/react/payments/common/form_value_helpers","modules/clean/react/payments/common/constants","modules/clean/react/payments/unified_module/unified_fields/unified_fields_base/unified_text_input_field","modules/clean/react/payments/unified_module/unified_fields/unified_fields_base/unified_select_input_field"],(function(e,t,a,n,s,i,r,o,l,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onCountryCodeChange=function(e){t.props.actions.updateCountryCode(e.value);var a=t.props.showServerViewVersion,n=e.value;i.ProEventsLogger.log("uj-billing-country",{country:n},void 0,a),"BR"===n&&t.props.showCpf&&i.ProEventsLogger.log("uj-cpf-viewed-field",{},void 0,a)},t.onAddressChange=function(e){t.props.actions.updateAddress(e.value)},t.onCityChange=function(e){t.props.actions.updateCity(e.value)},t.onAddressBlur=function(e){t.props.actions.blurAddress(e.value)},t.onCityBlur=function(e){t.props.actions.blurCity(e.value)},t.onZipCodeBlur=function(e){t.props.actions.blurZipCode(e.value)},t.onZipCodeChange=function(e){t.props.actions.updateZipCode(e.value)},t.zipCodeErrorString=function(){var e=t.props.formData.zipCode;return!r.FormValueHelper.isValid(e)&&e.showError?o.ZipCodeErrorMessage:""},t.nameErrorString=function(){var e=t.props.formData.name;return t.showPSD2FieldsToUser()&&!r.FormValueHelper.isValid(e)&&e.showError?o.NameErrorMessage:""},t.cityErrorString=function(){var e=t.props.formData.city;return t.showPSD2FieldsToUser()&&!r.FormValueHelper.isValid(e)&&e.showError?o.CityErrorMessage:""},t.addressErrorString=function(){var e=t.props.formData.address;return t.showPSD2FieldsToUser()&&!r.FormValueHelper.isValid(e)&&e.showError?o.AddressErrorMessage:""},t}return a.__extends(t,e),t.prototype.renderCountrySelector=function(e){var t=this,a="grid__item--2-3";!0===e&&(a="grid__item"),this.props.showServerViewVersion&&(a="grid__item grid__item--3-4");var i=this.props.countryList.map((function(e){var a=e[0],s=e[1];return n.default.createElement("option",{key:"location-"+a,value:a,"aria-selected":a===t.props.formData.countryCode.formattedValue},s)}));return n.default.createElement(d.UnifiedLabeledSelectInput,{autoComplete:"country",className:a,labelText:s.intl.formatMessage({defaultMessage:"Country"}),name:"country_code",onChange:this.onCountryCodeChange,value:this.props.formData.countryCode.rawValue},i)},t.prototype.renderBillingFields=function(){return!0===this.showPSD2FieldsToUser()?this.renderPSD2AddressFields():n.default.createElement(n.default.Fragment,null,this.renderCountrySelector(!1),this.renderZipCodeInput())},t.prototype.renderZipCodeInput=function(){var e=s.intl.formatMessage({defaultMessage:"Postal Code",description:"This is the label for the zip code field, and should be kept short."}),t="US"===this.props.formData.countryCode.formattedValue?s.intl.formatMessage({defaultMessage:"Billing ZIP"}):e,a=!this.props.paymentSpec.allow_zip_code_for_country(this.props.formData.countryCode.formattedValue);return n.default.createElement(l.UnifiedTextInputField,{autoComplete:"postal-code",labelDivClassName:"billing-zip payment-info__zip grid__item grid__item--7-24",disabled:a,errorText:this.zipCodeErrorString(),errorHTML:this.props.formData.zipCode.serverError,labelText:t,name:"zip",onChange:this.onZipCodeChange,value:this.props.formData.zipCode.rawValue,onBlur:this.onZipCodeBlur})},t.prototype.showPSD2FieldsToUser=function(){return this.props.paymentSpec.showPSD2FieldsToUser(this.props.formData.paymentMethod.formattedValue,this.props.formData.countryCode.formattedValue,!!this.props.psd2AddressFields)},t.prototype.renderPSD2AddressFields=function(){var e=s.intl.formatMessage({defaultMessage:"Address",description:"Billing Address for Credit Card"}),t=s.intl.formatMessage({defaultMessage:"City/town",description:"This is for the billing address City/Town. Use the name best for locale"});return n.default.createElement(n.default.Fragment,null,this.renderCountrySelector(!0),n.default.createElement(l.UnifiedTextInputField,{autoComplete:"street-address",labelDivClassName:"payment-info__addr grid__item",labelText:e,name:"address",onChange:this.onAddressChange,value:this.props.formData.address.rawValue,errorText:this.addressErrorString(),onBlur:this.onAddressBlur,autoSetupForm:this.props.formData.city}),this.renderZipCodeInput(),n.default.createElement(l.UnifiedTextInputField,{autoComplete:"address-level2",labelDivClassName:"payment-info__city grid__item--16-24",name:"city",labelText:t,autoSetupForm:this.props.formData.city,onChange:this.onCityChange,errorText:this.cityErrorString(),onBlur:this.onCityBlur}))},t.prototype.render=function(){return this.renderBillingFields()},t})((n=a.__importDefault(n)).default.Component);t.UnifiedAddressForms=u})),define("modules/clean/react/payments/unified_module/unified_payment_form_async",["require","exports","tslib","react","modules/core/i18n","modules/clean/react/payments/unified_module/unified_payment_form","modules/clean/react/payments/unified_module/unified_actions/unified_store","modules/clean/react/payments/common/form/actions/actions","modules/clean/react/payments/update_team_billing/update_team_store_creator","modules/clean/react/payments/update_team_billing/reducers","modules/clean/ajax","modules/core/notify","modules/clean/static_urls"],(function(e,t,a,n,s,i,r,o,l,d,u,c,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),u=a.__importStar(u);var m=(function(e){function t(t){var a=e.call(this,t)||this;return a.calledOnSuccess=!1,a.handleLoadFailure=function(){c.Notify.error(s.intl.formatMessage({defaultMessage:"Failed to load payment form."}))},a.saveUnifiedPaymentMethodForm=function(e){a.unifiedPaymentForm=e},a.prepareForSubmission=function(){return a.unifiedPaymentForm.prepareForSubmission()},a.onAccept=function(e){void 0===e&&(e=o.SubmitFormTriggerType.ButtonClick),a.actions.submitBillingForm(a.prepareForSubmission,a.paymentExperiments.psd2AddressFields,a.unifiedPaymentForm.getCreditCardFrame().handle3DsMessage,e)},a.iFrameUrl="",a}return a.__extends(t,e),t.prototype.componentDidMount=function(){var e=this;u.WebRequest({url:"/account/unified_payment_view",success:function(t){var a=JSON.parse(t);if(a.isError)e.setState({}),e.handleLoadFailure();else{var n={countryList:a.countryList,iframeUrl:a.iframeUrl,vat:a.vat,userInfo:a.userInfo,countryToCurrencyMap:a.countryToCurrencyMap,countryCode:a.countryCode,serializedPaymentFormSpec:a.serializedPaymentFormSpec,showCpf:a.showCpf,showCpfName:a.showCpfName,requestId:a.requestId,submitSeq:0};e.iFrameUrl=a.iframeUrl,e.countryList=a.countryList,e.paymentExperiments=a.paymentExperiments,e.store=l.createBillingStore(n,d.BillingReducer),e.setState(e.store.getState()),e.store.subscribe((function(){var t=e.store.getState();if(!t.pageState.submitSuccess)if(e.props.isSubmittingStatus){var a=e.props.isSubmittingStatus;e.setState((function(e){return a(t.pageState.submitting),t}))}else e.setState((function(e){return t}));t.pageState.submitSuccess&&!e.calledOnSuccess&&(e.props.onSuccess(),e.calledOnSuccess=!0)}))}},error:function(){e.handleLoadFailure()}})},Object.defineProperty(t.prototype,"actions",{get:function(){return r.bindUnifiedBillingActions(this.store)},enumerable:!0,configurable:!0}),t.prototype.renderLoading=function(){return n.default.createElement("div",{className:"loading-spinner"},n.default.createElement("img",{src:p.static_url("/static/images/icons/ajax-loading-small-vfl3Wt7C_.gif"),alt:s.intl.formatMessage({defaultMessage:"Loading"})}))},t.prototype.render=function(){return""===this.iFrameUrl?this.renderLoading():n.default.createElement("div",{className:"payment-info-section"},n.default.createElement("div",{className:"payment-method-section grid__container"},n.default.createElement(i.UnifiedPaymentForm,{ref:this.saveUnifiedPaymentMethodForm,paymentSpec:this.state.pageState.paymentFormSpec,iframeUrl:this.iFrameUrl,countryList:this.countryList,formData:this.state.formData,actions:this.actions,submitForm:this.onAccept,payment_experiments:this.paymentExperiments})))},t})(n.default.Component);t.UnifiedPaymentFormAsync=m})),define("modules/clean/react/payments/unified_module/unified_payment_form",["require","exports","tslib","classnames","modules/clean/analytics","react","modules/core/i18n","modules/clean/react/payments/checkout/components/payment_method_form/credit_card_frame","modules/clean/react/payments/checkout/components/payment_method_form/direct_debit_form","modules/clean/payments/payment_form/payment_form_spec","modules/clean/react/payments/checkout/components/payment_method_form/payment_method_selector","modules/clean/react/payments/checkout/components/payment_method_form/credit_card_purchase_full_name","modules/clean/react/payments/unified_module/unified_fields/unified_cpf_field","modules/clean/react/payments/unified_module/unified_fields/unified_vat_field","modules/clean/react/payments/unified_module/unified_address_form","modules/clean/react/payments/unified_module/unified_data_export"],(function(e,t,a,n,s,i,r,o,l,d,u,c,p,m,_,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n);var g=(function(e){function t(t){return e.call(this,t)||this}return a.__extends(t,e),t.prototype.getPaymentData=function(){return f.getDataIfValid(this.props.formData,this.props.paymentSpec,this.prepareForSubmission(),this.props.payment_experiments)},t.prototype.componentDidMount=function(){var e=this.props.formData.countryCode.formattedValue;s.TeamsWebActionsLogger.log("uj-billing-country",{country:e}),"BR"===e&&s.TeamsWebActionsLogger.log("uj-cpf-viewed-field"),this.props.actions.updateHistory()},t.prototype.prepareForSubmission=function(){return this.props.formData.paymentMethod.formattedValue===d.PaymentMethod.CreditCard?this.creditCardFrame.tokenize():Promise.resolve(!0)},t.prototype.getCreditCardFrame=function(){return this.creditCardFrame},t.prototype.renderLocationFields=function(){var e=this.props,t=e.paymentSpec,a=e.formData,n=null,s=r.intl.formatMessage({defaultMessage:"Please note: changing your billing location could impact your applicable tax rate."});return t.should_show_vat_for_country(a.countryCode.formattedValue)&&(s=r.intl.formatMessage({defaultMessage:"Please note: changing your billing location or VAT number could impact your applicable tax rate."})),this.props.paymentSpec.isTeam()||(n=i.default.createElement("div",{className:"disclaimer-message"},s)),i.default.createElement("div",{className:"location-info-fields grid__item grid--x-bookend"},i.default.createElement(_.UnifiedAddressForms,{paymentSpec:this.props.paymentSpec,formData:this.props.formData,actions:this.props.actions,countryList:this.props.countryList,psd2AddressFields:this.props.payment_experiments.psd2AddressFields,showCpf:!0}),i.default.createElement(m.UnifiedVatField,{paymentSpec:this.props.paymentSpec,formData:this.props.formData,actions:this.props.actions,payment_experiments:this.props.payment_experiments}),i.default.createElement(p.UnifiedCPFField,{paymentSpec:this.props.paymentSpec,formData:this.props.formData,actions:this.props.actions,payment_experiments:this.props.payment_experiments}),n)},t.prototype.render=function(){var e=this,t=this.props,a=t.paymentSpec,s=t.actions,r=t.formData,p=t.countryList,m=this.renderLocationFields(),_=m;r.paymentMethod.formattedValue===d.PaymentMethod.DirectDeposit&&(_=i.default.createElement(l.DirectDebitForm,{locationFields:m,formData:r,actions:s}));var f=n.default({grid__item:!0,"payment-form":!0,"payment-form--responsive":!0});return i.default.createElement("div",{className:f},i.default.createElement(u.PaymentMethodSelector,{isTeam:!1,paymentSpec:a,paymentMethod:r.paymentMethod.rawValue,updatePaymentMethod:this.props.actions.updatePaymentMethod,countryCode:r.countryCode.rawValue,zipCode:r.zipCode.rawValue}),i.default.createElement(c.CreditCardPurchaseFullNameIfPsd2,{paymentSpec:a,countryList:p,formData:r,actions:s,businessStyling:!0,psd2AddressFields:this.props.payment_experiments.psd2AddressFields}),i.default.createElement(o.CreditCardFrame,{getHeightFromIframe:!0,iframeUrl:this.props.iframeUrl,isResponsive:!0,hidden:r.paymentMethod.formattedValue!==d.PaymentMethod.CreditCard,actions:this.props.actions,ref:function(t){e.creditCardFrame=t},nonce:r.nonce,bin:r.bin,submitForm:this.props.submitForm}),_)},t})((i=a.__importDefault(i)).default.Component);t.UnifiedPaymentForm=g})),define("modules/clean/react/payments/unified_module/unified_data_export",["require","exports","tslib","modules/clean/payments/payment_form/payment_form_spec","modules/clean/react/payments/business/state/business_state","modules/clean/react/payments/common/form_value_helpers"],(function(e,t,a,n,s,i){"use strict";function r(e,t,a,s){var i=["countryCode"];return t.allow_zip_code_for_country(e)&&i.push("zipCode"),t.should_show_vat_for_country(e)&&i.push("vat"),t.should_require_cpf(e,a)&&(i.push("cpf"),i.push("cpfName")),t.showPSD2FieldsToUser(a,e,!!s.psd2AddressFields)&&i.push("name","city","address"),a===n.PaymentMethod.CreditCard?(i.push("nonce"),i.push("adyenEncryptedCard"),i.push("encryptedCardForNetworkToken"),i.push("bin"),i.push("browserInfo"),i.push("threeDsData")):a===n.PaymentMethod.DirectDeposit?i.push("accountHolderName","iban","mandateSigned"):a===n.PaymentMethod.Ideal&&i.push("idealBankId","idealBankName"),i}function o(e,t){return t[e]}Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),t.getDataIfValid=function(e,t,a,n){var l=r(e.countryCode.formattedValue,t,e.paymentMethod.formattedValue,n);return(function(e,t){for(var a=0,n=e;a<n.length;a++){var s=o(n[a],t);if(!i.FormValueHelper.isValid(s))return!1}return!0})(l,e)?a.then((function(){return(function(e,t){for(var a={},n=0,i=e;n<i.length;n++){var r=i[n];a[s.fieldsToServerProps[r]]=o(r,t).formattedValue}return a})(l,e)})):Promise.resolve(null)},t.getPaymentFieldNamesToSubmit=r})),define("modules/clean/react/payments/checkout/components/inputs/radio_input",["require","exports","tslib","react","react-dom"],(function(e,t,a,n,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),s=a.__importStar(s);var i=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.onChange=function(e){this.props.onChange&&this.props.onChange(s.findDOMNode(this.input))},t.prototype.componentDidMount=function(){if(this.props.onChange){var e=s.findDOMNode(this.input),t=e.checked;t&&t!==this.props.checked&&this.props.onChange(e)}},t.prototype.render=function(){var e=this,t=this.props,a=t.name,s=t.id,i=t.className,r=t.checked,o=t.value,l=t.disabled;return n.default.createElement("input",{type:"radio",className:i,name:a,id:s,value:o,checked:r,onChange:this.onChange.bind(this),disabled:l,ref:function(t){e.input=t}})},t})(n.default.Component);t.RadioInput=i})),define("modules/clean/react/payments/checkout/components/payment_method_form/payment_method_option",["require","exports","tslib","react","modules/core/i18n","classnames","modules/clean/payments/payment_form/payment_form_spec","modules/clean/react/payments/checkout/components/inputs/radio_input","modules/clean/react/payments/pro/components/inputs/inputs"],(function(e,t,a,n,s,i,r,o,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),i=a.__importDefault(i);var d=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.onChange=function(e){this.props.onSelected(this.props.paymentMethod)},t.prototype.render=function(){var e,t=this.props,a=t.icons,d=t.labelText,u=t.paymentMethod,c=[],p=["payment-method-option","payment-info__option"];if(this.props.isTeam?(p.push("grid__item"),p.push("grid__item--medium--shrink"),p.push("grid--y-middle"),p.push("grid__container--p-micro")):this.props.numberOfPaymentMethods&&this.props.numberOfPaymentMethods>2?p.push("grid__item--medium--1-4"):p.push("grid__item--medium--1-2"),d&&(e="payment-method-label#debit",c.push(n.default.createElement("span",{key:e,className:"debit"},this.props.labelText))),a){if(u===r.PaymentMethod.CreditCard){var m=a.join(", ").replace("_","-"),_=s.intl.formatMessage({defaultMessage:"Credit card. We accept {payment_methods}"},{payment_methods:m});e="payment-method-label#creditcard",c.push(n.default.createElement("span",{key:e,className:"ax-visually-hidden"},_))}else u===r.PaymentMethod.PayPal&&(e="payment-method-label#paypal",c.push(n.default.createElement("span",{key:e,className:"ax-visually-hidden"},s.intl.formatMessage({defaultMessage:"Paypal"}))));for(var f=0,g=a;f<g.length;f++){var h=g[f];e="payment-method-icon#"+h,c.push(n.default.createElement("span",{key:e,className:h}))}}return this.props.isTeam?n.default.createElement("div",{className:i.default(p)},n.default.createElement(o.RadioInput,{name:"payment_method",id:"payment_method_"+u,value:u.toString(),checked:this.props.selected,onChange:this.onChange.bind(this)}),n.default.createElement("label",{htmlFor:"payment_method_"+u,className:"payment-method-label"},c)):n.default.createElement("div",{className:i.default(p)},n.default.createElement(l.LabeledRadioInput,{id:"payment_method_"+u,name:"payment_method",className:"payment-info__payment",value:u.toString(),checked:this.props.selected,onClick:this.onChange.bind(this)}),n.default.createElement("label",{htmlFor:"payment_method_"+u,className:"payment-info__method-label",onClick:this.onChange.bind(this)},c))},t})(n.default.Component);t.PaymentMethodOption=d})),define("modules/clean/react/payments/checkout/components/payment_method_form/payment_method_selector",["require","exports","tslib","react","modules/clean/payments/payment_form/payment_form_spec","modules/clean/react/payments/checkout/components/payment_method_form/payment_method_option","modules/core/i18n"],(function(e,t,a,n,s,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onPaymentMethodSelected=function(e){t.props.updatePaymentMethod(e)},t}return a.__extends(t,e),t.prototype.getLabelForMethodId=function(e){return e===s.PaymentMethod.CreditCard?n.default.createElement(i.PaymentMethodOption,{key:"payment-method#"+e,paymentMethod:s.PaymentMethod.CreditCard,selected:this.props.paymentMethod===s.PaymentMethod.CreditCard,onSelected:this.onPaymentMethodSelected,icons:this.props.paymentSpec.supported_credit_cards_for_country(this.props.countryCode),isTeam:this.props.isTeam,numberOfPaymentMethods:this.props.paymentSpec.available_payment_methods_for_country(this.props.countryCode).length}):e===s.PaymentMethod.PayPal?n.default.createElement(i.PaymentMethodOption,{key:"payment-method#"+e,paymentMethod:s.PaymentMethod.PayPal,selected:this.props.paymentMethod===s.PaymentMethod.PayPal,onSelected:this.onPaymentMethodSelected,icons:["paypal"],isTeam:this.props.isTeam,numberOfPaymentMethods:this.props.paymentSpec.available_payment_methods_for_country(this.props.countryCode).length}):e===s.PaymentMethod.DirectDeposit?n.default.createElement(i.PaymentMethodOption,{key:"payment-method#"+e,isTeam:this.props.isTeam,labelText:r.intl.formatMessage({defaultMessage:"Direct Debit"}),numberOfPaymentMethods:this.props.paymentSpec.available_payment_methods_for_country(this.props.countryCode).length,onSelected:this.onPaymentMethodSelected,paymentMethod:s.PaymentMethod.DirectDeposit,selected:this.props.paymentMethod===s.PaymentMethod.DirectDeposit}):null},t.prototype.render=function(){var e=this,t=this.props,a=t.countryCode,s=t.paymentSpec.available_payment_methods_for_country(a).map((function(t){return e.getLabelForMethodId(t)}));return n.default.createElement("div",{className:"payment-method-selector payment-info__selector grid__item"},s)},t})((n=a.__importDefault(n)).default.Component);t.PaymentMethodSelector=o})),define("modules/clean/react/payments/update_team_billing/reducers",["require","exports","tslib","modules/clean/react/payments/common/form/reducers/reducers","modules/clean/react/payments/common/payments/reducers/reducers","modules/clean/react/payments/common/pricing/reducers/reducers"],(function(e,t,a,n,s,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BillingReducer=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.reduce((function(e,t){return function(a,n){return t(e(a,n),n)}}))}.apply(void 0,a.__spreadArrays([function(e,t){return"SubmitFormSuccess"!==t.type?e:a.__assign(a.__assign({},e),{pageState:a.__assign(a.__assign({},e.pageState),{submitSuccess:!0})})},n.FormReducer],s.PaymentMethodReducers,i.TransitionManagementReducers))})),define("modules/clean/react/payments/update_team_billing/update_team_actions",["require","exports","tslib","modules/core/i18n","modules/core/notify","modules/clean/payments/payment_form/payment_form_spec","modules/clean/react/payments/common/form/actions/actions"],(function(e,t,a,n,s,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=a.__importStar(i),t.submitTeamBillingForm=function(e,t,a,n,s,o){return function(l,d){var u,c=d(),p=c.formData,m=p.countryCode.formattedValue,_=c.pageState.paymentFormSpec,f=["countryCode"];_.allow_zip_code_for_country(m)&&f.push("zipCode"),_.should_show_vat_for_country(m)&&f.push("vat"),t&&_.should_require_cpf(m,c.formData.paymentMethod.formattedValue)&&(f.push("cpf"),a&&f.push("cpfName")),_.showPSD2FieldsToUser(p.paymentMethod.formattedValue,m,!!n)&&f.push("name","city","address"),c.formData.paymentMethod.formattedValue===i.PaymentMethod.CreditCard?(f.push("nonce"),f.push("adyenEncryptedCard"),f.push("encryptedCardForNetworkToken"),f.push("bin"),f.push("browserInfo"),f.push("threeDsData"),u="/team/payments/ajax_update_billing_credit_card"):c.formData.paymentMethod.formattedValue===i.PaymentMethod.DirectDeposit?(f.push("accountHolderName","iban","mandateSigned"),u="/team/payments/ajax_update_billing_direct_debit"):u="/team/payments/ajax_update_billing_paypal",l(r.submitForm(u,f,e,{payment_method:c.formData.paymentMethod.formattedValue,request_id:c.pageState.requestId,submit_seq:c.pageState.submitSeq},void 0,s,o))}},t.updateBillingCountryCode=function(e){return function(t,a){var i=a(),o=i.pageState.countryToCurrencyMap;!(e in o)&&i.formData.countryCode.formattedValue in o?s.Notify.error(n.intl.formatMessage({defaultMessage:"You can’t change to a country with a different currency. For help, contact support."}),3):t(r.updateCountryCode(e))}}})),define("modules/clean/react/payments/update_team_billing/update_team_store_creator",["require","exports","tslib","redux","redux-thunk","modules/clean/react/payments/common/middleware/payments_ux_logger","modules/clean/redux/unsupported","modules/clean/analytics","modules/clean/dbmodal_stack","modules/clean/react/modal","modules/clean/react/payments/common/form/middleware/middleware","modules/clean/react/payments/common/payments/state/store_creator","modules/clean/react/payments/common/form_value_factory","modules/core/i18n","modules/core/notify","modules/clean/react/payments/update_individual_billing/update_individual_store_creator"],(function(e,t,a,n,s,i,r,o,l,d,u,c,p,m,_,f){"use strict";function g(e){return function(e){return function(t){if("SubmitFormSuccess"!==t.type)return e(t);var a=e(t);return _.Notify.success(m.intl.formatMessage({defaultMessage:"We’ve successfully updated your team’s billing information."})),o.TeamsWebActionsLogger.log("update_billing_open_save_changes_success"),d.Modal.close(),l.DBModalStack.trigger(f.BILLING_INFO_UPDATED,null),a}}}function h(e,t,a){var n=e.vat,s=e.countryCode,i=e.userInfo,r=c.createPaymentFormData(e,t,a),o=r.paymentMethod,l=r.countryCode,d=r.zipCode,u=r.vat,m=r.cpf,_=r.nonce,f=r.payPalNonce,g=r.adyenEncryptedCard,h=r.encryptedCardForNetworkToken,y=r.bin,M=r.browserInfo,b=r.threeDsData,S=r.accountHolderName,v=r.iban,L=r.mandateSigned,T=r.termsAndService,w=r.idealBankId,D=r.idealBankName;return{city:r.city,phone:r.phone,name:r.name,address:r.address,paymentMethod:o,countryCode:l,zipCode:d,vat:n?p.FormValueFactory.createVat(n,s):u,cpf:m,cpfName:p.FormValueFactory.createCpfNamePrefill("","",i.displayName),nonce:_,payPalNonce:f,bin:y,browserInfo:M,threeDsData:b,adyenEncryptedCard:g,encryptedCardForNetworkToken:h,accountHolderName:S,iban:v,mandateSigned:L,termsAndService:T,idealBankId:w,idealBankName:D}}Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),s=a.__importDefault(s),t.submitFormSuccessMiddleware=g,t.createBillingStore=function(e,t){var a=(function(e){var t=(function(e){var t=c.createPaymentPageState(e).paymentFormSpec;return{countryToCurrencyMap:e.countryToCurrencyMap,submitState:null,submitSuccess:!1,submitting:!1,submitSeq:0,paypalEmail:"",requestId:e.requestId,paymentFormSpec:t}})(e),a=(function(e){var t=c.createPaymentPricingState(e),a=t.countryCode,n=t.countryCodeLoading,s=t.hasCurrencyChanged,i=t.hasTaxChangedWithinCountry,r=t.loadingPrices,o=t.recentLoadEvent,l=t.requestToken;return{countryCode:a,countryCodeLoading:n,hasCurrencyChanged:s,hasTaxChangedWithinCountry:i,loadingPrices:r,recentLoadEvent:o,requestToken:l}})(e);return{pricingState:a,pageState:t,formData:h(e,t,a)}})(e),o=n.applyMiddleware(s.default,u.submitFormErrorMiddleware,g,new i.PaymentsUXLogger(e.requestId).reduxMiddleware);return r.createStore(t,a,o)},t.createFormData=h})),define("modules/clean/react/survey/types/survey_types",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(function(e){e.TOO_EXPENSIVE="101",e.TECH_ISSUES="102",e.BETTER_ALTERNATIVE="103",e.TEMPORARY_NEED="104",e.NOT_SATISFIED="105",e.OTHER="106",e.SWITCH_TO_BUSINESS="107",e.MAJOR_LIFE_CHANGE="108",e.NEED_DIFFERENT_PLAN="109",e.USING_ANOTHER_SERVICE="110",e.NOT_ENOUGH_STORAGE="111",e.COVID_19="112"})(t.SurveyReason||(t.SurveyReason={}))})),define("modules/clean/react/trials/components/shared/types",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(function(e){e.PRIMARY="primary",e.SECONDARY="secondary",e.UPDATE_BILLING="update_billing",e.CANCEL_PLAN="cancel_plan",e.CANCEL_TRIAL="cancel_trial",e.CHANGE_PLAN="change_plan",e.CLOSE_MODAL="close_modal",e.FEATURE="feature",e.TOUR_PROFESSIONAL="tour_professional",e.TRY_FREE="try_free",e.PURCHASE="purchase",e.CANCEL="cancel",e.REFUND="refund"})(t.ButtonType||(t.ButtonType={})),(function(e){e.CANCEL_TRIAL="cancel_trial",e.IN_TRIAL="in_trial",e.SERVER_VIEW="server_view",e.START_TRIAL="start_trial"})(t.FlowType||(t.FlowType={})),(function(e){e.ACCOUNT_PLAN="account_plan",e.CONGRATS="congrats",e.DIRECT_PURCHASE="direct_purchase",e.CANCEL_PLUS_INFO="cancel_plus_info",e.CANCEL_PRO_INFO="cancel_pro_info",e.SURVEY="survey",e.PRO_TRIAL_FEATURES="pro_trial_features",e.TRY_PRO="try_pro",e.WELCOME="welcome",e.UPGRADE="upgrade",e.BUSINESS_MERGE="business_merge"})(t.ScreenType||(t.ScreenType={})),(function(e){e.NO_TRIAL_DATA="no_trial_data",e.NO_USER_DATA="no_user_data",e.STATUS_NOT_OK="status_not_ok"})(t.ErrorType||(t.ErrorType={})),(function(e){e.CANCEL_PRO_TRIAL="cancel_professional_trial",e.START_PRO_TRIAL="start_professional_trial",e.UPGRADE_TO_PRO="upgrade_to_professional"})(t.RequestType||(t.RequestType={})),(function(e){e.P2P_TRIAL_START="p2pTrialStart",e.P2P_TRIAL_UPGRADE="p2pTrialUpgrade"})(t.TrialModal||(t.TrialModal={}))})),define("modules/clean/react/trials/components/shared/logging",["require","exports","tslib","modules/core/browser","modules/clean/server_side_client_view_bridge","modules/core/i18n","modules/clean/react/trials/components/shared/types","modules/core/notify","modules/clean/analytics","modules/core/uri"],(function(e,t,a,n,s,i,r,o,l,d){"use strict";function u(e,t,n,s,i,r){void 0===s&&(s={});var o=r?"link":"button";return l.ProEventsLogger.log("p2pt_"+e+"_"+t+"_"+o+"_clicked",a.__assign(a.__assign({},s),{screenType:n}),i)}function c(e){return n.redirect(p(e))}function p(e){var t=d.URI.parse(e);return t.updateQuery("tk","p2p"),t.toString()}Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),s=a.__importStar(s),t.logClick=u,t.logDisplay=function(e,t,n,s){return void 0===n&&(n={}),l.ProEventsLogger.log("p2pt_"+e+"_screen_displayed",a.__assign(a.__assign({},n),{screenType:t}),s)},t.logClickAndOpenLink=function(e,t,a,i,o,l,d){void 0===o&&(o={});var c=e===r.FlowType.SERVER_VIEW&&l?s.OpenCredentialedBrowser(p(i),l):n.open_tab(p(i));return u(e,t,a,o,(function(){return c}),d)},t.logClickAndRedirectTo=function(e,t,a,n){return void 0===n&&(n=r.ButtonType.PRIMARY),u(e,n,t,{},(function(){return c(a)}))},t.logSurveyOptionsOrder=function(e,t,n,s){return void 0===n&&(n={}),l.ProEventsLogger.log("p2pt_"+e+"_survey_options_order",a.__assign(a.__assign({},n),{screenType:t}),s)},t.logTrialErrorAndNotify=function(e,t,a,n,s,r){s=s||i.intl.formatMessage({defaultMessage:"There was an error changing the plan!"}),l.ProEventsLogger.log("p2pt_"+e+"_error",{requestType:t,screenType:a,errorMessage:s,errorExtra:r},n),o.Notify.error(s)},t.logTrialSuccess=function(e,t,a,n){return l.ProEventsLogger.log("p2pt_"+e+"_success",{requestType:t,screenType:a},n)},t.redirectTo=c,t.trackedUrl=p}));
//# sourceMappingURL=pkg-account_subscription_core.min.js-vfl-Y1uA6.map